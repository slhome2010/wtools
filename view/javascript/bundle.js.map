{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/node-polyglot/build/polyglot.js","webpack:///./node_modules/webix-jet/dist/JetApp.js","webpack:///./node_modules/webix-jet/dist/JetBase.js","webpack:///./node_modules/webix-jet/dist/JetView.js","webpack:///./node_modules/webix-jet/dist/JetViewLegacy.js","webpack:///./node_modules/webix-jet/dist/JetViewRaw.js","webpack:///./node_modules/webix-jet/dist/helpers.js","webpack:///./node_modules/webix-jet/dist/index.js","webpack:///./node_modules/webix-jet/dist/patch.js","webpack:///./node_modules/webix-jet/dist/plugins/Guard.js","webpack:///./node_modules/webix-jet/dist/plugins/Locale.js","webpack:///./node_modules/webix-jet/dist/plugins/Menu.js","webpack:///./node_modules/webix-jet/dist/plugins/Status.js","webpack:///./node_modules/webix-jet/dist/plugins/Theme.js","webpack:///./node_modules/webix-jet/dist/plugins/UrlParam.js","webpack:///./node_modules/webix-jet/dist/plugins/User.js","webpack:///./node_modules/webix-jet/dist/routers/EmptyRouter.js","webpack:///./node_modules/webix-jet/dist/routers/HashRouter.js","webpack:///./node_modules/webix-jet/dist/routers/StoreRouter.js","webpack:///./node_modules/webix-jet/dist/routers/UrlRouter.js","webpack:///./node_modules/webix-routie/lib/routie.js","webpack:///./sources/admin.js","webpack:///./sources/assets/theme.siberia.less","webpack:///./sources/locales sync ^\\.\\/.*$","webpack:///./sources/locales/ru.js","webpack:///./sources/models/column_left.js","webpack:///./sources/models/data_arrays.js","webpack:///./sources/models/events.js","webpack:///./sources/models/files.js","webpack:///./sources/models/orders.js","webpack:///./sources/models/products.js","webpack:///./sources/models/session.js","webpack:///./sources/models/topsales.js","webpack:///./sources/models/totalchart.js","webpack:///./sources/models/visitors.js","webpack:///./sources/views sync ^\\.\\/.*$","webpack:///./sources/views/app.js","webpack:///./sources/views/calendar.js","webpack:///./sources/views/charts.js","webpack:///./sources/views/dashboard.js","webpack:///./sources/views/datatables.js","webpack:///./sources/views/discounts.js","webpack:///./sources/views/files.js","webpack:///./sources/views/forms.js","webpack:///./sources/views/forms/loginform.js","webpack:///./sources/views/forms/order.js","webpack:///./sources/views/forms/user_group.js","webpack:///./sources/views/forms/user_group_win.js","webpack:///./sources/views/gsms.js","webpack:///./sources/views/history.js","webpack:///./sources/views/items.js","webpack:///./sources/views/login.js","webpack:///./sources/views/login2.js","webpack:///./sources/views/menus/contextmenu.js","webpack:///./sources/views/menus/datebar.js","webpack:///./sources/views/menus/export.js","webpack:///./sources/views/menus/formview.js","webpack:///./sources/views/menus/mail.js","webpack:///./sources/views/menus/message.js","webpack:///./sources/views/menus/profile.js","webpack:///./sources/views/menus/search.js","webpack:///./sources/views/menus/sidebar.js","webpack:///./sources/views/menus/toolbar.js","webpack:///./sources/views/menus/toolplug.js","webpack:///./sources/views/modules/bestsellers.js","webpack:///./sources/views/modules/chart_diff.js","webpack:///./sources/views/modules/dashline.js","webpack:///./sources/views/modules/data_pager.js","webpack:///./sources/views/modules/data_progress.js","webpack:///./sources/views/modules/data_rating.js","webpack:///./sources/views/modules/data_spans.js","webpack:///./sources/views/modules/data_treetable.js","webpack:///./sources/views/modules/diffchart.js","webpack:///./sources/views/modules/editor.js","webpack:///./sources/views/modules/form_event.js","webpack:///./sources/views/modules/form_project.js","webpack:///./sources/views/modules/form_style.js","webpack:///./sources/views/modules/form_user.js","webpack:///./sources/views/modules/groupfilter.js","webpack:///./sources/views/modules/lastobjects.js","webpack:///./sources/views/modules/map.js","webpack:///./sources/views/modules/messages.js","webpack:///./sources/views/modules/onlinefilter.js","webpack:///./sources/views/modules/order_statesfilter.js","webpack:///./sources/views/modules/orderschart.js","webpack:///./sources/views/modules/paging.js","webpack:///./sources/views/modules/product_meta.js","webpack:///./sources/views/modules/product_search.js","webpack:///./sources/views/modules/product_upload.js","webpack:///./sources/views/modules/revenue.js","webpack:///./sources/views/modules/scheduler.js","webpack:///./sources/views/modules/statusfilter.js","webpack:///./sources/views/modules/tasks.js","webpack:///./sources/views/modules/taskschart.js","webpack:///./sources/views/modules/topsales.js","webpack:///./sources/views/modules/totalchart.js","webpack:///./sources/views/modules/visitors.js","webpack:///./sources/views/orders.js","webpack:///./sources/views/owners.js","webpack:///./sources/views/product_edit.js","webpack:///./sources/views/products.js","webpack:///./sources/views/report_billing.js","webpack:///./sources/views/report_objects.js","webpack:///./sources/views/report_stat.js","webpack:///./sources/views/report_suspicious.js","webpack:///./sources/views/servers.js","webpack:///./sources/views/settings.js","webpack:///./sources/views/tarifs.js","webpack:///./sources/views/templates/deleted.js","webpack:///./sources/views/templates/eye.js","webpack:///./sources/views/templates/online.js","webpack:///./sources/views/templates/order_states.js","webpack:///./sources/views/templates/status.js","webpack:///./sources/views/test.js","webpack:///./sources/views/trackers.js","webpack:///./sources/views/user_api.js","webpack:///./sources/views/user_groups.js","webpack:///./sources/views/users.js","webpack:///./sources/views/vehicles.js","webpack:///./sources/views/webix/ckeditor.js","webpack:///./sources/views/webix/icon.js","webpack:///./sources/views/webix/menutree.js","webpack:///./sources/views/webix/scheduler.js","webpack:///./sources/views/wialongroups.js"],"names":["root","factory","define","Polyglot","options","phrases","extend","currentLocale","locale","allowMissing","warn","VERSION","prototype","newLocale","morePhrases","prefix","phrase","key","hasOwnProperty","clear","replace","newPhrases","t","result","smart_count","_","clone","choosePluralForm","interpolate","has","delimeter","pluralTypes","chinese","n","german","french","russian","czech","polish","icelandic","pluralTypeToLanguages","langToTypeMap","mapping","type","langs","l","ret","trim","str","trimRe","text","count","texts","chosenText","split","pluralTypeIndex","pluralTypeName","langToPluralType","en","arg","RegExp","message","console","source","prop","__extends","extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","__","constructor","create","JetApp","_super","config","_this","call","webix","name","version","start","_name","_services","EventSystem","getService","obj","setService","handler","copyConfig","target","$ui","$subview","addSubView","method","point","DataCollection","Date","getRouter","$router","clickHandler","e","srcElement","getAttribute","trigger","route","show","refresh","temp","_container","_view","destructor","render","parse","get","_parent","loadView","url","views","Promise","resolve","_loadError","Error","view","__esModule","default","then","catch","err","createFromURL","now","chunk","page","getName","ui","createView","_render","canNavigate","redirect","confirm","res","callEvent","reject","rest","_i","arguments","length","apply","data","action","bind","on","attachEvent","use","plugin","error","er","debug","i","indexOf","document","body","innerHTML","expire","firstInit","_first_start","strUrl","url2str","newurl","set","silent","_render_stage","parsed","freeze","oldview","getRoot","getParentView","_root","_urlChange","_$url","alert","cb","a","setTimeout","router","animation","node_1","html","addCss","removeCss","template","uid","id","JetBase","_id","_events","_subs","_data","events","detachEvent","subView","app","setParam","value","_a","getParam","parent","getUrl","_url","_index","index","_init_url_data","toNode","getIndex","getId","$$","queryView","localId","code","push","contains","kid","getSubView","sub","getSubViewInfo","subview","params","JetView","_children","container","jetview","path","substr","parent_1","currentUrl","isArray","encodeURIComponent","join","next","newChunk","slice","url_1","concat","urlstr_1","_finishShow","init","_$view","ready","urlChange","destroy","uis","cfg","_render_final","prev","$destructed","response","$scope","parent_2","_init","_initError","waits","frame","map","_createSubView","_renderSubView","suburl","all","cell","_renderPartial","JetViewLegacy","_ui","_windows","jet1xMode","$ondestroy","window_1","legacyEarlyInit","_realInitHandler","$oninit","$onevent","windows","$windows","windows_1","conf","onurlchange","$onurlchange","JetViewRaw","diff","oUrl","nUrl","left","right","parts","chunks","test_1","pos","params_1","param","dchunk","decodeURIComponent","stack","stack_1","obj2str","plugins","UnloadGuard","Locale","Menu","Theme","User","Status","UrlParam","window","promise","w","some","$freeze","resize","res_1","storage","lang","service","polyglot","getLang","setLang","poly","put","urls","getValue","setValue","getSelectedId","segment","select","exists","baseicons","basetext","status","iserror","expireDelay","icons","content","area","setHTML","success","setStatus","fail","getStatus","hideStatus","mode","responseText","track","dp","remote","ajax","request","headers","files","theme","getTheme","setTheme","links","getElementsByTagName","lname","disabled","skin","copyParams","splice","login","logout","afterLogin","afterLogout","ping","model","user","getUser","server","pass","_$root","setInterval","EmptyRouter","_$config","HashRouter","_prefix","routerPrefix","rcb","_$a","routie","_lastUrl","routes","compare","navigate","location","hash","StoreRouter","storeName","session","UrlRouter","onpopstate","history","pushState","pathname","Routie","isModule","reference","oldReference","oldUrl","Route","keys","fns","regex","pathToRegexp","addHandler","fn","removeHandler","c","f","run","match","m","exec","len","val","toURL","sensitive","strict","slash","format","capture","optional","s","reload","lookup","remove","removeAll","removeListener","addListener","noConflict","getHash","substring","checkRoute","hashChanged","state","addEventListener","removeEventListener","module","exports","i18n","setLocale","startOnMonday","env","touch","scrollSize","CustomScroll","delay","width","title","locales","groupDelimiter","groupSize","decimalDelimiter","decimalSize","dateFormat","timeFormat","longDateFormat","fullDateFormat","price","priceSettings","calendar","monthFull","monthShort","dayFull","dayShort","hours","minutes","done","today","dataExport","of","PDFviewer","automaticZoom","actualSize","pageFit","pageWidth","pageHeight","aria","increaseValue","decreaseValue","navMonth","navYear","navDecade","monthFormat","yearFormat","hourFormat","minuteFormat","removeItem","pages","headermenu","openGroup","closeGroup","closeTab","showTabs","resetTreeMap","navTreeMap","nextTab","prevTab","multitextSection","multitextextraSection","showChart","hideChart","resizeChart","richtext","underline","bold","italic","combo","selectAll","unselectAll","menudata","token","rating","rank","treetable","open","sales","colspans","region","$css","spans","progress","weekStart","monthStart","day","dayStart","day2","add","copy","monthStart2","weekStart2","weekStart1","start_date","end_date","chartdata","post","json","username","password","productId","selection","AppView","layout","userinfo","setValues","user_id","thumb","mainToolbar","elements","label","logo","height","css","borderless","icon","popup","badge","rows","scroll","cols","require","minHeight","gravity","discountView","updateFromResponse","grid","clipboard","multiselect","editable","editaction","checkboxRefresh","columns","header","sort","minWidth","fillspace","editor","common","pager","save","onClick","hide","lastid","getLastId","ProgressBar","multiview","keepViews","dataFeed","current_discount_id","getItem","discount_id","load","labelWidth","readonly","invalidMessage","labelAlign","placeholder","required","maxHeight","margin","click","back","form","validate","getValues","XmlHttpRequest","JSON","warning","rules","isNumber","discount_views","cells","outplugins","hidden","FMView","disabledHistory","loginf","maxWidth","paddingX","paddingY","elementsConfig","align","log","send","name1","isNotEmpty","modal","head","gsmView","current_gsm_id","gsm_id","gsm_views","ItemView","xml_format","strToDate","hgrid","dateToStr","scheme","$init","hform","current_item_id","item_id","deleted","clearAll","owner_id","history_grid","date_changed","date_start","by","dir","months","billing_grid","footer","stringResult","colspan","date_popup","position","set_date_changed","getTopParentView","iform","tabbar","animate","values","tarif_id","Number","tarif_group_id","discount_group_id","getMonth","getDate","getFullYear","date_end","isDirty","item_views","LoginView","$view","querySelector","focus","do_login","login_form","labelPosition","hotkey","error_warning","context","padding","task","$template","onItemClick","backendController","selRows","daterange","onChange2","onChange","newVal","oldVal","picker_form","dayMilliseconds","validInterval","new_date","diff1","Math","abs","parseInt","diff2","setDate","filterByAll","controls","tooltip","table","excellview","toExcel","toPNG","autoheight","personId","onMenuItemClick","inputWidth","toggle","onBeforeSelect","$count","onAfterSelect","menu_item","details","onAfterLoad","firstid","getFirstId","MenuView","wxgrid","showProgress","hideProgress","wxform","xml","xhr","item","showItem","getSelectedItem","forEach","idx","arr","ok","cancel","callback","request_val","grid_id","onLabel","offLabel","selectRange","clearSelection","list","total_objects","total_on","total_online","total_offline","ownername","dataset","sales2","year","chart","barWidth","bottom","radius","yAxis","xAxis","lines","legend","valign","color","markerType","$group","salesA","salesB","salesAverage","getAverage","series","gradient","alpha","borderColor","line","property","summ","parseFloat","src","DataPagerView","titlePager","gridPager","priceFormat","export","webix_icon","size","group","DataProgressView","titleProgress","gridProgress","className","DataRatingView","titleRating","gridRating","rating_star","ev","row","column","updateItem","DataSpansView","titleGroup","gridGroup","DataTreeTableView","titleTree","gridTree","folder","close","tasks","shadow","top","vertical","language","timepicker","step","datafilter","eyeFilter","getInputNode","node","firstChild","toString","master","registerFilter","filter","onchange","onclick","preventEvent","columnId","zoom","center","time","onlFilter","staFilter","OrdersChartView","paging","autosize","SearchView","rowHeight","usage","upload","onFileUploadError","apiOnly","fileDialog","rowid","onDestruct","offset","donut1","pieInnerText","donut2","donut3","SchedulerView","onDateSelect","date","scheduler","updateView","active","calendarId","tabs","xml_date","first_hour","last_hour","multi_day","templates","event_class","date_to_str","week1","week2","filter_day","filter_week","filter_month","event","week_scale_date","week_date","d1","d2","marker","check","$check","end","TopSalesView","ItemsChartView","VisitorsView","OrderView","secondsToDhms","seconds","floor","h","dDisplay","hDisplay","mDisplay","sDisplay","sortByAge","_Age","ageFilter","textFilter","agePrepare","filterValue","filterObject","ageCompare","columnValue","toLowerCase","compareMethod","prepare","_age","order_views","OwnerView","grouplist","labelBottomLeft","labelBottomRight","current_owner_id","dbllist","promise2","promise3","form_for_save","isEmail","owner_views","ProductEditView","buttons","optionWidth","ProductsView","attachTo","getNode","onContext","statusName","logEvent","args","toPDF","new_item","toolbar","ReportBillingView","report_treetable_group","total","numberFormat","$sort","as","report_treetable_tree","$level","event_name","myjson","DataDriver","child","owner_tree","threeState","datatype","checking_form","billing_treetable","checked","getChecked","query","billing_report","billing_report_views","ReportObjectsView","itemName","off","disconnect","$change","minworkdays","onBeforeLoad","hideOverlay","showOverlay","orgindex","each","onTotal","summColumn","offTotal","disconnectTotal","totalTolal","GroupMethods","workon","counton","countoff","countdisconnect","maxtotal","workoff","workdisconnect","worktotal","openAll","closeAll","ReportStatView","minItemWidth","initCount","documentElement","clientWidth","dataview","xCount","charAt","yCount","newv","oldv","selectind","_winresize","resizeDataview","_tooltip","relocaleTooltips","sync","$width","adjust","querySelectorAll","eventRemove","serverView","current_server_id","server_id","server_views","settingView","position_options","propertysheet","complexData","sform","getFormView","errtext","TarifView","current_tarif_id","tarif_views","test","trackerView","tracker_id","protoUI","serialize","datatable","grid_hw","current_tracker_id","editStop","request_post","tracker_views","UserGroupView","user_group_id","current_group_id","checkValue","uncheckValue","permissions","user_group","UserView","current_user_id","$","find","attr","user_views","vehicleView","first","last","current_vehicle_id","vehicle_id","vehicle_views","defaults","_init_ckeditor_once","tid","textAreaID","CKEDITOR_BASEPATH","codebase","$height","_3rd_editor","CKEDITOR","_set_inner_size","x","y","$setSize","setData","getData","_focus_await","getEditor","$skin","$active","inputHeight","aheight","button","tree","getScheduler","_scheduler","$ready","_render_once","Scheduler","getSchedulerInstance","WialongroupView","disable","current_wialon_group_id","wialon_group_id","savind_form","changed","getDirtyValues","old_discount_id","old_tarif_id","wialon_group_views"],"mappings":"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AKnB,EAAC,MAAM,CAAP,EAAU,SAAS,KAAnB,EAA0B,QAAQ,GAAlC,EAAuC,OAAO,GAA9C,EALmB,CAAb,C;;;;;;;;;;;ACAP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gE;;;;;;;;;;;;;;;;;;;;;;;;;ACvMA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEqB8Y,O;;;;;;;;;mBACpBvd,M,qBAAQ;AA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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./assets/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./sources/admin.js\");\n","//     (c) 2012 Airbnb, Inc.\n//\n//     polyglot.js may be freely distributed under the terms of the BSD\n//     license. For all licensing information, details, and documention:\n//     http://airbnb.github.com/polyglot.js\n//\n//\n// Polyglot.js is an I18n helper library written in JavaScript, made to\n// work both in the browser and in Node. It provides a simple solution for\n// interpolation and pluralization, based off of Airbnb's\n// experience adding I18n functionality to its Backbone.js and Node apps.\n//\n// Polylglot is agnostic to your translation backend. It doesn't perform any\n// translation; it simply gives you a way to manage translated phrases from\n// your client- or server-side JavaScript application.\n//\n\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], function() {\n      return factory(root);\n    });\n  } else if (typeof exports === 'object') {\n    module.exports = factory(root);\n  } else {\n    root.Polyglot = factory(root);\n  }\n}(this, function(root) {\n  'use strict';\n\n  // ### Polyglot class constructor\n  function Polyglot(options) {\n    options = options || {};\n    this.phrases = {};\n    this.extend(options.phrases || {});\n    this.currentLocale = options.locale || 'en';\n    this.allowMissing = !!options.allowMissing;\n    this.warn = options.warn || warn;\n  }\n\n  // ### Version\n  Polyglot.VERSION = '0.4.3';\n\n  // ### polyglot.locale([locale])\n  //\n  // Get or set locale. Internally, Polyglot only uses locale for pluralization.\n  Polyglot.prototype.locale = function(newLocale) {\n    if (newLocale) this.currentLocale = newLocale;\n    return this.currentLocale;\n  };\n\n  // ### polyglot.extend(phrases)\n  //\n  // Use `extend` to tell Polyglot how to translate a given key.\n  //\n  //     polyglot.extend({\n  //       \"hello\": \"Hello\",\n  //       \"hello_name\": \"Hello, %{name}\"\n  //     });\n  //\n  // The key can be any string.  Feel free to call `extend` multiple times;\n  // it will override any phrases with the same key, but leave existing phrases\n  // untouched.\n  //\n  // It is also possible to pass nested phrase objects, which get flattened\n  // into an object with the nested keys concatenated using dot notation.\n  //\n  //     polyglot.extend({\n  //       \"nav\": {\n  //         \"hello\": \"Hello\",\n  //         \"hello_name\": \"Hello, %{name}\",\n  //         \"sidebar\": {\n  //           \"welcome\": \"Welcome\"\n  //         }\n  //       }\n  //     });\n  //\n  //     console.log(polyglot.phrases);\n  //     // {\n  //     //   'nav.hello': 'Hello',\n  //     //   'nav.hello_name': 'Hello, %{name}',\n  //     //   'nav.sidebar.welcome': 'Welcome'\n  //     // }\n  //\n  // `extend` accepts an optional second argument, `prefix`, which can be used\n  // to prefix every key in the phrases object with some string, using dot\n  // notation.\n  //\n  //     polyglot.extend({\n  //       \"hello\": \"Hello\",\n  //       \"hello_name\": \"Hello, %{name}\"\n  //     }, \"nav\");\n  //\n  //     console.log(polyglot.phrases);\n  //     // {\n  //     //   'nav.hello': 'Hello',\n  //     //   'nav.hello_name': 'Hello, %{name}'\n  //     // }\n  //\n  // This feature is used internally to support nested phrase objects.\n  Polyglot.prototype.extend = function(morePhrases, prefix) {\n    var phrase;\n\n    for (var key in morePhrases) {\n      if (morePhrases.hasOwnProperty(key)) {\n        phrase = morePhrases[key];\n        if (prefix) key = prefix + '.' + key;\n        if (typeof phrase === 'object') {\n          this.extend(phrase, key);\n        } else {\n          this.phrases[key] = phrase;\n        }\n      }\n    }\n  };\n\n  // ### polyglot.clear()\n  //\n  // Clears all phrases. Useful for special cases, such as freeing\n  // up memory if you have lots of phrases but no longer need to\n  // perform any translation. Also used internally by `replace`.\n  Polyglot.prototype.clear = function() {\n    this.phrases = {};\n  };\n\n  // ### polyglot.replace(phrases)\n  //\n  // Completely replace the existing phrases with a new set of phrases.\n  // Normally, just use `extend` to add more phrases, but under certain\n  // circumstances, you may want to make sure no old phrases are lying around.\n  Polyglot.prototype.replace = function(newPhrases) {\n    this.clear();\n    this.extend(newPhrases);\n  };\n\n\n  // ### polyglot.t(key, options)\n  //\n  // The most-used method. Provide a key, and `t` will return the\n  // phrase.\n  //\n  //     polyglot.t(\"hello\");\n  //     => \"Hello\"\n  //\n  // The phrase value is provided first by a call to `polyglot.extend()` or\n  // `polyglot.replace()`.\n  //\n  // Pass in an object as the second argument to perform interpolation.\n  //\n  //     polyglot.t(\"hello_name\", {name: \"Spike\"});\n  //     => \"Hello, Spike\"\n  //\n  // If you like, you can provide a default value in case the phrase is missing.\n  // Use the special option key \"_\" to specify a default.\n  //\n  //     polyglot.t(\"i_like_to_write_in_language\", {\n  //       _: \"I like to write in %{language}.\",\n  //       language: \"JavaScript\"\n  //     });\n  //     => \"I like to write in JavaScript.\"\n  //\n  Polyglot.prototype.t = function(key, options) {\n    var phrase, result;\n    options = options == null ? {} : options;\n    // allow number as a pluralization shortcut\n    if (typeof options === 'number') {\n      options = {smart_count: options};\n    }\n    if (typeof this.phrases[key] === 'string') {\n      phrase = this.phrases[key];\n    } else if (typeof options._ === 'string') {\n      phrase = options._;\n    } else if (this.allowMissing) {\n      phrase = key;\n    } else {\n      this.warn('Missing translation for key: \"'+key+'\"');\n      result = key;\n    }\n    if (typeof phrase === 'string') {\n      options = clone(options);\n      result = choosePluralForm(phrase, this.currentLocale, options.smart_count);\n      result = interpolate(result, options);\n    }\n    return result;\n  };\n\n\n  // ### polyglot.has(key)\n  //\n  // Check if polyglot has a translation for given key\n  Polyglot.prototype.has = function(key) {\n    return key in this.phrases;\n  };\n\n\n  // #### Pluralization methods\n  // The string that separates the different phrase possibilities.\n  var delimeter = '||||';\n\n  // Mapping from pluralization group plural logic.\n  var pluralTypes = {\n    chinese:   function(n) { return 0; },\n    german:    function(n) { return n !== 1 ? 1 : 0; },\n    french:    function(n) { return n > 1 ? 1 : 0; },\n    russian:   function(n) { return n % 10 === 1 && n % 100 !== 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2; },\n    czech:     function(n) { return (n === 1) ? 0 : (n >= 2 && n <= 4) ? 1 : 2; },\n    polish:    function(n) { return (n === 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2); },\n    icelandic: function(n) { return (n % 10 !== 1 || n % 100 === 11) ? 1 : 0; }\n  };\n\n  // Mapping from pluralization group to individual locales.\n  var pluralTypeToLanguages = {\n    chinese:   ['fa', 'id', 'ja', 'ko', 'lo', 'ms', 'th', 'tr', 'zh'],\n    german:    ['da', 'de', 'en', 'es', 'fi', 'el', 'he', 'hu', 'it', 'nl', 'no', 'pt', 'sv'],\n    french:    ['fr', 'tl', 'pt-br'],\n    russian:   ['hr', 'ru'],\n    czech:     ['cs'],\n    polish:    ['pl'],\n    icelandic: ['is']\n  };\n\n  function langToTypeMap(mapping) {\n    var type, langs, l, ret = {};\n    for (type in mapping) {\n      if (mapping.hasOwnProperty(type)) {\n        langs = mapping[type];\n        for (l in langs) {\n          ret[langs[l]] = type;\n        }\n      }\n    }\n    return ret;\n  }\n\n  // Trim a string.\n  function trim(str){\n    var trimRe = /^\\s+|\\s+$/g;\n    return str.replace(trimRe, '');\n  }\n\n  // Based on a phrase text that contains `n` plural forms separated\n  // by `delimeter`, a `locale`, and a `count`, choose the correct\n  // plural form, or none if `count` is `null`.\n  function choosePluralForm(text, locale, count){\n    var ret, texts, chosenText;\n    if (count != null && text) {\n      texts = text.split(delimeter);\n      chosenText = texts[pluralTypeIndex(locale, count)] || texts[0];\n      ret = trim(chosenText);\n    } else {\n      ret = text;\n    }\n    return ret;\n  }\n\n  function pluralTypeName(locale) {\n    var langToPluralType = langToTypeMap(pluralTypeToLanguages);\n    return langToPluralType[locale] || langToPluralType.en;\n  }\n\n  function pluralTypeIndex(locale, count) {\n    return pluralTypes[pluralTypeName(locale)](count);\n  }\n\n  // ### interpolate\n  //\n  // Does the dirty work. Creates a `RegExp` object for each\n  // interpolation placeholder.\n  function interpolate(phrase, options) {\n    for (var arg in options) {\n      if (arg !== '_' && options.hasOwnProperty(arg)) {\n        // We create a new `RegExp` each time instead of using a more-efficient\n        // string replace so that the same argument can be replaced multiple times\n        // in the same phrase.\n        phrase = phrase.replace(new RegExp('%\\\\{'+arg+'\\\\}', 'g'), options[arg]);\n      }\n    }\n    return phrase;\n  }\n\n  // ### warn\n  //\n  // Provides a warning in the console if a phrase key is missing.\n  function warn(message) {\n    root.console && root.console.warn && root.console.warn('WARNING: ' + message);\n  }\n\n  // ### clone\n  //\n  // Clone an object.\n  function clone(source) {\n    var ret = {};\n    for (var prop in source) {\n      ret[prop] = source[prop];\n    }\n    return ret;\n  }\n\n  return Polyglot;\n}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { JetBase } from \"./JetBase\";\nimport { JetView } from \"./JetView\";\nimport { JetViewLegacy } from \"./JetViewLegacy\";\nimport { JetViewRaw } from \"./JetViewRaw\";\nimport { HashRouter } from \"./routers/HashRouter\";\nimport { parse, url2str } from \"./helpers\";\nimport \"./patch\";\nvar JetApp = (function (_super) {\n    __extends(JetApp, _super);\n    function JetApp(config) {\n        var _this = _super.call(this) || this;\n        _this.webix = config.webix || webix;\n        // init config\n        _this.config = _this.webix.extend({\n            name: \"App\",\n            version: \"1.0\",\n            start: \"/home\"\n        }, config, true);\n        _this._name = _this.config.name;\n        _this._services = {};\n        webix.extend(_this, webix.EventSystem);\n        return _this;\n    }\n    JetApp.prototype.getService = function (name) {\n        var obj = this._services[name];\n        if (typeof obj === \"function\") {\n            obj = this._services[name] = obj(this);\n        }\n        return obj;\n    };\n    JetApp.prototype.setService = function (name, handler) {\n        this._services[name] = handler;\n    };\n    // copy object and collect extra handlers\n    JetApp.prototype.copyConfig = function (obj, target, config) {\n        // raw ui config\n        if (obj.$ui) {\n            obj = { $subview: new JetViewLegacy(this, \"\", obj) };\n        }\n        else if (obj instanceof JetApp) {\n            obj = { $subview: obj };\n        }\n        // subview placeholder\n        if (obj.$subview) {\n            return this.addSubView(obj, target, config);\n        }\n        // process sub-properties\n        target = target || (obj instanceof Array ? [] : {});\n        for (var method in obj) {\n            var point = obj[method];\n            // view class\n            if (typeof point === \"function\" &&\n                point.prototype && point.prototype.config) {\n                point = { $subview: point };\n            }\n            if (point && typeof point === \"object\" &&\n                !(point instanceof webix.DataCollection)) {\n                if (point instanceof Date) {\n                    target[method] = new Date(point);\n                }\n                else {\n                    target[method] = this.copyConfig(point, (point instanceof Array ? [] : {}), config);\n                }\n            }\n            else {\n                target[method] = point;\n            }\n        }\n        return target;\n    };\n    JetApp.prototype.getRouter = function () {\n        return this.$router;\n    };\n    JetApp.prototype.clickHandler = function (e) {\n        if (e) {\n            var target = (e.target || e.srcElement);\n            if (target && target.getAttribute) {\n                var trigger = target.getAttribute(\"trigger\");\n                if (trigger) {\n                    this.trigger(trigger);\n                }\n                var route = target.getAttribute(\"route\");\n                if (route) {\n                    this.show(route);\n                }\n            }\n        }\n    };\n    JetApp.prototype.refresh = function () {\n        var temp = this._container;\n        this._view.destructor();\n        this._view = this._container = null;\n        this.render(temp, parse(this.getRouter().get()), this._parent);\n    };\n    JetApp.prototype.loadView = function (url) {\n        var _this = this;\n        var views = this.config.views;\n        var result = null;\n        if (url === \"\") {\n            return Promise.resolve(this._loadError(\"\", new Error(\"Webix Jet: Empty url segment\")));\n        }\n        try {\n            if (views) {\n                if (typeof views === \"function\") {\n                    // custom loading strategy\n                    result = views(url);\n                }\n                else {\n                    // predefined hash\n                    result = views[url];\n                }\n                if (typeof result === \"string\") {\n                    url = result;\n                    result = null;\n                }\n            }\n            if (!result) {\n                url = url.replace(/\\./g, \"/\");\n                var view = require(\"jet-views/\" + url);\n                if (view.__esModule) {\n                    view = view.default;\n                }\n                result = view;\n            }\n        }\n        catch (e) {\n            result = this._loadError(url, e);\n        }\n        // custom handler can return view or its promise\n        if (!result.then) {\n            result = Promise.resolve(result);\n        }\n        // set error handler\n        result = result.catch(function (err) { return _this._loadError(url, err); });\n        return result;\n    };\n    JetApp.prototype.createFromURL = function (url, now) {\n        var _this = this;\n        var chunk = url[0];\n        var name = chunk.page;\n        var view;\n        if (now && now.getName() === name) {\n            view = Promise.resolve(now);\n        }\n        else {\n            view = this.loadView(chunk.page)\n                .then(function (ui) { return _this.createView(ui, name); });\n        }\n        return view;\n    };\n    JetApp.prototype.createView = function (ui, name) {\n        var obj;\n        if (typeof ui === \"function\") {\n            if (ui.prototype && ui.prototype.show) {\n                // UI class\n                return new ui(this, name);\n            }\n            else {\n                // UI factory functions\n                ui = ui();\n            }\n        }\n        if (ui instanceof JetApp || ui instanceof JetView) {\n            obj = ui;\n        }\n        else {\n            // UI object\n            if (ui.$ui) {\n                obj = new JetViewLegacy(this, name, ui);\n            }\n            else {\n                obj = new JetViewRaw(this, name, ui);\n            }\n        }\n        return obj;\n    };\n    // show view path\n    JetApp.prototype.show = function (name) {\n        if (this.$router.get() !== name) {\n            this._render(name);\n        }\n        else {\n            return Promise.resolve(true);\n        }\n    };\n    JetApp.prototype.canNavigate = function (url, view) {\n        var obj = {\n            url: parse(url),\n            redirect: url,\n            confirm: Promise.resolve(true)\n        };\n        var res = this.callEvent(\"app:guard\", [url, (view || this._view), obj]);\n        if (!res) {\n            return Promise.reject(\"\");\n        }\n        return obj.confirm.then(function () { return obj.redirect; });\n    };\n    JetApp.prototype.destructor = function () {\n        this._view.destructor();\n    };\n    // event helpers\n    JetApp.prototype.trigger = function (name) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        this.apply(name, rest);\n    };\n    JetApp.prototype.apply = function (name, data) {\n        this.callEvent(name, data);\n    };\n    JetApp.prototype.action = function (name) {\n        return this.webix.bind(function () {\n            var rest = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                rest[_i] = arguments[_i];\n            }\n            this.apply(name, rest);\n        }, this);\n    };\n    JetApp.prototype.on = function (name, handler) {\n        this.attachEvent(name, handler);\n    };\n    JetApp.prototype.use = function (plugin, config) {\n        plugin(this, null, config);\n    };\n    JetApp.prototype.error = function (name, er) {\n        this.callEvent(name, er);\n        this.callEvent(\"app:error\", er);\n        /* tslint:disable */\n        if (this.config.debug) {\n            for (var i = 0; i < er.length; i++) {\n                console.error(er[i]);\n                if (er[i] instanceof Error) {\n                    var text = er[i].message;\n                    if (text.indexOf(\"Module build failed\") === 0) {\n                        text = text.replace(/\\x1b\\[[0-9;]*m/g, \"\");\n                        document.body.innerHTML = \"<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>\" + text + \"</pre>\";\n                    }\n                    else {\n                        text += \"<br><br>Check console for more details\";\n                        webix.message({ type: \"error\", text: text, expire: -1 });\n                    }\n                }\n            }\n            debugger;\n        }\n        /* tslint:enable */\n    };\n    // renders top view\n    JetApp.prototype._render = function (url) {\n        var _this = this;\n        var firstInit = !this.$router;\n        if (firstInit) {\n            webix.attachEvent(\"onClick\", function (e) { return _this.clickHandler(e); });\n            url = this._first_start(url);\n        }\n        var strUrl = typeof url === \"string\" ? url : url2str(url);\n        return this.canNavigate(strUrl).then(function (newurl) {\n            _this.$router.set(newurl, { silent: true });\n            return _this._render_stage(newurl);\n        }).catch(function () { return false; });\n    };\n    JetApp.prototype._render_stage = function (url) {\n        var _this = this;\n        var parsed = (typeof url === \"string\") ? parse(url) : url;\n        // block resizing while rendering parts of UI\n        return webix.ui.freeze(function () {\n            return _this.createFromURL(parsed, _this._view).then(function (view) {\n                // save reference for old and new views\n                var oldview = _this._view;\n                _this._view = view;\n                // render url state for the root\n                return view.render(_this._container, parsed, _this._parent).then(function (root) {\n                    // destroy and detack old view\n                    if (oldview && oldview !== _this._view) {\n                        oldview.destructor();\n                    }\n                    if (_this._view.getRoot().getParentView()) {\n                        _this._container = root;\n                    }\n                    _this._root = root;\n                    _this.callEvent(\"app:route\", [parsed]);\n                    return view;\n                });\n            }).catch(function (er) {\n                _this.error(\"app:error:render\", [er]);\n            });\n        });\n    };\n    JetApp.prototype._urlChange = function (_$url) {\n        alert(\"Not implemented\");\n        return Promise.resolve(true);\n    };\n    JetApp.prototype._first_start = function (url) {\n        var _this = this;\n        var cb = function (a) { return setTimeout(function () {\n            _this._render(a);\n        }, 1); };\n        this.$router = new (this.config.router || HashRouter)(cb, this.config);\n        // start animation for top-level app\n        if (this._container === document.body && this.config.animation !== false) {\n            var node_1 = this._container;\n            webix.html.addCss(node_1, \"webixappstart\");\n            setTimeout(function () {\n                webix.html.removeCss(node_1, \"webixappstart\");\n                webix.html.addCss(node_1, \"webixapp\");\n            }, 10);\n        }\n        if (!url || url.length === 1) {\n            url = this.$router.get() || this.config.start;\n            this.$router.set(url, { silent: true });\n        }\n        return url;\n    };\n    // error during view resolving\n    JetApp.prototype._loadError = function (url, err) {\n        this.error(\"app:error:resolve\", [err, url]);\n        return { template: \" \" };\n    };\n    JetApp.prototype.addSubView = function (obj, target, config) {\n        var url = obj.$subview !== true ? obj.$subview : null;\n        var name = obj.name || (url ? this.webix.uid() : \"default\");\n        target.id = obj.id || \"s\" + this.webix.uid();\n        var view = config[name] = { id: target.id, url: url };\n        if (view.url instanceof JetView) {\n            view.view = view.url;\n        }\n        return target;\n    };\n    return JetApp;\n}(JetBase));\nexport { JetApp };\n","var JetBase = (function () {\n    function JetBase() {\n        this._id = webix.uid();\n        this._events = [];\n        this._subs = {};\n        this._data = {};\n    }\n    JetBase.prototype.getRoot = function () {\n        return this._root;\n    };\n    JetBase.prototype.destructor = function () {\n        var events = this._events;\n        for (var i = events.length - 1; i >= 0; i--) {\n            events[i].obj.detachEvent(events[i].id);\n        }\n        // destroy sub views\n        for (var key in this._subs) {\n            var subView = this._subs[key].view;\n            // it possible that subview was not loaded with any content yet\n            // so check on null\n            if (subView) {\n                subView.destructor();\n            }\n        }\n        this._events = this._container = this.app = this._parent = null;\n    };\n    JetBase.prototype.setParam = function (id, value, url) {\n        if (this._data[id] !== value) {\n            this._data[id] = value;\n            if (this.app.callEvent(\"app:paramchange\", [this, id, value, url])) {\n                if (url) {\n                    // changing in the url\n                    this.show((_a = {}, _a[id] = value, _a));\n                }\n            }\n        }\n        var _a;\n    };\n    JetBase.prototype.getParam = function (id, parent) {\n        var value = this._data[id];\n        if (typeof value !== \"undefined\" || !parent) {\n            return value;\n        }\n        var view = this.getParentView();\n        if (view) {\n            return view.getParam(id, parent);\n        }\n    };\n    JetBase.prototype.getUrl = function () {\n        return this._url;\n    };\n    JetBase.prototype.render = function (root, url, parent) {\n        var _this = this;\n        this._parent = parent;\n        if (url) {\n            this._index = url[0].index;\n        }\n        this._init_url_data(url);\n        root = root || document.body;\n        var _container = (typeof root === \"string\") ? webix.toNode(root) : root;\n        if (this._container !== _container) {\n            this._container = _container;\n            return this._render(url).then(function () { return _this.getRoot(); });\n        }\n        else {\n            return this._urlChange(url).then(function () { return _this.getRoot(); });\n        }\n    };\n    JetBase.prototype.getIndex = function () {\n        return this._index;\n    };\n    JetBase.prototype.getId = function () {\n        return this._id;\n    };\n    JetBase.prototype.getParentView = function () {\n        return this._parent;\n    };\n    JetBase.prototype.$$ = function (id) {\n        if (typeof id === \"string\") {\n            return this.getRoot().queryView((function (obj) { return obj.config.id === id || obj.config.localId === id; }), \"self\");\n        }\n        else {\n            return id;\n        }\n    };\n    JetBase.prototype.on = function (obj, name, code) {\n        var id = obj.attachEvent(name, code);\n        this._events.push({ obj: obj, id: id });\n        return id;\n    };\n    JetBase.prototype.contains = function (view) {\n        for (var key in this._subs) {\n            var kid = this._subs[key].view;\n            if (kid === view || kid.contains(view)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    JetBase.prototype.getSubView = function (name) {\n        var sub = this.getSubViewInfo(name);\n        if (sub) {\n            return sub.subview.view;\n        }\n    };\n    JetBase.prototype.getSubViewInfo = function (name) {\n        var sub = this._subs[name || \"default\"];\n        if (sub) {\n            return { subview: sub, parent: this };\n        }\n        // when called from a child view, searches for nearest parent with subview\n        if (this._parent) {\n            return this._parent.getSubViewInfo(name);\n        }\n        return null;\n    };\n    JetBase.prototype.getName = function () {\n        return this._name;\n    };\n    JetBase.prototype._init_url_data = function (url) {\n        if (url && url[0]) {\n            this._data = {};\n            webix.extend(this._data, url[0].params, true);\n        }\n        this._url = url;\n    };\n    return JetBase;\n}());\nexport { JetBase };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { JetBase } from \"./JetBase\";\nimport { parse, url2str } from \"./helpers\";\nvar JetView = (function (_super) {\n    __extends(JetView, _super);\n    function JetView(app, name) {\n        var _this = _super.call(this) || this;\n        _this.app = app;\n        _this._name = name;\n        _this._children = [];\n        return _this;\n    }\n    JetView.prototype.ui = function (ui, config) {\n        config = config || {};\n        var container = config.container || ui.container;\n        var jetview = this.app.createView(ui);\n        this._children.push(jetview);\n        jetview.render(container, null, this);\n        if (typeof ui !== \"object\" || (ui instanceof JetBase)) {\n            // raw webix UI\n            return jetview;\n        }\n        else {\n            return jetview.getRoot();\n        }\n    };\n    JetView.prototype.show = function (path, config) {\n        var _this = this;\n        config = config || {};\n        // detect the related view\n        if (typeof path === \"string\") {\n            // root path\n            if (path.substr(0, 1) === \"/\") {\n                return this.app.show(path);\n            }\n            // parent path, call parent view\n            if (path.indexOf(\"../\") === 0) {\n                var parent_1 = this.getParentView();\n                if (parent_1) {\n                    parent_1.show(\"./\" + path.substr(3), config);\n                }\n                else {\n                    this.app.show(\"/\" + path.substr(3));\n                }\n                return;\n            }\n            // local path, do nothing\n            if (path.indexOf(\"./\") === 0) {\n                path = path.substr(2);\n            }\n            var sub = this.getSubViewInfo(config.target);\n            if (!sub) {\n                return this.app.show(\"/\" + path);\n            }\n            if (sub.parent !== this) {\n                return sub.parent.show(path, config);\n            }\n        }\n        var currentUrl = parse(this.app.getRouter().get());\n        // convert parameters to url\n        if (typeof path === \"object\") {\n            if (webix.isArray(path)) {\n                currentUrl[this._index + path[0]].page = path[1];\n                path = \"\";\n            }\n            else {\n                var temp = [];\n                for (var key in path) {\n                    temp.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(path[key]));\n                }\n                path = \"?\" + temp.join(\"&\");\n            }\n        }\n        // process url\n        if (typeof path === \"string\") {\n            // parameters only\n            if (path.substr(0, 1) === \"?\") {\n                var next = path.indexOf(\"/\");\n                var params = path;\n                if (next > -1) {\n                    params = path.substr(0, next);\n                }\n                var chunk = parse(params);\n                webix.extend(currentUrl[this._index - 1].params, chunk[0].params, true);\n                path = next > -1 ? path.substr(next + 1) : \"\";\n            }\n            var newChunk = path === \"\" ? currentUrl.slice(this._index) : parse(path);\n            var url_1 = null;\n            if (this._index) {\n                url_1 = currentUrl.slice(0, this._index).concat(newChunk);\n                for (var i = 0; i < url_1.length; i++) {\n                    url_1[i].index = i + 1;\n                }\n                var urlstr_1 = url2str(url_1);\n                return this.app.canNavigate(urlstr_1, this).then(function (redirect) {\n                    if (urlstr_1 !== redirect) {\n                        // url was blocked and redirected\n                        return _this.app.show(redirect);\n                    }\n                    else {\n                        return _this._finishShow(url_1, redirect);\n                    }\n                }).catch(function () { return false; });\n            }\n            else {\n                return this._finishShow(newChunk, \"\");\n            }\n        }\n    };\n    JetView.prototype.init = function (_$view, _$url) {\n        // stub\n    };\n    JetView.prototype.ready = function (_$view, _$url) {\n        // stub\n    };\n    JetView.prototype.config = function () {\n        this.app.webix.message(\"View:Config is not implemented\");\n    };\n    JetView.prototype.urlChange = function (_$view, _$url) {\n        // stub\n    };\n    JetView.prototype.destroy = function () {\n        // stub\n    };\n    JetView.prototype.destructor = function () {\n        this.destroy();\n        // destroy child views\n        var uis = this._children;\n        for (var i = uis.length - 1; i >= 0; i--) {\n            if (uis[i] && uis[i].destructor) {\n                uis[i].destructor();\n            }\n        }\n        // reset vars for better GC processing\n        this.app = this._children = null;\n        // destroy actual UI\n        this._root.destructor();\n        _super.prototype.destructor.call(this);\n    };\n    JetView.prototype.use = function (plugin, config) {\n        plugin(this.app, this, config);\n    };\n    JetView.prototype._render = function (url) {\n        var _this = this;\n        var config = this.config();\n        if (config.then) {\n            return config.then(function (cfg) { return _this._render_final(cfg, url); });\n        }\n        else {\n            return this._render_final(config, url);\n        }\n    };\n    JetView.prototype._render_final = function (config, url) {\n        var _this = this;\n        var prev = this._container;\n        if (prev && prev.$destructed) {\n            return Promise.reject(\"Container destroyed\");\n        }\n        var response;\n        // using wrapper object, so ui can be changed from app:render event\n        var result = { ui: {} };\n        this.app.copyConfig(config, result.ui, this._subs);\n        this.app.callEvent(\"app:render\", [this, url, result]);\n        result.ui.$scope = this;\n        try {\n            // special handling for adding inside of multiview - preserve old id\n            if (prev && prev.getParentView) {\n                var parent_2 = prev.getParentView();\n                if (parent_2 && parent_2.name === \"multiview\" && !result.ui.id) {\n                    result.ui.id = prev.config.id;\n                }\n            }\n            this._root = this.app.webix.ui(result.ui, this._container);\n            if (this._root.getParentView()) {\n                this._container = this._root;\n            }\n            this._init(this._root, url);\n            response = this._urlChange(url).then(function () {\n                return _this.ready(_this._root, url);\n            });\n        }\n        catch (e) {\n            response = Promise.reject(e);\n        }\n        return response.catch(function (err) { return _this._initError(_this, err); });\n    };\n    JetView.prototype._init = function (view, url) {\n        return this.init(view, url);\n    };\n    JetView.prototype._urlChange = function (url) {\n        var _this = this;\n        this.app.callEvent(\"app:urlchange\", [this, url, this._index]);\n        var waits = [];\n        for (var key in this._subs) {\n            var frame = this._subs[key];\n            if (frame.url) {\n                // we have fixed subview url\n                if (typeof frame.url === \"string\") {\n                    var parsed = parse(frame.url);\n                    parsed.map(function (a) { a.index = 0; });\n                    waits.push(this._createSubView(frame, parsed));\n                }\n                else {\n                    var view = frame.view;\n                    if (typeof frame.url === \"function\" && !(view instanceof frame.url)) {\n                        view = new frame.url(this.app, \"\");\n                    }\n                    if (!view) {\n                        view = frame.url;\n                    }\n                    waits.push(this._renderSubView(frame, view, url));\n                }\n            }\n            else if (key === \"default\" && url && url.length > 1) {\n                // we have an url and subview for it\n                var suburl = url.slice(1);\n                waits.push(this._createSubView(frame, suburl));\n            }\n        }\n        return Promise.all(waits).then(function () {\n            _this.urlChange(_this._root, url);\n        });\n    };\n    JetView.prototype._initError = function (view, err) {\n        this.app.error(\"app:error:initview\", [err, view]);\n        return true;\n    };\n    JetView.prototype._createSubView = function (sub, suburl) {\n        var _this = this;\n        return this.app.createFromURL(suburl, sub.view).then(function (view) {\n            return _this._renderSubView(sub, view, suburl);\n        });\n    };\n    JetView.prototype._renderSubView = function (sub, view, suburl) {\n        var cell = this.app.webix.$$(sub.id);\n        return view.render(cell, suburl, this).then(function (ui) {\n            // destroy old view\n            if (sub.view && sub.view !== view) {\n                sub.view.destructor();\n            }\n            // save info about a new view\n            sub.view = view;\n            sub.id = ui.config.id;\n            return ui;\n        });\n    };\n    JetView.prototype._finishShow = function (url, path) {\n        var next;\n        if (this._index) {\n            next = this._renderPartial(url.slice(this._index - 1));\n            this.app.getRouter().set(path, { silent: true });\n            this.app.callEvent(\"app:route\", [url]);\n        }\n        else {\n            url.map(function (a) { return a.index = 0; });\n            next = this._renderPartial([null].concat(url));\n        }\n        return next;\n    };\n    JetView.prototype._renderPartial = function (url) {\n        this._init_url_data(url);\n        return this._urlChange(url);\n    };\n    return JetView;\n}(JetBase));\nexport { JetView };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { JetView } from \"./JetView\";\n// wrapper for raw objects and Jet 1.x structs\nvar JetViewLegacy = (function (_super) {\n    __extends(JetViewLegacy, _super);\n    function JetViewLegacy(app, name, ui) {\n        var _this = _super.call(this, app, name) || this;\n        _this._ui = ui;\n        _this._windows = [];\n        return _this;\n    }\n    JetViewLegacy.prototype.getRoot = function () {\n        if (this.app.config.jet1xMode) {\n            var parent_1 = this.getParentView();\n            if (parent_1) {\n                return parent_1.getRoot();\n            }\n        }\n        return this._root;\n    };\n    JetViewLegacy.prototype.config = function () {\n        return this._ui.$ui || this._ui;\n    };\n    JetViewLegacy.prototype.destructor = function () {\n        var destroy = this._ui.$ondestroy;\n        if (destroy) {\n            destroy();\n        }\n        for (var _i = 0, _a = this._windows; _i < _a.length; _i++) {\n            var window_1 = _a[_i];\n            window_1.destructor();\n        }\n        _super.prototype.destructor.call(this);\n    };\n    JetViewLegacy.prototype.show = function (path, config) {\n        if (path.indexOf(\"/\") === 0 || path.indexOf(\"./\") === 0) {\n            return _super.prototype.show.call(this, path, config);\n        }\n        _super.prototype.show.call(this, \"../\" + path, config);\n    };\n    JetViewLegacy.prototype.init = function () {\n        if (this.app.config.legacyEarlyInit) {\n            this._realInitHandler();\n        }\n    };\n    JetViewLegacy.prototype.ready = function () {\n        if (!this.app.config.legacyEarlyInit) {\n            this._realInitHandler();\n        }\n    };\n    JetViewLegacy.prototype._realInitHandler = function () {\n        var init = this._ui.$oninit;\n        if (init) {\n            var root = this.getRoot();\n            init(root, root.$scope);\n        }\n        var events = this._ui.$onevent;\n        if (events) {\n            for (var key in events) {\n                this.on(this.app, key, events[key]);\n            }\n        }\n        var windows = this._ui.$windows;\n        if (windows) {\n            for (var _i = 0, windows_1 = windows; _i < windows_1.length; _i++) {\n                var conf = windows_1[_i];\n                if (conf.$ui) {\n                    var view = new JetViewLegacy(this.app, this.getName(), conf);\n                    view.render(document.body);\n                    this._windows.push(view);\n                }\n                else {\n                    this.ui(conf);\n                }\n            }\n        }\n    };\n    JetViewLegacy.prototype._urlChange = function (url) {\n        var _this = this;\n        return _super.prototype._urlChange.call(this, url).then(function () {\n            var onurlchange = _this._ui.$onurlchange;\n            if (onurlchange) {\n                var root = _this.getRoot();\n                onurlchange(url[0].params, url.slice(1), root.$scope);\n            }\n        });\n    };\n    return JetViewLegacy;\n}(JetView));\nexport { JetViewLegacy };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { JetView } from \"./JetView\";\n// wrapper for raw objects and Jet 1.x structs\nvar JetViewRaw = (function (_super) {\n    __extends(JetViewRaw, _super);\n    function JetViewRaw(app, name, ui) {\n        var _this = _super.call(this, app, name) || this;\n        _this._ui = ui;\n        return _this;\n    }\n    JetViewRaw.prototype.config = function () {\n        return this._ui;\n    };\n    return JetViewRaw;\n}(JetView));\nexport { JetViewRaw };\n","export function diff(oUrl, nUrl) {\n    var i = 0;\n    for (i; i < nUrl.length; i++) {\n        var left = oUrl[i];\n        var right = nUrl[i];\n        if (!left) {\n            break;\n        }\n        if (left.page !== right.page) {\n            break;\n        }\n        for (var key in left.params) {\n            if (left.params[key] !== right.params[key]) {\n                break;\n            }\n        }\n    }\n    return i;\n}\nexport function parse(url) {\n    // remove starting /\n    if (url[0] === \"/\") {\n        url = url.substr(1);\n    }\n    // split url by \"/\"\n    var parts = url.split(\"/\");\n    var chunks = [];\n    // for each page in url\n    for (var i = 0; i < parts.length; i++) {\n        var test_1 = parts[i];\n        var result = {};\n        // detect params\n        // support old \t\t\tsome:a=b:c=d\n        // and new notation\t\tsome?a=b&c=d\n        var pos = test_1.indexOf(\":\");\n        if (pos === -1) {\n            pos = test_1.indexOf(\"?\");\n        }\n        if (pos !== -1) {\n            var params = test_1.substr(pos + 1).split(/[\\:\\?\\&]/g);\n            // create hash of named params\n            for (var _i = 0, params_1 = params; _i < params_1.length; _i++) {\n                var param = params_1[_i];\n                var dchunk = param.split(\"=\");\n                result[dchunk[0]] = decodeURIComponent(dchunk[1]);\n            }\n        }\n        // store parsed values\n        chunks[i] = {\n            page: (pos > -1 ? test_1.substr(0, pos) : test_1),\n            params: result, index: i + 1\n        };\n    }\n    // return array of page objects\n    return chunks;\n}\nexport function url2str(stack) {\n    var url = [];\n    for (var _i = 0, stack_1 = stack; _i < stack_1.length; _i++) {\n        var chunk = stack_1[_i];\n        url.push(\"/\" + chunk.page);\n        var params = obj2str(chunk.params);\n        if (params) {\n            url.push(\"?\" + params);\n        }\n    }\n    return url.join(\"\");\n}\nfunction obj2str(obj) {\n    var str = [];\n    for (var key in obj) {\n        if (str.length) {\n            str.push(\"&\");\n        }\n        str.push(key + \"=\" + encodeURIComponent(obj[key]));\n    }\n    return str.join(\"\");\n}\n","export { JetApp } from \"./JetApp\";\nexport { JetView } from \"./JetView\";\nexport { HashRouter } from \"./routers/HashRouter\";\nexport { StoreRouter } from \"./routers/StoreRouter\";\nexport { UrlRouter } from \"./routers/UrlRouter\";\nexport { EmptyRouter } from \"./routers/EmptyRouter\";\nimport { UnloadGuard } from \"./plugins/Guard\";\nimport { Locale } from \"./plugins/Locale\";\nimport { Menu } from \"./plugins/Menu\";\nimport { Status } from \"./plugins/Status\";\nimport { Theme } from \"./plugins/Theme\";\nimport { UrlParam } from \"./plugins/UrlParam\";\nimport { User } from \"./plugins/User\";\nexport var plugins = {\n    UnloadGuard: UnloadGuard, Locale: Locale, Menu: Menu, Theme: Theme, User: User, Status: Status, UrlParam: UrlParam\n};\nif (!window.Promise) {\n    window.Promise = webix.promise;\n}\n","var w = webix;\nvar version = webix.version.split(\".\");\n// will be fixed in webix 5.2\nif (version[0] * 10 + version[1] * 1 < 52) {\n    w.ui.freeze = function (handler) {\n        // disabled because webix jet 5.0 can't handle resize of scrollview correctly\n        // w.ui.$freeze = true;\n        var res = handler();\n        if (res && res.then) {\n            res.then(function (some) {\n                w.ui.$freeze = false;\n                w.ui.resize();\n                return some;\n            });\n        }\n        else {\n            w.ui.$freeze = false;\n            w.ui.resize();\n        }\n        return res;\n    };\n}\n","export function UnloadGuard(app, view, config) {\n    view.on(app, \"app:guard\", function (_$url, point, promise) {\n        if (point === view || point.contains(view)) {\n            var res_1 = config();\n            if (res_1 === false) {\n                promise.confirm = Promise.reject(res_1);\n            }\n            else {\n                promise.confirm = promise.confirm.then(function () { return res_1; });\n            }\n        }\n    });\n}\n","import Polyglot from \"node-polyglot/build/polyglot\";\nexport function Locale(app, view, config) {\n    config = config || {};\n    var storage = config.storage;\n    var lang = storage ? (storage.get(\"lang\") || \"en\") : (config.lang || \"en\");\n    var service = {\n        _: null,\n        polyglot: null,\n        getLang: function () { return lang; },\n        setLang: function (name, silent) {\n            var path = (config.path ? config.path + \"/\" : \"\") + name;\n            var data = require(\"jet-locales/\" + path);\n            if (data.__esModule) {\n                data = data.default;\n            }\n            var poly = service.polyglot = new Polyglot({ phrases: data });\n            poly.locale(name);\n            service._ = webix.bind(poly.t, poly);\n            lang = name;\n            if (storage) {\n                storage.put(\"lang\", lang);\n            }\n            if (!silent) {\n                app.refresh();\n            }\n        }\n    };\n    app.setService(\"locale\", service);\n    service.setLang(lang, true);\n}\n","function show(view, config, value) {\n    if (config.urls) {\n        value = config.urls[value] || value;\n    }\n    view.show(\"./\" + value);\n}\nexport function Menu(app, view, config) {\n    var ui = view.$$(config.id || config);\n    var silent = false;\n    ui.attachEvent(\"onchange\", function () {\n        if (!silent) {\n            show(view, config, this.getValue());\n        }\n    });\n    ui.attachEvent(\"onafterselect\", function () {\n        if (!silent) {\n            var id = null;\n            if (ui.setValue) {\n                id = this.getValue();\n            }\n            else if (ui.getSelectedId) {\n                id = ui.getSelectedId();\n            }\n            show(view, config, id);\n        }\n    });\n    view.on(app, \"app:route\", function (url) {\n        var segment = url[view.getIndex()];\n        if (segment) {\n            silent = true;\n            var page = segment.page;\n            if (ui.setValue && ui.getValue() !== page) {\n                ui.setValue(page);\n            }\n            else if (ui.select && ui.exists(page) && ui.getSelectedId() !== page) {\n                ui.select(page);\n            }\n            silent = false;\n        }\n    });\n}\n","var baseicons = {\n    \"good\": \"check\",\n    \"error\": \"warning\",\n    \"saving\": \"refresh fa-spin\"\n};\nvar basetext = {\n    \"good\": \"Ok\",\n    \"error\": \"Error\",\n    \"saving\": \"Connecting...\"\n};\nexport function Status(app, view, config) {\n    var status = \"good\";\n    var count = 0;\n    var iserror = false;\n    var expireDelay = config.expire;\n    if (!expireDelay && expireDelay !== false)\n        expireDelay = 2000;\n    var texts = config.texts || basetext;\n    var icons = config.icons || baseicons;\n    if (typeof config === \"string\")\n        config = { target: config };\n    function refresh(content) {\n        var area = view.$$(config.target);\n        if (area) {\n            if (!content)\n                content = \"<div class='status_\" + status + \"'><span class='webix_icon fa-\" + icons[status] + \"'></span> \" + texts[status] + \"</div>\";\n            area.setHTML(content);\n        }\n    }\n    function success() {\n        count--;\n        setStatus(\"good\");\n    }\n    function fail(err) {\n        count--;\n        setStatus(\"error\", err);\n    }\n    function start(promise) {\n        count++;\n        setStatus(\"saving\");\n        if (promise && promise.then) {\n            promise.then(success, fail);\n        }\n    }\n    function getStatus() {\n        return status;\n    }\n    function hideStatus() {\n        if (count == 0) {\n            refresh(\" \");\n        }\n    }\n    function setStatus(mode, err) {\n        if (count < 0) {\n            count = 0;\n        }\n        if (mode === \"saving\") {\n            status = \"saving\";\n            refresh();\n        }\n        else {\n            iserror = (mode === \"error\");\n            if (count === 0) {\n                status = iserror ? \"error\" : \"good\";\n                if (iserror) {\n                    app.error(\"app:error:server\", [err.responseText || err]);\n                }\n                else {\n                    if (expireDelay)\n                        setTimeout(hideStatus, expireDelay);\n                }\n                refresh();\n            }\n        }\n    }\n    function track(data) {\n        var dp = webix.dp(data);\n        if (dp) {\n            view.on(dp, \"onAfterDataSend\", start);\n            view.on(dp, \"onAfterSaveError\", function (id, obj, response) { return fail(response); });\n            view.on(dp, \"onAfterSave\", success);\n        }\n    }\n    app.setService(\"status\", {\n        getStatus: getStatus,\n        setStatus: setStatus,\n        track: track\n    });\n    if (config.remote) {\n        view.on(webix, \"onRemoteCall\", start);\n    }\n    if (config.ajax) {\n        view.on(webix, \"onBeforeAjax\", function (mode, url, data, request, headers, files, promise) {\n            start(promise);\n        });\n    }\n    if (config.data) {\n        track(config.data);\n    }\n}\n","export function Theme(app, view, config) {\n    config = config || {};\n    var storage = config.storage;\n    var theme = storage ? (storage.get(\"theme\") || \"flat-default\") : (config.theme || \"flat-default\");\n    var service = {\n        getTheme: function () { return theme; },\n        setTheme: function (name, silent) {\n            var parts = name.split(\"-\");\n            var links = document.getElementsByTagName(\"link\");\n            for (var i = 0; i < links.length; i++) {\n                var lname = links[i].getAttribute(\"title\");\n                if (lname) {\n                    if (lname === name || lname === parts[0]) {\n                        links[i].disabled = false;\n                    }\n                    else {\n                        links[i].disabled = true;\n                    }\n                }\n            }\n            webix.skin.set(parts[0]);\n            //remove old css\n            webix.html.removeCss(document.body, \"theme-\" + theme);\n            //add new css\n            webix.html.addCss(document.body, \"theme-\" + name);\n            theme = name;\n            if (storage) {\n                storage.put(\"theme\", name);\n            }\n            if (!silent) {\n                app.refresh();\n            }\n        }\n    };\n    app.setService(\"theme\", service);\n    service.setTheme(theme, true);\n}\n","function copyParams(view, url, route) {\n    for (var i = 0; i < route.length; i++) {\n        view.setParam(route[i], url[i + 1] ? url[i + 1].page : \"\");\n    }\n}\nexport function UrlParam(app, view, config) {\n    var route = config.route || config;\n    view.on(app, \"app:urlchange\", function (subview, url) {\n        if (view === subview) {\n            copyParams(view, url, route);\n            url.splice(1, route.length);\n        }\n    });\n    view.on(app, \"app:paramchange\", function (subview, name, value, url) {\n        if (view === subview && url) {\n            for (var i = 0; i < route.length; i++) {\n                if (route[i] === name) {\n                    //changing in the url\n                    view.show([i, value]);\n                    return false;\n                }\n            }\n        }\n    });\n    copyParams(view, view.getUrl(), route);\n}\n","export function User(app, view, config) {\n    config = config || {};\n    var login = config.login || \"/login\";\n    var logout = config.logout || \"/logout\";\n    var afterLogin = config.afterLogin || app.config.start;\n    var afterLogout = config.afterLogout || \"/login\";\n    var ping = config.ping || 5 * 60 * 1000;\n    var model = config.model;\n    var user = config.user;\n    var service = {\n        getUser: function () {\n            return user;\n        },\n        getStatus: function (server) {\n            if (!server) {\n                return user !== null;\n            }\n            return model.status().catch(function () { return null; }).then(function (data) {\n                user = data;\n            });\n        },\n        login: function (name, pass) {\n            return model.login(name, pass).then(function (data) {\n                user = data;\n                if (!data) {\n                    throw (\"Access denied\");\n                }\n                app.show(afterLogin);\n            });\n        },\n        logout: function () {\n            user = null;\n            return model.logout();\n        }\n    };\n    function canNavigate(url, obj) {\n        if (url === logout) {\n            service.logout();\n            obj.redirect = afterLogout;\n        }\n        else if (url !== login && !service.getStatus()) {\n            obj.redirect = login;\n        }\n    }\n    app.setService(\"user\", service);\n    app.attachEvent(\"app:guard\", function (url, _$root, obj) {\n        if (typeof user === \"undefined\") {\n            obj.confirm = service.getStatus(true).then(function (some) { return canNavigate(url, obj); });\n        }\n        return canNavigate(url, obj);\n    });\n    if (ping) {\n        setInterval(function () { return service.getStatus(true); }, ping);\n    }\n}\n","var EmptyRouter = (function () {\n    function EmptyRouter(cb, _$config) {\n        this.path = \"\";\n        this.cb = cb;\n    }\n    EmptyRouter.prototype.set = function (path, config) {\n        var _this = this;\n        this.path = path;\n        if (!config || !config.silent) {\n            setTimeout(function () { return _this.cb(path); }, 1);\n        }\n    };\n    EmptyRouter.prototype.get = function () {\n        return this.path;\n    };\n    return EmptyRouter;\n}());\nexport { EmptyRouter };\n","import routie from \"webix-routie/lib/routie\";\nvar HashRouter = (function () {\n    function HashRouter(cb, config) {\n        var _this = this;\n        this.config = config || {};\n        this._prefix = this.config.routerPrefix;\n        // use \"#!\" for backward compatibility\n        if (typeof this._prefix === \"undefined\") {\n            this._prefix = \"!\";\n        }\n        var rcb = function (_$a) { };\n        routie(this._prefix + \"*\", function (url) {\n            _this._lastUrl = \"\";\n            return rcb(_this.get());\n        });\n        rcb = cb;\n    }\n    HashRouter.prototype.set = function (path, config) {\n        if (this.config.routes) {\n            var compare = path.split(\"?\", 2);\n            for (var key in this.config.routes) {\n                if (this.config.routes[key] === compare[0]) {\n                    path = key + (compare.length > 1 ? \"?\" + compare[1] : \"\");\n                    break;\n                }\n            }\n        }\n        this._lastUrl = path;\n        routie.navigate(this._prefix + path, config);\n    };\n    HashRouter.prototype.get = function () {\n        var path = this._lastUrl ||\n            (window.location.hash || \"\").replace(\"#\" + this._prefix, \"\");\n        if (this.config.routes) {\n            var compare = path.split(\"?\", 2);\n            var key = this.config.routes[compare[0]];\n            if (key) {\n                path = key + (compare.length > 1 ? \"?\" + compare[1] : \"\");\n            }\n        }\n        return path;\n    };\n    return HashRouter;\n}());\nexport { HashRouter };\n","var StoreRouter = (function () {\n    function StoreRouter(cb, config) {\n        this.name = (config.storeName || config.id + \":route\");\n        this.cb = cb;\n    }\n    StoreRouter.prototype.set = function (path, config) {\n        var _this = this;\n        webix.storage.session.put(this.name, path);\n        if (!config || !config.silent) {\n            setTimeout(function () { return _this.cb(path); }, 1);\n        }\n    };\n    StoreRouter.prototype.get = function () {\n        return webix.storage.session.get(this.name);\n    };\n    return StoreRouter;\n}());\nexport { StoreRouter };\n","var UrlRouter = (function () {\n    function UrlRouter(cb, config) {\n        var _this = this;\n        this.cb = cb;\n        window.onpopstate = function () { return _this.cb(_this.get()); };\n        this.prefix = config.routerPrefix || \"\";\n    }\n    UrlRouter.prototype.set = function (path, config) {\n        var _this = this;\n        if (this.get() != path) {\n            window.history.pushState(null, null, this.prefix + path);\n        }\n        if (!config || !config.silent) {\n            setTimeout(function () { return _this.cb(path); }, 1);\n        }\n    };\n    UrlRouter.prototype.get = function () {\n        var path = window.location.pathname.replace(this.prefix, \"\");\n        return path !== \"/\" ? path : \"\";\n    };\n    return UrlRouter;\n}());\nexport { UrlRouter };\n","/*!\r\n * webix-routie - router for Webix-Jet\r\n * v0.4.0\r\n * MIT License\r\n *\r\n * based on routie - a tiny hash router\r\n * http://projects.jga.me/routie\r\n * copyright Greg Allen 2016\r\n * MIT License\r\n*/\r\n\r\nvar Routie = function(w, isModule) {\r\n\r\n  var routes = [];\r\n  var map = {};\r\n  var reference = 'routie';\r\n  var oldReference = w[reference];\r\n  var oldUrl;\r\n\r\n  var Route = function(path, name) {\r\n    this.name = name;\r\n    this.path = path;\r\n    this.keys = [];\r\n    this.fns = [];\r\n    this.params = {};\r\n    this.regex = pathToRegexp(this.path, this.keys, false, false);\r\n\r\n  };\r\n\r\n  Route.prototype.addHandler = function(fn) {\r\n    this.fns.push(fn);\r\n  };\r\n\r\n  Route.prototype.removeHandler = function(fn) {\r\n    for (var i = 0, c = this.fns.length; i < c; i++) {\r\n      var f = this.fns[i];\r\n      if (fn == f) {\r\n        this.fns.splice(i, 1);\r\n        return;\r\n      }\r\n    }\r\n  };\r\n\r\n  Route.prototype.run = function(params) {\r\n    for (var i = 0, c = this.fns.length; i < c; i++) {\r\n      if (this.fns[i].apply(this, params) === false)\r\n        return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  Route.prototype.match = function(path, params){\r\n    var m = this.regex.exec(path);\r\n\r\n    if (!m) return false;\r\n\r\n\r\n    for (var i = 1, len = m.length; i < len; ++i) {\r\n      var key = this.keys[i - 1];\r\n\r\n      var val = ('string' == typeof m[i]) ? decodeURIComponent(m[i]) : m[i];\r\n\r\n      if (key) {\r\n        this.params[key.name] = val;\r\n      }\r\n      params.push(val);\r\n    }\r\n\r\n    return true;\r\n  };\r\n\r\n  Route.prototype.toURL = function(params) {\r\n    var path = this.path;\r\n    for (var param in params) {\r\n      path = path.replace('/:'+param, '/'+params[param]);\r\n    }\r\n    path = path.replace(/\\/:.*\\?/g, '/').replace(/\\?/g, '');\r\n    if (path.indexOf(':') != -1) {\r\n      throw new Error('missing parameters for url: '+path);\r\n    }\r\n    return path;\r\n  };\r\n\r\n  var pathToRegexp = function(path, keys, sensitive, strict) {\r\n    if (path instanceof RegExp) return path;\r\n    if (path instanceof Array) path = '(' + path.join('|') + ')';\r\n    path = path\r\n      .concat(strict ? '' : '/?')\r\n      .replace(/\\/\\(/g, '(?:/')\r\n      .replace(/\\+/g, '__plus__')\r\n      .replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g, function(_, slash, format, key, capture, optional){\r\n        keys.push({ name: key, optional: !! optional });\r\n        slash = slash || '';\r\n        return '' + (optional ? '' : slash) + '(?:' + (optional ? slash : '') + (format || '') + (capture || (format && '([^/.]+?)' || '([^/]+?)')) + ')' + (optional || '');\r\n      })\r\n      .replace(/([/.])/g, '\\\\$1')\r\n      .replace(/__plus__/g, '(.+)')\r\n      .replace(/\\*/g, '(.*)');\r\n    return new RegExp('^' + path + '$', sensitive ? '' : 'i');\r\n  };\r\n\r\n  var addHandler = function(path, fn) {\r\n    var s = path.split(' ');\r\n    var name = (s.length == 2) ? s[0] : null;\r\n    path = (s.length == 2) ? s[1] : s[0];\r\n\r\n    if (!map[path]) {\r\n      map[path] = new Route(path, name);\r\n      routes.push(map[path]);\r\n    }\r\n    map[path].addHandler(fn);\r\n  };\r\n\r\n  var routie = function(path, fn) {\r\n    if (typeof fn == 'function') {\r\n      addHandler(path, fn);\r\n      routie.reload();\r\n    } else if (typeof path == 'object') {\r\n      for (var p in path) {\r\n        addHandler(p, path[p]);\r\n      }\r\n      routie.reload();\r\n    } else if (typeof fn === 'undefined') {\r\n      routie.navigate(path);\r\n    }\r\n  };\r\n\r\n  routie.lookup = function(name, obj) {\r\n    for (var i = 0, c = routes.length; i < c; i++) {\r\n      var route = routes[i];\r\n      if (route.name == name) {\r\n        return route.toURL(obj);\r\n      }\r\n    }\r\n  };\r\n\r\n  routie.remove = function(path, fn) {\r\n    var route = map[path];\r\n    if (!route)\r\n      return;\r\n    route.removeHandler(fn);\r\n  };\r\n\r\n  routie.removeAll = function() {\r\n    map = {};\r\n    routes = [];\r\n    oldUrl = '';\r\n  };\r\n\r\n  routie.navigate = function(path, options) {\r\n    options = options || {};\r\n    var silent = options.silent || false;\r\n\r\n    if (silent) {\r\n      removeListener();\r\n    }\r\n    setTimeout(function() {\r\n      window.location.hash = path;\r\n\r\n      if (silent) {\r\n        setTimeout(function() { \r\n          addListener();\r\n        }, 1);\r\n      }\r\n\r\n    }, 1);\r\n  };\r\n\r\n  routie.noConflict = function() {\r\n    w[reference] = oldReference;\r\n    return routie;\r\n  };\r\n\r\n  var getHash = function() {\r\n    return window.location.hash.substring(1);\r\n  };\r\n\r\n  var checkRoute = function(hash, route) {\r\n    var params = [];\r\n    if (route.match(hash, params)) {\r\n      return (route.run(params) !== false ? 1 : 0);\r\n    }\r\n    return -1;\r\n  };\r\n\r\n  var hashChanged = routie.reload = function() {\r\n    var hash = getHash();\r\n    for (var i = 0, c = routes.length; i < c; i++) {\r\n      var route = routes[i];\r\n      var state = checkRoute(hash, route);\r\n      if (state === 1) {\r\n        //route processed\r\n        oldUrl = hash;\r\n        break;\r\n      } else if (state === 0){\r\n        //route rejected\r\n        routie.navigate(oldUrl, { silent:true });\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  var addListener = function() {\r\n    if (w.addEventListener) {\r\n      w.addEventListener('hashchange', hashChanged, false);\r\n    } else {\r\n      w.attachEvent('onhashchange', hashChanged);\r\n    }\r\n  };\r\n\r\n  var removeListener = function() {\r\n    if (w.removeEventListener) {\r\n      w.removeEventListener('hashchange', hashChanged);\r\n    } else {\r\n      w.detachEvent('onhashchange', hashChanged);\r\n    }\r\n  };\r\n  addListener();\r\n  oldUrl = getHash();\r\n\r\n  if (isModule){\r\n    return routie;\r\n  } else {\r\n    w[reference] = routie;\r\n  }\r\n   \r\n};\r\n\r\nif (typeof module == 'undefined'){\r\n  Routie(window);\r\n} else {\r\n  module.exports = Routie(window,true);\r\n  module.exports.default = module.exports;\r\n}","import \"./assets/theme.siberia.less\";\r\nimport {JetApp, plugins} from \"webix-jet\";\r\n\r\nimport session from \"models/session\";\r\n\r\nwebix.i18n.setLocale(\"ru-RU\");\r\nwebix.Date.startOnMonday = true;\r\n\t\r\nwebix.ready(function(){\r\n\tif(!webix.env.touch && webix.ui.scrollSize && webix.CustomScroll)\r\n\t\twebix.CustomScroll.init();\r\n\r\n\tvar app = new JetApp({\r\n\t\tid:\t\t\t\"wtools-admin\",\r\n\t\tname:\t\t\"Wtools\",\r\n\t\tversion:\t\"1.0\",\r\n\t\tstart:\t\t\"/app/dashboard\",\r\n\t\tdebug: true\r\n\t});\r\n\t\r\n\t//error handlers\r\n\tapp.attachEvent(\"app:error:resolve\", function(name, err){\r\n\t\twindow.console.error(err);\r\n\t\twebix.delay(() => this.show(\"/app/dashboard\"));\r\n\t});\r\n\tapp.attachEvent(\"app:error:initview\", function(view, error){\r\n\t\twindow.console.error(error);\r\n\t});\r\n\tapp.attachEvent(\"app:error:server\", function(error){\r\n\t\twebix.alert({\r\n\t\t\twidth: 450,\r\n\t\t\ttitle:\"Data saving error\",\r\n\t\t\ttext: \"Please try to repeat the action <br> if error still occurs, please try to reload the page.\"\r\n\t\t});\r\n\t});\r\n\t\t\r\n\t// login\r\n\tapp.attachEvent(\"app:user:logout\",function(){\r\n\t\tapp.show(\"/app/login\");  //load \"views/login.js\"\r\n\t});\r\n\tapp.use(plugins.User, { model: session, ping: 25 * 60 * 1000 });\r\n\t\r\n\tapp.render();\r\n});\r\n\r\n//track js errors\r\nif (PRODUCTION){\r\n\twindow.Raven\r\n\t\t.config(\r\n\t\t\t\"https://59d0634de9704b61ba83823ec3bf4787@sentry.webix.io/12\",\r\n\t\t\t{ release: VERSION }\r\n\t\t)\r\n\t\t.install();\r\n}","// removed by extract-text-webpack-plugin","var map = {\n\t\"./ru\": \"./sources/locales/ru.js\",\n\t\"./ru.js\": \"./sources/locales/ru.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tvar module = __webpack_require__(id);\n\treturn module;\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./sources/locales sync recursive ^\\\\.\\\\/.*$\";","webix.i18n.locales[\"ru-RU\"]={\r\n\tgroupDelimiter:\" \",\r\n\tgroupSize:3,\r\n\tdecimalDelimiter:\",\",\r\n\tdecimalSize:2,\r\n\r\n\tdateFormat:\"%d.%m.%Y\",\r\n\ttimeFormat:\"%H:%i\",\r\n\tlongDateFormat:\"%d %F %Y\",\r\n\tfullDateFormat:\"%d.%m.%Y %H:%i\",\r\n\r\n\tprice:\"{obj} руб.\",\r\n\tpriceSettings:null, //use number defaults\r\n\t\r\n\tcalendar:{\r\n\t\tmonthFull:[\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Maй\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Oктябрь\", \"Ноябрь\", \"Декабрь\"],\r\n\t\tmonthShort:[\"Янв\", \"Фев\", \"Maр\", \"Aпр\", \"Maй\", \"Июн\", \"Июл\", \"Aвг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\r\n\t\tdayFull:[ \"Воскресенье\", \"Понедельник\", \"Вторник\", \"Среда\", \"Четверг\", \"Пятница\", \"Суббота\"],\r\n    \tdayShort:[\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\r\n\t\thours: \"Часы\",\r\n\t\tminutes: \"Минуты\",\r\n\t\tdone: \"Гoтовo\",\r\n\t\tclear: \"Очистить\",\r\n\t\ttoday: \"Сегодня\"\r\n\t},\r\n\r\n    dataExport:{\r\n\t\tpage:\"Страница\",\r\n\t\tof:\"из\"\r\n    },\r\n    PDFviewer:{\r\n\t\tof:\"из\",\r\n\t\tautomaticZoom:\"Автоматический зум\",\r\n\t\tactualSize:\"Настоящий размер\",\r\n\t\tpageFit:\"Размер страницы\",\r\n\t\tpageWidth:\"Ширина страницы\",\r\n\t\tpageHeight:\"Высота страницы\"\r\n    },\r\n    aria:{\r\n\t\tcalendar:\"Календарь\",\r\n\t\tincreaseValue:\"Увеличить значение\",\r\n\t\tdecreaseValue:\"Уменьшить значение\",\r\n\t\tnavMonth:[\"Предыдущий месяц\", \"Следующий месяц\"],\r\n\t\tnavYear:[\"Предыдущий год\", \"Следующий год\"],\r\n\t\tnavDecade:[\"Предыдущие десять лет\", \"Следующие десять лет\"],\r\n\t\tdateFormat:\"%d %F %Y\",\r\n\t\tmonthFormat:\"%F %Y\",\r\n\t\tyearFormat:\"%Y\",\r\n\t\thourFormat:\"Часы: %H\",\r\n\t\tminuteFormat:\"Минуты: %i\",\r\n\t\tremoveItem:\"Удалить элемент\",\r\n\t\tpages:[\"Первая страница\", \"Предыдущая страница\", \"Следующая страница\", \"Последняя страница\"],\r\n\t\tpage:\"Страница\",\r\n\t\theadermenu:\"Меню шапки таблицы\",\r\n\t\topenGroup:\"Развернуть группу столбцов\",\r\n\t\tcloseGroup:\"Свернуть группу столбцов\",\r\n\t\tcloseTab:\"Закрыть вкладку\",\r\n\t\tshowTabs:\"Показать больше вкладок\",\r\n\t\tresetTreeMap:\"Вернуться к первоначальному представлению\",\r\n\t\tnavTreeMap:\"Перейти на уровень выше\",\r\n\t\tnextTab:\"Следующая вкладка\",\r\n\t\tprevTab:\"Предыдущая вкладка\",\r\n\t\tmultitextSection:\"Добавить элемент\",\r\n\t\tmultitextextraSection:\"Удалить элемент\",\r\n\t\tshowChart:\"Показать чарт\",\r\n\t\thideChart:\"Спрятать чарт\",\r\n\t\tresizeChart:\"Изменить размер чарта\"\r\n    },\r\n    richtext:{\r\n        underline: \"Подчеркивание\",\r\n        bold: \"Жирный\",\r\n        italic: \"Курсив\"\r\n    },\r\n    combo:{\r\n    \tselect:\"Выбрать\",\r\n        selectAll:\"Выбрать все\",\r\n        unselectAll:\"Сброс выбора\"\r\n    }\r\n};","export default function menudata(token){\r\n    return webix.ajax(\"index.php?route=common/column_left&token=\"+token);\r\n}","export const rating = [\r\n\t{\"id\":1,\"code\":\"NWTB-1\",\"name\":\"Webix Chai\", rating:5, rank:1},\r\n\t{\"id\":2,\"code\":\"NWTCO-3\",\"name\":\"Webix Syrup\", rating:1, rank:2},\r\n\t{\"id\":3,\"code\":\"NWTCO-4\",\"name\":\"Webix Cajun Seasoning\", rating:2, rank:3},\r\n\t{\"id\":4,\"code\":\"NWTO-5\",\"name\":\"Webix Olive Oil\", rating:3, rank:4},\r\n\t{\"id\":5,\"code\":\"NWTJP-6\",\"name\":\"Webix Boysenberry Spread\", rating:1, rank:5}\r\n];\r\n\r\nexport const treetable = [\r\n\t{\r\n\t\tid:1, name:\"USA\", open:1, data:[\r\n\t\t\t{\"id\":11,\"code\":\"NWTB-1\",\"name\":\"Webix Chai\", sales: 200000},\r\n\t\t\t{\"id\":12,\"code\":\"NWTCO-3\",\"name\":\"Webix Syrup\", sales: 180000},\r\n\t\t\t{\"id\":13,\"code\":\"NWTCO-4\",\"name\":\"Webix Cajun Seasoning\", sales: 150000}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid:2, name:\"Europe\", data:[\r\n\t\t\t{\"id\":21,\"code\":\"NWTB-1\",\"name\":\"Webix Chai\", sales: 230000},\r\n\t\t\t{\"id\":22,\"code\":\"NWTCO-3\",\"name\":\"Webix Syrup\", sales: 210000},\r\n\t\t\t{\"id\":23,\"code\":\"NWTO-5\",\"name\":\"Webix Olive Oil\", sales: 180000}\r\n\t\t]\r\n\t},\r\n\t{\r\n\t\tid:3, name:\"Asia\", open:1, data:[\r\n\t\t\t{\"id\":31,\"code\":\"NWTCO-4\",\"name\":\"Webix Cajun Seasoning\", sales: 310000},\r\n\t\t\t{\"id\":32,\"code\":\"NWTO-5\",\"name\":\"Webix Olive Oil\", sales: 250000},\r\n\t\t\t{\"id\":33,\"code\":\"NWTJP-6\",\"name\":\"Webix Boysenberry Spread\", sales: 210000}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nexport const colspans = {\r\n\tdata:[\r\n\t\t{\"id\":11,\"code\":\"NWTB-1\",\"name\":\"Webix Chai\", sales: 200000, region:\"USA\"},\r\n\t\t{\"id\":12,\"code\":\"NWTCO-3\",\"name\":\"Webix Syrup\", sales: 180000, region:\"USA\"},\r\n\t\t{\"id\":13,\"code\":\"NWTCO-4\",\"name\":\"Webix Cajun Seasoning\", sales: 150000, region:\"USA\"},\r\n\t\t{ id:\"sub1\", $css:\"highlight_row\", region:\"Top Sales\", sales: 200000},\r\n\t\t{\"id\":21,\"code\":\"NWTB-1\",\"name\":\"Webix Chai\", sales: 230000, region:\"Europe\"},\r\n\t\t{\"id\":22,\"code\":\"NWTO-5\",\"name\":\"Webix Olive Oil\", sales: 180000, region:\"Europe\"},\r\n\t\t{ id:\"sub2\", $css:\"highlight_row\", region:\"Top Sales\", sales: 230000}\r\n\r\n\t],\r\n\tspans:[\r\n\t\t[11, \"region\", 1, 3],\r\n\t\t[21, \"region\", 1, 3],\r\n\t\t[\"sub1\", \"region\", 3, 1, null, \"highlight_row\"],\r\n\t\t[\"sub2\", \"region\", 3, 1, \"\", \"highlight_row\"]\r\n\t]\r\n};\r\n\r\nexport const progress = [\r\n\t{ id: \"1\", name: \"Prepare finance report\",progress:0.55, type: \"inner\"},\r\n\t{ id: \"2\", name: \"Solex project strategy  meeting\", progress:0.20},\r\n\t{ id: \"3\", name: \"WestEurope partners call\",progress:0.7},\r\n\t{ id: \"4\", name: \"Market research analysis\",progress:0.3, type: \"inner\"},\r\n\t{ id: \"5\", name: \"Prepare presentation\",progress:0.6, type: \"company\"}\r\n];","var weekStart = webix.Date.weekStart(new Date());\r\nvar monthStart = webix.Date.monthStart(new Date());\r\nvar day = webix.Date.dayStart(new Date());\r\nvar day2 = webix.Date.add(webix.Date.copy(day),1,\"month\",true);\r\n\r\nvar monthStart2 = webix.Date.add(webix.Date.copy(monthStart),1,\"month\",true);\r\nvar weekStart2 = webix.Date.add(webix.Date.copy(weekStart),1,\"month\",true);\r\nvar weekStart1 = webix.Date.add(webix.Date.copy(weekStart),-1,\"month\",true);\r\n\r\nexport const data = [\r\n\t{\r\n\t\tid:1,\r\n\t\tstart_date: webix.Date.copy(weekStart),\r\n\t\tend_date:   webix.Date.add(webix.Date.copy(weekStart),3,\"day\",true),\r\n\t\ttext:   \"Conference\",\r\n\t\tcalendar: \"company\"\r\n\t},\r\n\t{\r\n\t\tid:2,\r\n\t\tstart_date: webix.Date.copy(monthStart),\r\n\t\tend_date:   webix.Date.add(webix.Date.copy(monthStart),2,\"day\",true),\r\n\t\ttext:   \"Partners meeting\",\r\n\t\tcalendar: \"company\"\r\n\t},\r\n\r\n\t{\r\n\t\tid:3,\r\n\t\tstart_date: webix.Date.add(webix.Date.copy(monthStart),15,\"day\",true),\r\n\t\tend_date:   webix.Date.add(webix.Date.copy(monthStart),17,\"day\",true),\r\n\t\ttext:   \"Webix project\",\r\n\t\tcalendar: \"company\"\r\n\t},\r\n\t{\r\n\t\tid:4,\r\n\t\tstart_date: webix.Date.add(webix.Date.copy(monthStart),18,\"day\",true),\r\n\t\tend_date:   webix.Date.add(webix.Date.copy(monthStart),22,\"day\",true),\r\n\t\ttext:   \"Conference\"\r\n\t},\r\n\t{\r\n\t\tid:5,\r\n\t\tstart_date:  webix.Date.add(day,9,\"hour\",true),\r\n\t\tend_date:   webix.Date.add(day,11,\"hour\",true),\r\n\t\ttext:   \"Meeting\",\r\n\t\tcalendar: \"company\"\r\n\t},\r\n\t{\r\n\t\tid:6,\r\n\t\tstart_date:  webix.Date.add(weekStart,18,\"hour\",true),\r\n\t\tend_date:   webix.Date.add(weekStart,23,\"hour\",true),\r\n\t\ttext:   \"Birthday party\"\r\n\t},\r\n\t{\r\n\t\tid:7,\r\n\t\tstart_date: webix.Date.add(webix.Date.copy(monthStart),-2,\"day\",true),\r\n\t\tend_date:   webix.Date.add(webix.Date.copy(monthStart),3,\"day\",true),\r\n\t\ttext:   \"Football championship\"\r\n\t},\r\n\t{\r\n\t\tid:8,\r\n\t\tstart_date:  webix.Date.add(weekStart1,19,\"hour\",true),\r\n\t\tend_date:   webix.Date.add(weekStart1,23,\"hour\",true),\r\n\t\ttext:   \"Birthday party\"\r\n\t},\r\n\t{\r\n\t\tid:9,\r\n\t\tstart_date:  webix.Date.add(day2,9,\"hour\",true),\r\n\t\tend_date:   webix.Date.add(day2,11,\"hour\",true),\r\n\t\ttext:   \"Meeting\",\r\n\t\tcalendar: \"company\"\r\n\t},\r\n\t{\r\n\t\tid:10,\r\n\t\tstart_date:  webix.Date.add(weekStart2,20,\"hour\",true),\r\n\t\tend_date:   webix.Date.add(weekStart2,23,\"hour\",true),\r\n\t\ttext:   \"Birthday party\"\r\n\t},\r\n\t{\r\n\t\tid:11,\r\n\t\tstart_date: webix.Date.add(webix.Date.copy(monthStart2),24,\"day\",true),\r\n\t\tend_date:   webix.Date.add(webix.Date.copy(monthStart2),28,\"day\",true),\r\n\t\ttext:   \"Conference\",\r\n\t\tcalendar: \"company\"\r\n\t},\r\n\t{\r\n\t\tid:12,\r\n\t\tstart_date: webix.Date.add(webix.Date.copy(monthStart),26,\"day\",true),\r\n\t\tend_date:   webix.Date.add(webix.Date.copy(monthStart),28,\"day\",true),\r\n\t\ttext:   \"Football championship\"\r\n\t}\r\n];","export const data = [\r\n\t{\"value\":\"Files\",\"type\":\"folder\",\"size\":0,\"date\":0,\"id\":\"/\", \"open\":true, \"data\":\r\n\t\t[{\"id\":\"01_basic\",\"value\":\"01_basic\",\"type\":\"folder\",\"size\":0,\"date\":1505297352,\"data\":\r\n\t\t\t[{\"id\":\"01_basic/01_init.html\",\"value\":\"01_init.html\",\"type\":\"code\",\"size\":5697,\"date\":1505297352},{\"id\":\"01_basic/02_real_fs.html\",\"value\":\"02_real_fs.html\",\"type\":\"code\",\"size\":927,\"date\":1505297352},{\"id\":\"01_basic/03_uploading.html\",\"value\":\"03_uploading.html\",\"type\":\"code\",\"size\":1322,\"date\":1505297352},{\"id\":\"01_basic/04_operations.html\",\"value\":\"04_operations.html\",\"type\":\"code\",\"size\":1227,\"date\":1505297352},{\"id\":\"01_basic/05_readonly.html\",\"value\":\"05_readonly.html\",\"type\":\"code\",\"size\":927,\"date\":1505297352},{\"id\":\"01_basic/index.html\",\"value\":\"index.html\",\"type\":\"code\",\"size\":2139,\"date\":1505297352}]\r\n\t\t},\r\n\t\t{\"id\":\"02_events\",\"value\":\"02_events\",\"type\":\"folder\",\"size\":0,\"date\":1505297352,\"data\":\r\n\t\t\t[{\"id\":\"02_events/01_selection.html\",\"value\":\"01_selection.html\",\"type\":\"code\",\"size\":1082,\"date\":1505297352},{\"id\":\"02_events/02_download.html\",\"value\":\"02_download.html\",\"type\":\"code\",\"size\":1280,\"date\":1505297352},{\"id\":\"02_events/03_drag.html\",\"value\":\"03_drag.html\",\"type\":\"code\",\"size\":1546,\"date\":1505297352},{\"id\":\"02_events/04_rename.html\",\"value\":\"04_rename.html\",\"type\":\"code\",\"size\":1366,\"date\":1505297352},{\"id\":\"02_events/05_copy.html\",\"value\":\"05_copy.html\",\"type\":\"code\",\"size\":1493,\"date\":1505297352},{\"id\":\"02_events/06_error.html\",\"value\":\"06_error.html\",\"type\":\"code\",\"size\":1566,\"date\":1505297352},{\"id\":\"02_events/index.html\",\"value\":\"index.html\",\"type\":\"code\",\"size\":2335,\"date\":1505297352}]\r\n\t\t},\r\n\t\t{\"id\":\"03_customization\",\"value\":\"03_customization\",\"type\":\"folder\",\"size\":0,\"date\":1505297352,\"data\":\r\n\t\t\t[{\"id\":\"03_customization/01_views_configuration.html\",\"value\":\"01_views_configuration.html\",\"type\":\"code\",\"size\":1494,\"date\":1505297352},{\"id\":\"03_customization/02_new_column.html\",\"value\":\"02_new_column.html\",\"type\":\"code\",\"size\":1794,\"date\":1505297352},{\"id\":\"03_customization/03_adding_mode.html\",\"value\":\"03_adding_mode.html\",\"type\":\"code\",\"size\":1965,\"date\":1505297352},{\"id\":\"03_customization/04_hiding_buttons.html\",\"value\":\"04_hiding_buttons.html\",\"type\":\"code\",\"size\":1347,\"date\":1505297352},{\"id\":\"03_customization/05_preview.html\",\"value\":\"05_preview.html\",\"type\":\"code\",\"size\":1755,\"date\":1505297352},{\"id\":\"03_customization/06_icons_template.html\",\"value\":\"06_icons_template.html\",\"type\":\"code\",\"size\":1185,\"date\":1505297352},{\"id\":\"03_customization/07_localization.html\",\"value\":\"07_localization.html\",\"type\":\"code\",\"size\":2892,\"date\":1505297352},{\"id\":\"03_customization/08_styling.html\",\"value\":\"08_styling.html\",\"type\":\"code\",\"size\":1005,\"date\":1505297352},{\"id\":\"03_customization/09_menu_options.html\",\"value\":\"09_menu_options.html\",\"type\":\"code\",\"size\":1553,\"date\":1505297352},{\"id\":\"03_customization/index.html\",\"value\":\"index.html\",\"type\":\"code\",\"size\":2992,\"date\":1505297352}]\r\n\t\t},\r\n\t\t{\"id\":\"04_loading\",\"value\":\"04_loading\",\"type\":\"folder\",\"size\":0,\"date\":1505297352,\"data\":\r\n\t\t\t[{\"id\":\"04_loading/01_dynamic_loading.html\",\"value\":\"01_dynamic_loading.html\",\"type\":\"code\",\"size\":1378,\"date\":1505297352},{\"id\":\"04_loading/02_files_dyn_loading.html\",\"value\":\"02_files_dyn_loading.html\",\"type\":\"code\",\"size\":1346,\"date\":1505297352},{\"id\":\"04_loading/03_dynamic_loading_nocache.html\",\"value\":\"03_dynamic_loading_nocache.html\",\"type\":\"code\",\"size\":1411,\"date\":1505297352},{\"id\":\"04_loading/index.html\",\"value\":\"index.html\",\"type\":\"code\",\"size\":1840,\"date\":1505297352}]\r\n\t\t},\r\n\t\t{\"id\":\"common\",\"value\":\"common\",\"type\":\"folder\",\"size\":0,\"date\":1505297352,\"data\":\r\n\t\t\t[{\"id\":\"common/CommandFileSystem.php\",\"value\":\"CommandFileSystem.php\",\"type\":\"code\",\"size\":13207,\"date\":1505297352},{\"id\":\"common/FileSystem.php\",\"value\":\"FileSystem.php\",\"type\":\"code\",\"size\":1329,\"date\":1505297352},{\"id\":\"common/PHPFileSystem.php\",\"value\":\"PHPFileSystem.php\",\"type\":\"code\",\"size\":2256,\"date\":1505297352},{\"id\":\"common/config.php\",\"value\":\"config.php\",\"type\":\"code\",\"size\":96,\"date\":1505297352},{\"id\":\"common/data.php\",\"value\":\"data.php\",\"type\":\"code\",\"size\":1933,\"date\":1505297352},{\"id\":\"common/data_branch.php\",\"value\":\"data_branch.php\",\"type\":\"code\",\"size\":2318,\"date\":1505297352},{\"id\":\"common/data_dyn.php\",\"value\":\"data_dyn.php\",\"type\":\"code\",\"size\":2256,\"date\":1505297352},{\"id\":\"common/docs.css\",\"value\":\"docs.css\",\"type\":\"code\",\"size\":7668,\"date\":1505297352},{\"id\":\"common/style.css\",\"value\":\"style.css\",\"type\":\"code\",\"size\":746,\"date\":1505297352}]\r\n\t\t},\r\n\t\t{\"id\":\"index.html\",\"value\":\"index.html\",\"type\":\"code\",\"size\":1907,\"date\":1505297352}]\r\n\t}\r\n];","export default function chartdata(token){\r\n    return webix.ajax(\"index.php?route=order/order/getDataForChart&token=\"+token);\r\n}","export const data = new webix.DataCollection({ \r\n    url:\"index.php?route=catalog/product/getList&token=\"+token\t\r\n});","function status(){\r\n\treturn webix.ajax().post(\"index.php?route=common/login&status&token=\"+token)\r\n\t\t.then(a => a.json());\r\n}\r\n\r\nfunction login(username, password){\t\r\n\treturn webix.ajax().post(\"index.php?route=common/login&login&token=\"+token, {username, password}).then(\ta => a.json() );\r\n}\r\n\r\nfunction logout(){\r\n\treturn webix.ajax().post(\"index.php?route=common/login&logout&token=\"+token);\r\n\t\t//.then(a => a.json());\r\n}\r\n\r\nexport default {\r\n\tstatus, login, logout\r\n}","export const data =[\r\n\t{productId:1,value: 15000,selection: \"month\", name:\"Chai\"},\r\n\t{productId:1,value: 35000,selection: \"month3\", name:\"Chocolate\"},\r\n\t{productId:1,value: 130000,selection: \"year\", name:\"Chai\"},\r\n\t{productId:2,value: 20000,selection: \"month\", name:\"Olive Oil\"},\r\n\t{productId:2,value: 50000,selection: \"month3\", name:\"Olive Oil\"},\r\n\t{productId:2,value: 140000,selection: \"year\", name:\"Olive Oil\"},\r\n\t{productId:3,value: 17000,selection: \"month\", name:\"Coffee\"},\r\n\t{productId:3,value: 40000,selection: \"month3\", name:\"Coffee\"},\r\n\t{productId:3,value: 120000,selection: \"year\", name:\"Coffee\"},\r\n\t{productId:4,value: 9000,selection: \"month\", name:\"Syrup\"},\r\n\t{productId:4,value: 45000,selection: \"month3\", name:\"Marmalade\"},\r\n\t{productId:4,value: 100500,selection: \"year\", name:\"Syrup\"}\r\n];\r\n","export default function chartdata(token){\r\n    return webix.ajax(\"index.php?route=report/total/getDataForTotalChart&token=\"+token);\r\n}","export const data = [\r\n\t{\"id\": 1, \"month\": \"Jun\", \"newv\": 300, \"rec\": 600},\r\n\t{\"id\": 2, \"month\": \"Jul\", \"newv\": 100, \"rec\":  400},\r\n\t{\"id\": 3, \"month\": \"Aug\", \"newv\": 400, \"rec\": 700},\r\n\t{\"id\": 4, \"month\": \"Sep\", \"newv\": 600, \"rec\": 900},\r\n\t{\"id\": 5, \"month\": \"Oct\", \"newv\": 400, \"rec\": 400}\r\n];","var map = {\n\t\"./app\": \"./sources/views/app.js\",\n\t\"./app.js\": \"./sources/views/app.js\",\n\t\"./calendar\": \"./sources/views/calendar.js\",\n\t\"./calendar.js\": \"./sources/views/calendar.js\",\n\t\"./charts\": \"./sources/views/charts.js\",\n\t\"./charts.js\": \"./sources/views/charts.js\",\n\t\"./dashboard\": \"./sources/views/dashboard.js\",\n\t\"./dashboard.js\": \"./sources/views/dashboard.js\",\n\t\"./datatables\": \"./sources/views/datatables.js\",\n\t\"./datatables.js\": \"./sources/views/datatables.js\",\n\t\"./discounts\": \"./sources/views/discounts.js\",\n\t\"./discounts.js\": \"./sources/views/discounts.js\",\n\t\"./files\": \"./sources/views/files.js\",\n\t\"./files.js\": \"./sources/views/files.js\",\n\t\"./forms\": \"./sources/views/forms.js\",\n\t\"./forms.js\": \"./sources/views/forms.js\",\n\t\"./forms/loginform\": \"./sources/views/forms/loginform.js\",\n\t\"./forms/loginform.js\": \"./sources/views/forms/loginform.js\",\n\t\"./forms/order\": \"./sources/views/forms/order.js\",\n\t\"./forms/order.js\": \"./sources/views/forms/order.js\",\n\t\"./forms/user_group\": \"./sources/views/forms/user_group.js\",\n\t\"./forms/user_group.js\": \"./sources/views/forms/user_group.js\",\n\t\"./forms/user_group_win\": \"./sources/views/forms/user_group_win.js\",\n\t\"./forms/user_group_win.js\": \"./sources/views/forms/user_group_win.js\",\n\t\"./gsms\": \"./sources/views/gsms.js\",\n\t\"./gsms.js\": \"./sources/views/gsms.js\",\n\t\"./history\": \"./sources/views/history.js\",\n\t\"./history.js\": \"./sources/views/history.js\",\n\t\"./items\": \"./sources/views/items.js\",\n\t\"./items.js\": \"./sources/views/items.js\",\n\t\"./login\": \"./sources/views/login.js\",\n\t\"./login.js\": \"./sources/views/login.js\",\n\t\"./login2\": \"./sources/views/login2.js\",\n\t\"./login2.js\": \"./sources/views/login2.js\",\n\t\"./menus/contextmenu\": \"./sources/views/menus/contextmenu.js\",\n\t\"./menus/contextmenu.js\": \"./sources/views/menus/contextmenu.js\",\n\t\"./menus/datebar\": \"./sources/views/menus/datebar.js\",\n\t\"./menus/datebar.js\": \"./sources/views/menus/datebar.js\",\n\t\"./menus/export\": \"./sources/views/menus/export.js\",\n\t\"./menus/export.js\": \"./sources/views/menus/export.js\",\n\t\"./menus/formview\": \"./sources/views/menus/formview.js\",\n\t\"./menus/formview.js\": \"./sources/views/menus/formview.js\",\n\t\"./menus/mail\": \"./sources/views/menus/mail.js\",\n\t\"./menus/mail.js\": \"./sources/views/menus/mail.js\",\n\t\"./menus/message\": \"./sources/views/menus/message.js\",\n\t\"./menus/message.js\": \"./sources/views/menus/message.js\",\n\t\"./menus/profile\": \"./sources/views/menus/profile.js\",\n\t\"./menus/profile.js\": \"./sources/views/menus/profile.js\",\n\t\"./menus/search\": \"./sources/views/menus/search.js\",\n\t\"./menus/search.js\": \"./sources/views/menus/search.js\",\n\t\"./menus/sidebar\": \"./sources/views/menus/sidebar.js\",\n\t\"./menus/sidebar.js\": \"./sources/views/menus/sidebar.js\",\n\t\"./menus/toolbar\": \"./sources/views/menus/toolbar.js\",\n\t\"./menus/toolbar.js\": \"./sources/views/menus/toolbar.js\",\n\t\"./menus/toolplug\": \"./sources/views/menus/toolplug.js\",\n\t\"./menus/toolplug.js\": \"./sources/views/menus/toolplug.js\",\n\t\"./modules/bestsellers\": \"./sources/views/modules/bestsellers.js\",\n\t\"./modules/bestsellers.js\": \"./sources/views/modules/bestsellers.js\",\n\t\"./modules/chart_diff\": \"./sources/views/modules/chart_diff.js\",\n\t\"./modules/chart_diff.js\": \"./sources/views/modules/chart_diff.js\",\n\t\"./modules/dashline\": \"./sources/views/modules/dashline.js\",\n\t\"./modules/dashline.js\": \"./sources/views/modules/dashline.js\",\n\t\"./modules/data_pager\": \"./sources/views/modules/data_pager.js\",\n\t\"./modules/data_pager.js\": \"./sources/views/modules/data_pager.js\",\n\t\"./modules/data_progress\": \"./sources/views/modules/data_progress.js\",\n\t\"./modules/data_progress.js\": \"./sources/views/modules/data_progress.js\",\n\t\"./modules/data_rating\": \"./sources/views/modules/data_rating.js\",\n\t\"./modules/data_rating.js\": \"./sources/views/modules/data_rating.js\",\n\t\"./modules/data_spans\": \"./sources/views/modules/data_spans.js\",\n\t\"./modules/data_spans.js\": \"./sources/views/modules/data_spans.js\",\n\t\"./modules/data_treetable\": \"./sources/views/modules/data_treetable.js\",\n\t\"./modules/data_treetable.js\": \"./sources/views/modules/data_treetable.js\",\n\t\"./modules/diffchart\": \"./sources/views/modules/diffchart.js\",\n\t\"./modules/diffchart.js\": \"./sources/views/modules/diffchart.js\",\n\t\"./modules/editor\": \"./sources/views/modules/editor.js\",\n\t\"./modules/editor.js\": \"./sources/views/modules/editor.js\",\n\t\"./modules/form_event\": \"./sources/views/modules/form_event.js\",\n\t\"./modules/form_event.js\": \"./sources/views/modules/form_event.js\",\n\t\"./modules/form_project\": \"./sources/views/modules/form_project.js\",\n\t\"./modules/form_project.js\": \"./sources/views/modules/form_project.js\",\n\t\"./modules/form_style\": \"./sources/views/modules/form_style.js\",\n\t\"./modules/form_style.js\": \"./sources/views/modules/form_style.js\",\n\t\"./modules/form_user\": \"./sources/views/modules/form_user.js\",\n\t\"./modules/form_user.js\": \"./sources/views/modules/form_user.js\",\n\t\"./modules/groupfilter\": \"./sources/views/modules/groupfilter.js\",\n\t\"./modules/groupfilter.js\": \"./sources/views/modules/groupfilter.js\",\n\t\"./modules/lastobjects\": \"./sources/views/modules/lastobjects.js\",\n\t\"./modules/lastobjects.js\": \"./sources/views/modules/lastobjects.js\",\n\t\"./modules/map\": \"./sources/views/modules/map.js\",\n\t\"./modules/map.js\": \"./sources/views/modules/map.js\",\n\t\"./modules/messages\": \"./sources/views/modules/messages.js\",\n\t\"./modules/messages.js\": \"./sources/views/modules/messages.js\",\n\t\"./modules/onlinefilter\": \"./sources/views/modules/onlinefilter.js\",\n\t\"./modules/onlinefilter.js\": \"./sources/views/modules/onlinefilter.js\",\n\t\"./modules/order_statesfilter\": \"./sources/views/modules/order_statesfilter.js\",\n\t\"./modules/order_statesfilter.js\": \"./sources/views/modules/order_statesfilter.js\",\n\t\"./modules/orderschart\": \"./sources/views/modules/orderschart.js\",\n\t\"./modules/orderschart.js\": \"./sources/views/modules/orderschart.js\",\n\t\"./modules/paging\": \"./sources/views/modules/paging.js\",\n\t\"./modules/paging.js\": \"./sources/views/modules/paging.js\",\n\t\"./modules/product_meta\": \"./sources/views/modules/product_meta.js\",\n\t\"./modules/product_meta.js\": \"./sources/views/modules/product_meta.js\",\n\t\"./modules/product_search\": \"./sources/views/modules/product_search.js\",\n\t\"./modules/product_search.js\": \"./sources/views/modules/product_search.js\",\n\t\"./modules/product_upload\": \"./sources/views/modules/product_upload.js\",\n\t\"./modules/product_upload.js\": \"./sources/views/modules/product_upload.js\",\n\t\"./modules/revenue\": \"./sources/views/modules/revenue.js\",\n\t\"./modules/revenue.js\": \"./sources/views/modules/revenue.js\",\n\t\"./modules/scheduler\": \"./sources/views/modules/scheduler.js\",\n\t\"./modules/scheduler.js\": \"./sources/views/modules/scheduler.js\",\n\t\"./modules/statusfilter\": \"./sources/views/modules/statusfilter.js\",\n\t\"./modules/statusfilter.js\": \"./sources/views/modules/statusfilter.js\",\n\t\"./modules/tasks\": \"./sources/views/modules/tasks.js\",\n\t\"./modules/tasks.js\": \"./sources/views/modules/tasks.js\",\n\t\"./modules/taskschart\": \"./sources/views/modules/taskschart.js\",\n\t\"./modules/taskschart.js\": \"./sources/views/modules/taskschart.js\",\n\t\"./modules/topsales\": \"./sources/views/modules/topsales.js\",\n\t\"./modules/topsales.js\": \"./sources/views/modules/topsales.js\",\n\t\"./modules/totalchart\": \"./sources/views/modules/totalchart.js\",\n\t\"./modules/totalchart.js\": \"./sources/views/modules/totalchart.js\",\n\t\"./modules/visitors\": \"./sources/views/modules/visitors.js\",\n\t\"./modules/visitors.js\": \"./sources/views/modules/visitors.js\",\n\t\"./orders\": \"./sources/views/orders.js\",\n\t\"./orders.js\": \"./sources/views/orders.js\",\n\t\"./owners\": \"./sources/views/owners.js\",\n\t\"./owners.js\": \"./sources/views/owners.js\",\n\t\"./product_edit\": \"./sources/views/product_edit.js\",\n\t\"./product_edit.js\": \"./sources/views/product_edit.js\",\n\t\"./products\": \"./sources/views/products.js\",\n\t\"./products.js\": \"./sources/views/products.js\",\n\t\"./report_billing\": \"./sources/views/report_billing.js\",\n\t\"./report_billing.js\": \"./sources/views/report_billing.js\",\n\t\"./report_objects\": \"./sources/views/report_objects.js\",\n\t\"./report_objects.js\": \"./sources/views/report_objects.js\",\n\t\"./report_stat\": \"./sources/views/report_stat.js\",\n\t\"./report_stat.js\": \"./sources/views/report_stat.js\",\n\t\"./report_suspicious\": \"./sources/views/report_suspicious.js\",\n\t\"./report_suspicious.js\": \"./sources/views/report_suspicious.js\",\n\t\"./servers\": \"./sources/views/servers.js\",\n\t\"./servers.js\": \"./sources/views/servers.js\",\n\t\"./settings\": \"./sources/views/settings.js\",\n\t\"./settings.js\": \"./sources/views/settings.js\",\n\t\"./tarifs\": \"./sources/views/tarifs.js\",\n\t\"./tarifs.js\": \"./sources/views/tarifs.js\",\n\t\"./templates/deleted\": \"./sources/views/templates/deleted.js\",\n\t\"./templates/deleted.js\": \"./sources/views/templates/deleted.js\",\n\t\"./templates/eye\": \"./sources/views/templates/eye.js\",\n\t\"./templates/eye.js\": \"./sources/views/templates/eye.js\",\n\t\"./templates/online\": \"./sources/views/templates/online.js\",\n\t\"./templates/online.js\": \"./sources/views/templates/online.js\",\n\t\"./templates/order_states\": \"./sources/views/templates/order_states.js\",\n\t\"./templates/order_states.js\": \"./sources/views/templates/order_states.js\",\n\t\"./templates/status\": \"./sources/views/templates/status.js\",\n\t\"./templates/status.js\": \"./sources/views/templates/status.js\",\n\t\"./test\": \"./sources/views/test.js\",\n\t\"./test.js\": \"./sources/views/test.js\",\n\t\"./trackers\": \"./sources/views/trackers.js\",\n\t\"./trackers.js\": \"./sources/views/trackers.js\",\n\t\"./user_api\": \"./sources/views/user_api.js\",\n\t\"./user_api.js\": \"./sources/views/user_api.js\",\n\t\"./user_groups\": \"./sources/views/user_groups.js\",\n\t\"./user_groups.js\": \"./sources/views/user_groups.js\",\n\t\"./users\": \"./sources/views/users.js\",\n\t\"./users.js\": \"./sources/views/users.js\",\n\t\"./vehicles\": \"./sources/views/vehicles.js\",\n\t\"./vehicles.js\": \"./sources/views/vehicles.js\",\n\t\"./webix/ckeditor\": \"./sources/views/webix/ckeditor.js\",\n\t\"./webix/ckeditor.js\": \"./sources/views/webix/ckeditor.js\",\n\t\"./webix/icon\": \"./sources/views/webix/icon.js\",\n\t\"./webix/icon.js\": \"./sources/views/webix/icon.js\",\n\t\"./webix/menutree\": \"./sources/views/webix/menutree.js\",\n\t\"./webix/menutree.js\": \"./sources/views/webix/menutree.js\",\n\t\"./webix/scheduler\": \"./sources/views/webix/scheduler.js\",\n\t\"./webix/scheduler.js\": \"./sources/views/webix/scheduler.js\",\n\t\"./wialongroups\": \"./sources/views/wialongroups.js\",\n\t\"./wialongroups.js\": \"./sources/views/wialongroups.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tvar module = __webpack_require__(id);\n\treturn module;\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./sources/views sync recursive ^\\\\.\\\\/.*$\";","import {JetView} from \"webix-jet\";\r\n\r\nimport search \tfrom \"views/menus/search\";\r\nimport mail \tfrom \"views/menus/mail\";\r\nimport message\tfrom \"views/menus/message\";\r\nimport profile\tfrom \"views/menus/profile\";\r\nimport menu\t\tfrom \"views/menus/sidebar\";\r\n//import \"views/webix/icon\";\r\n//import \"views/webix/menutree\";\r\n\r\nexport default class AppView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(){\t\t\r\n\t\tthis.ui(search);\r\n\t\tthis.ui(mail);\r\n\t\tthis.ui(message);\r\n\t\tthis.ui(profile);\r\n\t\tvar userinfo = this.app.getService(\"user\").getUser();\r\n\t\t//var userinfo = JSON.parse(this.app.getService(\"user\").getUser());\t\t\r\n\t\tthis.$$(\"person_template\").setValues({id:userinfo.user_id, name:userinfo.username, thumb:userinfo.thumb});\r\n\t\ttoken = userinfo.token; //console.log(token);\r\n\t}\r\n}\r\n\r\n\t\t\r\n//Top toolbar\r\nvar mainToolbar = {\r\n\tview: \"toolbar\",\t\r\n\telements:[\r\n\t\t{view: \"label\", label: \"<a href='#!/app/dashboard'><img class='logo' src='\"+logo+\"' /></a>\", width: 200, height: 46},\r\n\r\n\t\t{ height:46, id: \"person_template\", css: \"header_person\", borderless:true, width: 180, data: {id:userinfo.user_id, name:userinfo.username, thumb:userinfo.thumb},\r\n\t\t\ttemplate: function(obj){\t\t\t\t\r\n\t\t\t\tvar html = \t\"<div style='height:100%;width:100%;' onclick='webix.$$(\\\"profilePopup\\\").show(this)'>\";\r\n\t\t\t\thtml += \"<img class='photo' src='\"+obj.thumb+\"' /><span class='name'>\"+obj.name+\"</span>\";\r\n\t\t\t\thtml += \"<span class='webix_icon mdi mdi-chevron-down'></span></div>\";\t\t\t\t\r\n\t\t\t\treturn html;\r\n\t\t\t}\r\n\t\t},\t\t\r\n\t\t{ height:46, id: \"support\", css: \"header_person\", borderless:true, width: 45, \r\n\t\t\ttemplate: function(obj){\t\t\t\t\r\n\t\t\t\tvar html = \t\"<div>\";\r\n\t\t\t\thtml += \"<a href='http://curator.kz/support/index.pl' target='_blank'><img class='photo mini bordered' src='image/wtools/support.png' alt='Техподдержка curator.kz' title='Техподдержка curator.kz'/></a>\";\r\n\t\t\t\thtml += \"</div>\";\t\t\t\t\r\n\t\t\t\treturn html;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{ height:46, id: \"site1\", css: \"header_person\", borderless:true, width: 45, \r\n\t\t\ttemplate: function(obj){\t\t\t\t\r\n\t\t\t\tvar html = \t\"<div>\";\r\n\t\t\t\thtml += \"<a href='http://curator.kz' target='_blank'><img class='photo mini bordered' src='image/wtools/logoc1.png' alt='Сайт curator.kz' title='Сайт curator.kz'/></a>\";\r\n\t\t\t\thtml += \"</div>\";\t\t\t\t\r\n\t\t\t\treturn html;\r\n\t\t\t}\r\n\t\t},\t\t\r\n\t\t{ height:46, id: \"site2\", css: \"header_person\", borderless:true, width: 45, \r\n\t\t\ttemplate: function(obj){\t\t\t\t\r\n\t\t\t\tvar html = \t\"<div>\";\r\n\t\t\t\thtml += \"<a href='http://gps1.curator.kz' target='_blank'><img class='photo mini bordered' src='image/wtools/wialon_local.png' alt='Новый сервер' title='Новый сервер'/></a>\";\r\n\t\t\t\thtml += \"</div>\";\t\t\t\t\r\n\t\t\t\treturn html;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{ height:46, id: \"site3\", css: \"header_person\", borderless:true, width: 45, \r\n\t\t\ttemplate: function(obj){\t\t\t\t\r\n\t\t\t\tvar html = \t\"<div>\";\r\n\t\t\t\thtml += \"<a href='http://gps.curator.kz' target='_blank'><img class='photo mini bordered' src='image/wtools/wialon_pro.png' alt='Старый сервер' title='Старый сервер'/></a>\";\r\n\t\t\t\thtml += \"</div>\";\t\t\t\t\r\n\t\t\t\treturn html;\r\n\t\t\t}\r\n\t\t},\r\n\t\t{},\r\n\t\t{view: \"icon\", icon: \"wxi-search\",  width: 45, popup: \"searchPopup\"},\r\n\t\t{view: \"icon\", icon: \"mdi mdi-bell\", badge:3, width: 45, popup: \"mailPopup\"},\t\t\r\n\t\t{view: \"icon\", icon: \"mdi mdi-comment\", badge:5, width: 45, popup: \"messagePopup\"}\r\n\t]\r\n};\r\n\r\nvar body = {\r\n\trows:[\r\n\t\t{ height: 42, id: \"title\", css: \"title\", template: \"<div class='header'>#title#</div><div class='details'>( #details# )</div>\", data: {text: \"\",title: \"\"}},\r\n\t\t{\r\n\t\t\tview: \"scrollview\", scroll:\"native-y\",\r\n\t\t\tbody:{ cols:[{ $subview:true}] }\r\n\t\t}\r\n\t]\r\n};\r\n\r\nvar layout = {\r\n\trows:[\r\n\t\tmainToolbar,\r\n\t\t{\r\n\t\t\tcols:[\r\n\t\t\t\tmenu,\r\n\t\t\t\tbody\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n};","import calendar from \"views/modules/scheduler\";\r\n\r\n// load external css\r\nwebix.require(\"//cdn.dhtmlx.com/scheduler/edge/dhtmlxscheduler.css\");\r\n// load external js\r\nconst ready = webix.require(\"//cdn.dhtmlx.com/scheduler/edge/dhtmlxscheduler.js\")\r\n\t.then(function(){\r\n\t\t// return UI after lib loading\r\n\t\treturn {\r\n\t\t\ttype: \"space\",\r\n\t\t\tcols:[\r\n\t\t\t\tcalendar\r\n\t\t\t]\r\n\t\t};\r\n\t});\r\n\r\nexport default ready;","import visitors \tfrom \"views/modules/visitors\";\r\nimport orders \t\tfrom \"views/modules/orderschart\";\r\nimport chart_diff \tfrom \"views/modules/chart_diff\";\r\nimport revenue \t\tfrom \"views/modules/revenue\";\r\nimport tasks\t \tfrom \"views/modules/taskschart\";\r\nimport diffchart \tfrom \"views/modules/diffchart\";\r\n\r\nconst layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\t{\r\n\t\t\ttype: \"space\",\r\n\t\t\trows:[\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"wide\",\r\n\t\t\t\t\tminHeight: 250,\r\n\t\t\t\t\tcols: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tgravity: 4,\r\n\t\t\t\t\t\t\ttype: \"clean\",\r\n\t\t\t\t\t\t\trows:[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"template\": \"<span class='webix_icon fa-area-chart'></span>Different charts in one\", \"css\": \"sub_title\", \"height\": 30\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tchart_diff\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdiffchart\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\ttype: \"wide\",\r\n\t\t\t\t\tcols: [\r\n\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\ttype: \"clean\",\r\n\t\t\t\t\t\t\trows:[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"template\": \"<span class='webix_icon fa-line-chart'></span>Sales\", \"css\": \"sub_title\", \"height\": 30\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\trevenue\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"type\": \"clean\",\r\n\t\t\t\t\t\t\t\"rows\":[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"template\": \"<span class='webix_icon fa-tasks'></span>Tasks\", \"css\": \"sub_title\", \"height\": 30\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttasks,\r\n\t\t\t\t\t\t\t\t{template: \" \"}\r\n\t\t\t\t\t\t\t]\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theight: 220,\r\n\t\t\t\t\ttype: \"wide\",\r\n\t\t\t\t\tcols: [\r\n\r\n\t\t\t\t\t\torders,\r\n\t\t\t\t\t\tvisitors\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default layout;","import {JetView} \tfrom \"webix-jet\";\r\nimport dashline \tfrom \"views/modules/dashline\";\r\nimport totalchart \tfrom \"views/modules/totalchart\";\r\nimport orders \t\tfrom \"views/modules/orderschart\";\r\nimport bestsrllers \tfrom \"views/modules/bestsellers\";\r\nimport lastobjects \tfrom \"views/modules/lastobjects\";\r\n\r\nconst layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\tdashline,\r\n\t\t{\r\n\t\t\ttype: \"space\",\r\n\t\t\trows:[\r\n\t\t\t\t{\r\n\t\t\t\t\theight: 240,\r\n\t\t\t\t\ttype: \"wide\",\r\n\t\t\t\t\tcols: [\r\n\t\t\t\t\t\ttotalchart,\r\n\t\t\t\t\t\torders\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"wide\",\r\n\t\t\t\t\tcols: [\r\n\t\t\t\t\t\tlastobjects, \r\n\t\t\t\t\t\tbestsrllers  \r\n\r\n\t\t\t\t\t]\r\n\t\t\t\t},\t\t\t\t\r\n\t\t\t]\r\n\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default layout;","import rating\t\tfrom \"views/modules/data_rating\";\r\nimport treetable\tfrom \"views/modules/data_treetable\";\r\nimport progress\t\tfrom \"views/modules/data_progress\";\r\nimport spans\t\tfrom \"views/modules/data_spans\";\r\nimport pager\t\tfrom \"views/modules/data_pager\";\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{\r\n\t\t\ttype: \"wide\",\r\n\t\t\tcols:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttype:\"wide\",\r\n\t\t\t\t\trows:[\r\n\t\t\t\t\t\trating,\r\n\t\t\t\t\t\ttreetable\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype:\"wide\",\r\n\t\t\t\t\tgravity: 0.8,\r\n\t\t\t\t\trows:[\r\n\t\t\t\t\t\tprogress,\r\n\t\t\t\t\t\tspans\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\r\n\t\t\t]\r\n\t\t},\r\n\t\tpager\r\n\t]\r\n};\r\n\r\nexport default layout;","import {JetView} from \"webix-jet\";\r\nimport outplugins from \"views/menus/export\";\r\nimport toolbar from \"views/menus/toolbar\";\r\nimport toolplug from \"views/menus/toolplug\";\r\nimport paging from \"views/modules/paging\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\n\r\nexport default class discountView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\r\n\t\t$$('discount-form').bind($$('billing-discount'));\r\n\t\twebix.dp.$$(\"billing-discount\").config.updateFromResponse = true;\t\r\n\t}\t\r\n}\r\n\t\r\nconst grid = {\r\n\tid:\"billing-discount\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\r\n\tclipboard:\"selection\",\t\r\n\tmultiselect:true, \r\n\teditable:true, \r\n\teditaction:\"dblclick\",\r\n\tcheckboxRefresh:true,\r\n\tcolumns:[\r\n\t\t{id:\"discount_id\", header:\"#\", sort:\"int\", width:50},\t\t\r\n\t\t{id:\"discountname\", header:[\"Название\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\r\n\t\t{id:\"price\", header:[\"Значение\", {content:\"textFilter\"} ], sort:\"int\", minWidth:80, fillspace: 1, editor:\"text\",},\r\n\t\t{id:\"percent\", header:[\"Тип\"], sort:\"int\", minWidth:120, fillspace: 1,\t\t\t\r\n\t\t\ttemplate:function(obj, common, value){\t\t\t\t\r\n\t\t\t\tif (value !=0)\r\n\t\t\t\t\treturn \"<span> % </span>\";\r\n\t\t\t\telse\r\n\t\t\t\t\treturn \"<span> KZT </span>\";}\r\n\t\t},\t\t\r\n\t\t{id:\"priority\", header:{text:\"Приоритет\", height:60, css:\"multiline\"}, sort:\"int\", minWidth:80, fillspace: 1, editor:\"text\",},\t\t\r\n\t\t{id:\"status\", header:[\"Статус\", {content:\"staFilter\", css:\"webix_ss_filter\"}], sort:\"int\", minWidth:100, fillspace:2,editor:\"inline-checkbox\", template:staTemplate},\t\t\r\n\t\t{id:\"edit\", header:\"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\", width:35, \r\n\t\t\ttemplate:\"<span style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n\t\t},\r\n\t],\r\n\tpager:\"pagerA\",\r\n\t\"export\":true,\r\n\turl:\t\"index.php?route=billing/discount/getList&token=\"+token,\r\n\tsave:{\r\n\t\t\t\"insert\":\"index.php?route=billing/discount/add&token=\"+token,\r\n\t\t\t\"update\":\"index.php?route=billing/discount/edit&token=\"+token,\r\n\t\t\t\"delete\":\"index.php?route=billing/discount/delete&token=\"+token\r\n\t},\r\n\tonClick:{\t\t\r\n\t\t\"mdi-pencil\":function(e,id){\t\r\n\t\t\tthis.select(id);\t\r\n\t\t\t$$('discount-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\t\t\t\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\r\n\ton:{\t\t\r\n\t\t\"onAfterAdd\":function(obj, index){\t\r\n\t\t\tvar lastid = this.getLastId();\r\n\t\t\tthis.select(lastid);\t\t\t\r\n\t\t\t$$('discount-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\t\t\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nconst ui = {\r\n\tview:\"form\",\r\n\tid:\"discount-form\",\r\n\tmultiview:{ keepViews:true },\r\n\tdataFeed: function (id) {\r\n\t\t\t\tlet current_discount_id = $$('billing-discount').getItem(id).discount_id;\t\t\t\t\r\n\t\t\t\tthis.load(\"index.php?route=billing/discount/getForm&token=\"+token+\"&discount_id=\"+current_discount_id);\t\t\t\t\r\n\t\t\t  },\t\r\n\telements:[\r\n\t\r\n\t\t\t{ view:\"text\", id:\"discount_id\", name:\"discount_id\", label:\"ID скидки\", labelWidth:170, readonly:true },\r\n\t\t\t{cols:[\t\t\t\t\r\n\t\t\t\t{ view:\"datepicker\", id:\"date_start\", name:\"date_start\", label:\"Начало действия\", labelWidth:170, value:new Date(), format:\"%d.%m.%Y\", invalidMessage:\"дата должна быть раньше даты окончания\" },\r\n\t\t\t\t{ view:\"datepicker\", id:\"date_end\", name:\"date_end\", label:\"Окончание действия\", labelWidth:170, labelAlign: \"right\", value:new Date(), format:\"%d.%m.%Y\", invalidMessage:\"дата должна быть позже даты начала\" },\r\n\t\t\t]},\r\n\t\t\t{ view:\"text\", name:\"discountname\", label:\"Название\", placeholder:\"Введите название\", labelWidth:170, required:true, invalidMessage:\"название должно быть от 3 до 32 знаков\" },\r\n\t\t\t{ view:\"text\", name:\"price\", label:\"Значение\", placeholder:\"Установите значение\", labelWidth:170, required:true, invalidMessage:\"значение поля должно быть числом\"},\r\n\t\t\t//{ view:\"radio\", name:\"percent\", options:[\"Процент\", \"Фиксированная сумма\"]},\r\n\t\t\t{ view:\"radio\", name:\"percent\", label:\"Принцип рассчета\", labelWidth:170, options:[ { id:1, value:\"Процент\" }, { id:0, value:\"Фиксированная сумма\" }]},              \r\n\t\t\t{ view: \"textarea\", name: \"description\", label: \"Дополнительные сведения\", labelWidth:170, gravity:1,maxHeight:150},\t\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", name:\"priority\", label:\"Приоритет\",  labelWidth:170 },\r\n\t\t\t\t{ view:\"select\", name:\"status\", label:\"Статус\", labelWidth:170, labelAlign: \"right\", options:[{id:0, value:\"Отключено\"}, {id:1, value:\"Включено\"}], },\r\n\t\t\t]},\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\t\t\t\t\t\t\r\n\t\t\t\t\t\t$$(\"discount-views\").back();\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\tlet form = $$(\"discount-form\");\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(!form.validate()) \r\n\t\t\t\t\t\t\treturn false;\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twebix.ajax().post(\"index.php?route=billing/discount/validateForm&token=\"+token, $$(\"discount-form\").getValues(), function(text, data, XmlHttpRequest){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (text && text!=\"[]\") {\r\n\t\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\t\ttext:JSON.parse(text).warning,\r\n\t\t\t\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}); //show server side response\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tform.save();\r\n\t\t\t\t\t\t\t\t$$(\"discount-views\").back();\r\n\t\t\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t],\r\n\trules:{\r\n        \"discountname\": function(value){ return value.length >= 3 && value.length <= 32},\t\t  \r\n\t\t\"price\": webix.rules.isNumber ,\r\n\t\t\"date_end\": function(value){ return value >= $$(\"date_start\").getValue()},\r\n\t\t\"date_start\": function(value){ return value <= $$(\"date_end\").getValue()},\r\n    }\r\n};\r\n  \r\nconst discount_views = {\r\n\tview:\"multiview\", \r\n    id:\"discount-views\",\r\n    cells:[\tgrid, ui,]\r\n}\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, id:\"edit-tools\", cols: outplugins.concat(toolbar) },\r\n\t\t{ height:40, id:\"edit-form-icon\", cols: toolplug, hidden:true },\r\n\t\t{ rows:[ discount_views, paging ] }\r\n\t]\r\n};\r\n ","import {data} from \"models/files\";\r\nimport {JetView} from \"webix-jet\";\r\n\r\n// load external css\r\nwebix.require(\"//cdn.webix.com/site/filemanager/filemanager.css\");\r\n// load external js\r\nconst ready = webix.require(\"//cdn.webix.com/site/filemanager/filemanager.js\")\r\n\t// return UI after lib loading\r\n\t.then(() => FMView);\r\n\r\nclass FMView extends JetView {\r\n\tconfig(){\r\n\t\treturn {\r\n\t\t\tview:\"filemanager\",\r\n\t\t\tdisabledHistory:true\r\n\t\t};\r\n\t}\r\n\tinit(view){\r\n\t\tview.parse(webix.copy(data));\r\n\t}\r\n}\r\n\r\nexport default ready;","import user\t\tfrom \"views/modules/form_user\";\r\nimport project\tfrom \"views/modules/form_project\";\r\nimport event\tfrom \"views/modules/form_event\";\r\nimport style\tfrom \"views/modules/form_style\";\r\n\r\nvar layout = {\r\n\ttype: \"space\",\r\n\tcols:[\r\n\t\t{type: \"wide\",\r\n\t\t\trows: [\r\n\t\t\t\tuser,\r\n\t\t\t\tevent\r\n\t\t\t]\r\n\t\t},\r\n\t\t{type: \"wide\",\r\n\t\t\trows: [\r\n\t\t\t\tstyle,\r\n\t\t\t\tproject\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n\r\n};\r\n\r\nexport default layout;","\tconst loginf = {\r\n        maxWidth: 320,\r\n\r\n        type: \"space\",\r\n        rows: [\r\n            {\r\n                view: \"toolbar\",\r\n                css: \"highlighted_header header1\",\r\n                paddingX: 5,\r\n                paddingY: 5,\r\n                height: 40,\r\n                cols: [\r\n                    {\r\n                        \"template\": \"<span class='webix_icon fa-lock'></span>Введите логин и пароль\", \"css\": \"sub_title2\", borderless: true\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                view: \"form\",\r\n                id: \"loginForm\",\r\n                elementsConfig: {\r\n                    labelWidth: 90\r\n                },\r\n                elements: [\r\n                    {view: \"text\", label: \"Логин\", placeholder: \"Логин\", name: \"username\", value: username, invalidMessage: \"Логин не должен быть пустым\"},\r\n                    {view: \"text\", label: \"Пароль\", placeholder: \"Пароль\", name: \"password\", type: 'password', value: password, invalidMessage: \"Пароль не должен быть пустым\"},\r\n                    {view: \"text\", name: \"redirect\", value: redirect, hidden: true},\r\n                    {\r\n                        margin: 10,\r\n                        paddingX: 2,\r\n                        borderless: true,\r\n                        cols: [\r\n                            {},\r\n                            {view: \"button\", label: \"Войти\", type: \"iconButton\", icon: \"key\", align: \"right\", width: 100,\r\n                                click: function () {\r\n                                    if (webix.$$(\"loginForm\").validate())\r\n                                        console.log(action);\r\n                                    webix.send(action, webix.$$(\"loginForm\").getValues());\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                ],\r\n                rules: {\r\n                    name1: webix.rules.isNotEmpty\r\n                }\r\n\r\n            }\r\n        ]\r\n    };   \r\n\t\r\n\texport default login;","const ui = {\r\n\tview:\"window\", modal:true, id:\"order-win\",\r\n\thead:\"Add new order\",\r\n\tbody:{\r\n\t\tpaddingY:20, paddingX:30, elementsConfig:{labelWidth: 140}, view:\"form\", id:\"order-form\", elements:[\r\n\t\t\t{ view:\"combo\", name:\"customer\", label:\"Customer\", id:\"order-customer\", options:[{ id:\"1\", value:\"Virgen C. Holcombe\"}, { id:\"2\", value:\"Tory H. Ventura\"}, { id:\"3\", value:\"Jacquline A. Coats\"}, { id:\"4\", value:\"Jamila N. Mccallister\"}, { id:\"5\", value:\"Sabrina N. Hermann\"}, { id:\"6\", value:\"Bradly N. Mauro\"}, { id:\"7\", value:\"Ashleigh G. Denham\"}, { id:\"8\", value:\"Stephen H. Peachey\"}, { id:\"9\", value:\"Amado T. Cano\"}, { id:\"10\", value:\"Olimpia C. Whelan\"}, { id:\"11\", value:\"Regine H. Field\"}, { id:\"12\", value:\"Roxanna C. Cass\"}, { id:\"13\", value:\"Reba H. Casteel\"}, { id:\"14\", value:\"Jettie P. Whelan\"}, { id:\"15\", value:\"Sherry G. Richards\"}, { id:\"16\", value:\"Stephane A. Chandler\"}, { id:\"17\", value:\"Amee A. Marshall\"}], width:350},\r\n\t\t\t{ view:\"combo\", name:\"employee\", label:\"Salesperson\", id:\"order-sales\", options:[{ id:\"1\", value:\"Ray M. Parra\"}, { id:\"2\", value:\"Suellen G. Ritter\"}, { id:\"3\", value:\"Janelle P. Blunt\"}, { id:\"4\", value:\"Cristopher B. Acker\"}, { id:\"5\", value:\"Lane E. Dion\"}, { id:\"6\", value:\"Rossana M. Mcknight\"}, { id:\"7\", value:\"Becki P. Perryman\"}, { id:\"8\", value:\"Jolie P. Sparks\"}, { id:\"9\", value:\"Shirley M. Mattingly\"}, { id:\"10\", value:\"Rosario H. Mccracken\"}, { id:\"11\", value:\"Sudie M. Goldsmith\"}, { id:\"12\", value:\"Sherley D. Berryman\"}, { id:\"13\", value:\"Romaine B. Alley\"}, { id:\"14\", value:\"Giovanni B. Weston\"}]},\r\n\t\t\t{ view:\"combo\", name:\"product\", label:\"Product\", id:\"order-product\", options:[{ id:1, value:\"Webix Chai\"}, { id:2, value:\"Webix Syrup\"}, { id:3, value:\"Webix Cajun Seasoning\"}, { id:4, value:\"Webix Olive Oil\"}, { id:5, value:\"Webix Boysenberry Spread\"}, { id:6, value:\"Webix Dried Pears\"}, { id:7, value:\"Webix Curry Sauce\"}, { id:8, value:\"Webix Walnuts\"}, { id:9, value:\"Webix Fruit Cocktail\"}, { id:10, value:\"Webix Chocolate Biscuits Mix\"}, { id:11, value:\"Webix Marmalade\"}, { id:12, value:\"Webix Scones\"}, { id:13, value:\"Webix Beer\"}, { id:14, value:\"Webix Crab Meat\"}, { id:15, value:\"Webix Clam Chowder\"}, { id:16, value:\"Webix Coffee\"}, { id:17, value:\"Webix Chocolate\"}]},\r\n\t\t\t{ view:\"combo\", name:\"shipment\", label:\"Shipping Company\", id:\"shipping_company\", options:[ \"Shipping A\", \"Shipping B\", \"Shipping C\", \"Shipping D\", \"Shipping E\", \"Shipping F\", \"Shipping G\"]},\r\n\t\t\t{ view:\"datepicker\", label:\"Order Date\", value:new Date(), format:\"%d  %M %Y\" },\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", label:\"Add\", type:\"form\", align:\"center\", width:120, click:function(){\r\n\t\t\t\t\t\twebix.$$(\"order-win\").hide();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", label:\"Cancel\",align:\"center\", width:120, click:function(){\r\n\t\t\t\t\t\twebix.$$(\"order-win\").hide();\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t\t]\r\n\t}\r\n};\r\n\r\nexport default ui;","const ui = {\r\n\tview:\"form\",\r\n\tid:\"user-group-form\",\r\n\telements:[\r\n\t\t\t{ view:\"text\", id:\"user_group_id\", name:\"user_group_id\", label:\"ID группы\", labelWidth:70, readonly:true },\r\n\t\t\t{ view:\"text\", id:\"name\", name:\"name\", label:\"Название группы\", placeholder:\"Введите название\", labelWidth:70 },\r\n\t\t\t{ view:\"datatable\", name:\"permisson\", id:\"grida\",\r\n\t\t\t\tcolumns:[\r\n\t\t\t\t\t{ id:\"permission_id\", header:\"Модуль или задача\", fillspace:true },\r\n\t\t\t\t//\t{ id:\"access\", header:[\"Разрешен просмотр\",{ content:\"masterCheckbox\" }], checkValue:'on', uncheckValue:'off', template:\"{common.checkbox()}\", adjustColumn:\"header\"},\r\n\t\t\t\t\t//{ id:\"access\", header:\"Разрешен просмотр\", css:\"rank\", width:50 },\r\n\t\t\t\t//\t{ id:\"modify\", header:\"Разрешена модификация\", css:\"rank\", width:50 },\r\n\t\t\t\t//\t{ id:\"hiden\", header:\"Скрыть модуль\", css:\"rank\", width:50 },\t\t\t\t\t\t\t\t\r\n\t\t\t\t],\r\n\t\t\t\t//autoheight:true,\t\t\t  \r\n\t\t\t\tscroll:\"xy\",\r\n\t\t\t\tselect:\"row\",\r\n\t\t\t\tmaxHeight:300,\r\n\t\t\t\t//  autowidth:true,\r\n\t\t\t\ttype:{template:\"{common.space()}\"},\r\n\r\n\t\t\t   url:\"index.php?route=user/user_permission/getForm&token=\"+token+\"&user_group_id=\"+\"1\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\r\n\t\t\t\t\t\t$$(\"user-group-list\").back();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\t$$(\"user-group-form\").save();\r\n\t\t\t\t\t\t$$(\"user-group-list\").back();\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t]\r\n};\r\n\r\nexport default ui;","const ui = {\r\n\tview:\"window\", modal:true, id:\"group-win\", width:600, height:600, resize: true,\r\n\thead:\"Add new order\",\r\n\tbody:{\r\n\t\tpaddingY:20, paddingX:30, elementsConfig:{labelWidth: 240}, view:\"form\", id:\"user-group-form\",  scroll:\"xy\", elements:[\r\n\t\t\t{ view:\"text\", id:\"user_group_id\", name:\"user_group_id\", label:\"ID группы\", labelWidth:70, readonly:true },\r\n\t\t\t{ view:\"text\", id:\"name\", name:\"name\", label:\"Название группы\", placeholder:\"Введите название\", labelWidth:70 },\r\n\t\t\t{ view:\"datatable\", name:\"permisson\", id:\"grida\",\r\n\t\t\t\t  columns:[\r\n\t\t\t\t\t{ id:\"permission_id\", header:\"Модуль или задача\", fillspace:true },\r\n\t\t\t\t//\t{ id:\"access\", header:[\"Разрешен просмотр\",{ content:\"masterCheckbox\" }], checkValue:'on', uncheckValue:'off', template:\"{common.checkbox()}\", adjustColumn:\"header\"},\r\n\t\t\t\t\t//{ id:\"access\", header:\"Разрешен просмотр\", css:\"rank\", width:50 },\r\n\t\t\t\t//\t{ id:\"modify\", header:\"Разрешена модификация\", css:\"rank\", width:50 },\r\n\t\t\t\t//\t{ id:\"hiden\", header:\"Скрыть модуль\", css:\"rank\", width:50 },\t\t\t\t\t\t\t\t\r\n\t\t\t\t  ],\r\n\t\t\t\t // autoheight:true,\t\t\t  \r\n\t\t\t\t  scroll:\"xy\",\r\n\t\t\t\t  select:\"row\",\r\n\t\t\t\t  maxHeight:300,\r\n\t\t\t\t//  autowidth:true,\r\n\t\t\t\t  type:{template:\"{common.space()}\"},\r\n\r\n\t\t\t\t   url:\"index.php?route=user/user_permission/getForm&token=\"+token+\"&user_group_id=\"+\"1\"\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\r\n\t\t\t\t\t\twebix.$$(\"group-win\").hide();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\t$$(\"user-group-form\").save();\r\n\t\t\t\t\t\twebix.$$(\"group-win\").hide();\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\r\n\t\t]\r\n\t}\r\n};\r\n\r\nexport default ui;","import { JetView } from \"webix-jet\";\r\nimport outplugins from \"views/menus/export\";\r\nimport toolbar from \"views/menus/toolbar\";\r\nimport toolplug from \"views/menus/toolplug\";\r\nimport paging from \"views/modules/paging\";\r\nimport staFilter from \"views/modules/statusfilter\";\r\nimport staTemplate from \"views/templates/status\";\r\n\r\nexport default class gsmView extends JetView {\r\n    config() {\r\n        return layout;\r\n    }\r\n    init(view) {\r\n        $$('gsm-form').bind($$('catalog-gsm'));\r\n        webix.dp.$$(\"catalog-gsm\").config.updateFromResponse = true;\r\n    }\r\n}\r\n\r\nconst grid = {\r\n    id: \"catalog-gsm\",\r\n    view: \"datatable\",\r\n    select: \"row\",\r\n    clipboard: \"selection\",\r\n    multiselect: true,\r\n    editable: true,\r\n    editaction: \"dblclick\",\r\n    checkboxRefresh: true,\r\n    columns: [\r\n        { id: \"gsm_id\", header: \"#\", sort: \"int\", width: 50 },\r\n        { id: \"gsmname\", header: [\"Название\", { content: \"textFilter\" }], sort: \"string\", minWidth: 120, fillspace: 2, editor: \"text\" },\r\n        { id: \"sort_order\", header: { text: \"Порядок сортировки\", height: 60, css: \"multiline\" }, sort: \"int\", minWidth: 80, fillspace: 1, editor: \"text\", },\r\n        { id: \"status\", header: [\"Статус\", { content: \"staFilter\", css: \"webix_ss_filter\" }], sort: \"int\", minWidth: 100, fillspace: 2, editor: \"inline-checkbox\", template: staTemplate },\r\n        {\r\n            id: \"edit\",\r\n            header: \"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\",\r\n            width: 35,\r\n            template: \"<span style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n        },\r\n    ],\r\n    pager: \"pagerA\",\r\n    \"export\": true,\r\n    url: \"index.php?route=catalog/gsm/getList&token=\" + token,\r\n    save: {\r\n        \"insert\": \"index.php?route=catalog/gsm/add&token=\" + token,\r\n        \"update\": \"index.php?route=catalog/gsm/edit&token=\" + token,\r\n        \"delete\": \"index.php?route=catalog/gsm/delete&token=\" + token\r\n    },\r\n    onClick: {\r\n        \"mdi-pencil\": function(e, id) {\r\n            this.select(id);\r\n            $$('gsm-form').show();\r\n            $$('edit-tools').hide();\r\n            $$('edit-form-icon').show();\r\n            $$('paging').hide();\r\n        }\r\n    },\r\n    on: {\r\n        \"onAfterAdd\": function(obj, index) {\r\n            var lastid = this.getLastId();\r\n            this.select(lastid);\r\n            $$('gsm-form').show();\r\n            $$('edit-tools').hide();\r\n            $$('edit-form-icon').show();\r\n            $$('paging').hide();\r\n        }\r\n    },\r\n    ready: function() {\r\n        webix.extend(this, webix.ProgressBar);\r\n    }\r\n};\r\n\r\nconst ui = {\r\n    view: \"form\",\r\n    id: \"gsm-form\",\r\n    multiview: { keepViews: true },\r\n    dataFeed: function(id) {\r\n        let current_gsm_id = $$('catalog-gsm').getItem(id).gsm_id;\r\n        this.load(\"index.php?route=catalog/gsm/getForm&token=\" + token + \"&gsm_id=\" + current_gsm_id);\r\n    },\r\n    elements: [\r\n\r\n        { view: \"text\", id: \"gsm_id\", name: \"gsm_id\", label: \"ID оператора\", labelWidth: 170, readonly: true },\r\n        { view: \"text\", name: \"gsmname\", label: \"Название\", placeholder: \"Введите название\", labelWidth: 170, required: true, invalidMessage: \"название должно быть от 3 до 32 знаков\" },\r\n        {\r\n            cols: [\r\n                { view: \"text\", name: \"sort_order\", label: \"Порядок сортировки\", labelWidth: 170 },\r\n                { view: \"select\", name: \"status\", label: \"Статус\", labelWidth: 170, labelAlign: \"right\", options: [{ id: 0, value: \"Отключено\" }, { id: 1, value: \"Включено\" }], },\r\n            ]\r\n        },\r\n        {\r\n            margin: 10,\r\n            cols: [\r\n                {},\r\n                {\r\n                    view: \"button\",\r\n                    value: \"Отменить\",\r\n                    width: 120,\r\n                    click: function() {\r\n                        $$(\"gsm-views\").back();\r\n                        $$('paging').show();\r\n                        $$('edit-form-icon').hide();\r\n                        $$('edit-tools').show();\r\n                    }\r\n                },\r\n                {\r\n                    view: \"button\",\r\n                    value: \"Сохранить\",\r\n                    type: \"form\",\r\n                    width: 120,\r\n                    click: function() {\r\n                        let form = $$(\"gsm-form\");\r\n                        if (!form.validate())\r\n                            return false;\r\n\r\n                        webix.ajax().post(\"index.php?route=catalog/gsm/validateForm&token=\" + token, $$(\"gsm-form\").getValues(), function(text, data, XmlHttpRequest) {\r\n                            if (text && text != \"[]\") {\r\n                                webix.message({\r\n                                    text: JSON.parse(text).warning,\r\n                                    type: \"error\",\r\n                                    expire: 5000,\r\n                                }); //show gsm side response\r\n                                return false;\r\n                            } else {\r\n                                form.save();\r\n                                $$(\"gsm-views\").back();\r\n                                $$('paging').show();\r\n                                $$('edit-form-icon').hide();\r\n                                $$('edit-tools').show();\r\n                            }\r\n                        });\r\n\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    rules: {\r\n        \"gsmname\": function(value) { return value.length >= 3 && value.length <= 32 },\r\n    }\r\n};\r\n\r\nconst gsm_views = {\r\n    view: \"multiview\",\r\n    id: \"gsm-views\",\r\n    cells: [grid, ui, ]\r\n}\r\n\r\nconst layout = {\r\n    type: \"space\",\r\n    rows: [\r\n        { height: 40, id: \"edit-tools\", cols: outplugins.concat(toolbar) },\r\n        { height: 40, id: \"edit-form-icon\", cols: toolplug, hidden: true },\r\n        { rows: [gsm_views, paging] }\r\n    ]\r\n};","import {JetView} \tfrom \"webix-jet\";\r\nimport outplugins \tfrom \"views/menus/export\";\r\nimport daterange \tfrom \"views/menus/datebar\";\r\nimport paging \t\tfrom \"views/modules/paging\";\r\nimport eyeFilter \tfrom \"views/modules/groupfilter\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport onlFilter \tfrom \"views/modules/onlinefilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\nimport eyeTemplate \tfrom \"views/templates/eye\";\r\nimport delTemplate \tfrom \"views/templates/deleted\";\r\nimport onlTemplate \tfrom \"views/templates/online\";\r\n\r\nexport default class ItemView extends JetView {\r\n    config() {\r\n        return layout;\r\n    }\r\n    init(view) {\r\n        webix.extend(view.queryView({view: \"datatable\"}), webix.ProgressBar);\r\n        $$('history-form').bind($$('history-list'));\r\n      //  webix.dp.$$(\"history-list\").config.updateFromResponse = true;\r\n    }\r\n}\r\n\r\nvar xml_format = webix.Date.strToDate(\"%Y-%m-%d\");\r\n\r\nconst hgrid = {\r\n    id: \"history-list\",\r\n    view: \"datatable\",\r\n    select: \"row\",    \r\n    pager: \"pagerA\",   \r\n    \"export\": true,\r\n\r\n    columns: [\r\n        {id: \"item_id\", header: \"Id\", sort: \"server\", minWidth: 120},\r\n        {map: \"(date)#date_changed#\", header: \"Дата\", sort: \"server\", minWidth: 120, format: webix.Date.dateToStr(\"%d.%m.%Y\")},        \r\n        {id: \"deleted\", header: \"<span class='webix_icon mdi mdi-window-close deleted'></span>\", width: 40, css: {\"text-align\": \"center\"}, template: delTemplate},\r\n        {id: \"ownername\", header: [\"Владелец\", {content: \"serverSelectFilter\", options: \"index.php?route=history/history/getOwners&token=\" + token}], sort: \"server\", minWidth: 120, fillspace: 2},\r\n        {id: \"wialon_groupname\", header: [\"Группа\", {content: \"serverSelectFilter\", options: \"index.php?route=history/history/getGroups&token=\" + token}], sort: \"server\", minWidth: 120, fillspace: 2},        \r\n        {id: \"itemname\", header: [\"Объект\", {content: \"serverFilter\"}], sort: \"server\", minWidth: 120, fillspace: 2},\r\n        {id: \"tracker_uid\", header: [\"Трекер UID\", {content: \"serverFilter\"}], sort: \"server\", minWidth: 120, fillspace: 1},\r\n        {id: \"trackername\", header: [\"Трекер\", {content: \"serverSelectFilter\", options: \"index.php?route=history/history/getTrackers&token=\" + token}], sort: \"server\", minWidth: 120, fillspace: 1},\r\n        {id: \"sim1\", header: [\"SIM-1\", {content: \"serverFilter\"}], sort: \"server\", minWidth: 120, fillspace: 1},\r\n        {id: \"sim2\", header: [\"SIM-2\", {content: \"serverFilter\"}], sort: \"server\", minWidth: 120, fillspace: 1},        \r\n        {id: \"wialon_group_off\", header: [\"Вид\", {content: \"eyeFilter\", css: \"webix_ss_filter\"}], sort: \"server\", minWidth: 80, css: {\"text-align\": \"center\"}, template: eyeTemplate},\r\n        {id: \"online\", header: [\"Состояние\", {content: \"onlFilter\", css: \"webix_ss_filter\"}], sort: \"server\", minWidth: 120, css: {\"text-align\": \"center\"}, template: onlTemplate},\r\n        {id: \"price\", header: [\"Тариф\", {content: \"selectFilter\", options: \"index.php?route=history/history/getTarifs&token=\" + token}], sort: \"server\", minWidth: 60, fillspace: 1},\r\n        {id: \"history_discount_id\", header: [\"Скидка\", {content: \"selectFilter\", options: \"index.php?route=history/history/getDiscounts&token=\" + token}], sort: \"server\", minWidth: 60, fillspace: 1},\r\n    ],\r\n    scheme: {\r\n        // init не срабатывает в данной ситуации (возможно из-за внешней принудительной загрузки или из-за map)\r\n        $init: function (obj) {\r\n         //   if (obj.deleted == 1)\r\n          //      obj.$css = \"deleted\";\r\n          //  obj.date_changed = xml_format(obj.date_start);\r\n        }\r\n    },\r\n\turl:\"index.php?route=history/history&token=\"+token,\r\n    ready: function () {\r\n        webix.extend(this, webix.ProgressBar);\r\n       // Client sorting can't be used with dynamic loading\r\n       // this.sort({by: \"date_changed\", dir: \"desc\"}); \r\n    }\r\n};\r\n\r\n\r\n\r\nconst hform = {\r\n    view: \"form\",\r\n    id: \"history-form\",\r\n    multiview: {keepViews: true},\r\n    dataFeed: function (id) {\r\n        let current_item_id = $$('history').getItem(id).item_id;\r\n        this.load(\"index.php?route=catalog/item/getForm&token=\" + token + \"&item_id=\" + current_item_id);\r\n    },\r\n    elements: [\r\n        {         \r\n        \r\n           \r\n        },\r\n    ],\r\n    //rules:{\r\n    //\t\"date_end\": function(value){ return value >= $$(\"date_start\").getValue()},\r\n    //\t\"date_start\": function(value){ return value <= $$(\"date_end\").getValue()},\r\n    //}\r\n};\r\n\r\nconst views = {\r\n    view: \"multiview\",\r\n    id: \"history-views\",\r\n    cells: [hgrid, hform, ]\r\n};\r\n\r\nconst layout = {\r\n    id: \"layout\",\r\n    type: \"space\",\r\n    rows: [\r\n        {height:40, id:\"edit-tools\", cols: outplugins.concat(daterange) },\r\n        //{height: 40, id: \"edit-form-icon\", cols: toolplug, hidden: true},\r\n        {rows: [views, paging]}\r\n    ]\r\n};","import {JetView} \tfrom \"webix-jet\";\r\nimport outplugins \tfrom \"views/menus/export\";\r\nimport toolplug \tfrom \"views/menus/toolplug\";\r\nimport paging \t\tfrom \"views/modules/paging\";\r\nimport eyeFilter \tfrom \"views/modules/groupfilter\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport onlFilter \tfrom \"views/modules/onlinefilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\nimport eyeTemplate \tfrom \"views/templates/eye\";\r\nimport delTemplate \tfrom \"views/templates/deleted\";\r\nimport onlTemplate \tfrom \"views/templates/online\";\r\n\r\nexport default class ItemView extends JetView {\r\n    config() {\r\n        return layout;\r\n    }\r\n    init(view) {\r\n        $$('item-form').bind($$('catalog-item'));\r\n        webix.dp.$$(\"catalog-item\").config.updateFromResponse = true;\r\n    }\r\n}\r\n\r\nconst grid = {\r\n    id: \"catalog-item\",\r\n    view: \"datatable\",\r\n    select: \"row\",\r\n    clipboard: \"selection\",\r\n    multiselect: true,\r\n    editable: true,\r\n    editaction: \"dblclick\",\r\n    checkboxRefresh: true,\r\n    pager: \"pagerA\",\r\n    \"export\": true,\r\n    columns: [\r\n        {id: \"item_id\", header: \"Id\", sort: \"int\", width: 60},\r\n        {id: \"deleted\", header: \"<span class='webix_icon mdi mdi-window-close deleted'></span>\", width: 40, css: {\"text-align\": \"center\"}, template: delTemplate},\r\n        {id: \"itemname\", header: [\"Название\", {content: \"textFilter\"}], sort: \"string\", minWidth: 120, fillspace: 2, editor: \"text\"},\r\n        {id: \"tracker_uid\", header: [\"Трекер UID\", {content: \"textFilter\"}], sort: \"int\", minWidth: 140, fillspace: 1},\r\n        {id: \"ownername\", header: [\"Владелец\", {content: \"selectFilter\"}], sort: \"string\", minWidth: 120, fillspace: 2},\r\n        {id: \"owner_id\", hidden: true},\r\n        {id: \"wialon_groupname\", header: [\"Группа\", {content: \"textFilter\"}], sort: \"string\", minWidth: 120, fillspace: 2, editor: \"text\"},\r\n        {id: \"wialon_group_off\", header: [\"Вид\", {content: \"eyeFilter\", css: \"webix_ss_filter\"}], sort: \"int\", width: 80, css: {\"text-align\": \"center\"}, template: eyeTemplate},\r\n        {id: \"servername\", header: [\"Сервер\", {content: \"selectFilter\"}], sort: \"string\", minWidth: 120, fillspace: 1},\r\n        {id: \"status\", header: [\"Статус\", {content: \"staFilter\", css: \"webix_ss_filter\"}], sort: \"int\", minWidth: 100, fillspace: 1, editor: \"inline-checkbox\", template: staTemplate},\r\n        {id: \"edit\", header: \"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\", width: 35,\r\n            template: \"<span  style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n        },\r\n    ],\r\n    scheme: {\r\n        $init: function (obj) {\r\n            if (obj.deleted == 1)\r\n                obj.$css = \"deleted\";\r\n\r\n        }\r\n    },\r\n    url: \"index.php?route=catalog/item/getList&token=\" + token,\r\n    save: {\r\n        \"insert\": \"index.php?route=catalog/item/add&token=\" + token,\r\n        \"update\": \"index.php?route=catalog/item/edit&token=\" + token,\r\n        \"delete\": \"index.php?route=catalog/item/delete&token=\" + token\r\n    },\r\n    onClick: {\r\n        \"mdi-pencil\": function (e, id) {\r\n            this.select(id);\r\n            $$('history-grid').clearAll();\r\n            $$('history-grid').load(\"index.php?route=catalog/item/getItemHistory&token=\" + token + \"&item_id=\" + this.getItem(id).item_id + \"&owner_id=\" + this.getItem(id).owner_id );\r\n            $$('paging').hide();\r\n            $$('edit-tools').hide();\r\n            $$('edit-form-icon').show();\r\n            $$('item-form').show();\r\n        }\r\n    },\r\n    ready: function () {\r\n        webix.extend(this, webix.ProgressBar);\r\n    }\r\n};\r\n\r\nvar xml_format = webix.Date.strToDate(\"%Y-%m-%d\");\r\n\r\nconst history_grid = {\r\n    id: \"history-grid\",\r\n    view: \"datatable\",\r\n    select: \"row\",\r\n\r\n    columns: [\r\n        {id: \"item_history_id\", header: \"#\", sort: \"int\", minWidth: 120},\r\n        {map: \"(date)#date_changed#\", header: \"Дата\", sort: \"date\", minWidth: 120, format: webix.Date.dateToStr(\"%d.%m.%Y\")},\r\n        //{map: \"(date)#date_modified#\", header: \"Дата m\", sort: \"date\", minWidth: 120, format: webix.Date.dateToStr(\"%d.%m.%Y\")},\r\n        {id: \"deleted\", header: \" \", sort: \"int\", width: 40, css: {\"text-align\": \"center\"}, template: delTemplate},\r\n        {id: \"itemname\", header: [\"Объект\", {content: \"selectFilter\"}], sort: \"string\", minWidth: 120, fillspace: 2},\r\n        {id: \"tracker_uid\", header: [\"Трекер UID\", {content: \"selectFilter\"}], sort: \"int\", minWidth: 120, fillspace: 1},\r\n        {id: \"trackername\", header: [\"Трекер\", {content: \"selectFilter\"}], sort: \"int\", minWidth: 120, fillspace: 1},\r\n        {id: \"sim1\", header: [\"SIM-1\", {content: \"selectFilter\"}], sort: \"int\", minWidth: 120, fillspace: 1},\r\n        {id: \"sim2\", header: [\"SIM-2\", {content: \"selectFilter\"}], sort: \"int\", minWidth: 120, fillspace: 1},\r\n        {id: \"wialon_groupname\", header: [\"Группа\", {content: \"selectFilter\"}], sort: \"string\", minWidth: 120, fillspace: 2},\r\n        {id: \"wialon_group_off\", header: [\"Вид\", {content: \"eyeFilter\", css: \"webix_ss_filter\"}], sort: \"int\", minWidth: 80, css: {\"text-align\": \"center\"}, template: eyeTemplate},\r\n        {id: \"online\", header: [\"Состояние\", {content: \"onlFilter\", css: \"webix_ss_filter\"}], sort: \"int\", minWidth: 120, css: {\"text-align\": \"center\"}, template: onlTemplate},\r\n        {id: \"history_tarif_id\", header: [\"Тариф\", {content: \"selectFilter\"}], sort: \"int\", minWidth: 60, fillspace: 1},\r\n        {id: \"history_discount_id\", header: [\"Скидка\", {content: \"selectFilter\"}], sort: \"int\", minWidth: 60, fillspace: 1},\r\n    ],\r\n    scheme: {\r\n        // init не срабатывает в данной ситуации (возможно из-за внешней принудительной загрузки или из-за map)\r\n        $init: function (obj) {\r\n            if (obj.deleted == 1)\r\n                obj.$css = \"deleted\";\r\n            obj.date_changed = xml_format(obj.date_start);\r\n        }\r\n    },\r\n//\turl:\"index.php?route=catalog/item/getItemHistory&token=\"+token+\"&item_id=\"+$$('item-form').getValues().item_id,\r\n    ready: function () {\r\n        webix.extend(this, webix.ProgressBar);\r\n        this.sort({by: \"date_changed\", dir: \"desc\"});\r\n    }\r\n};\r\n\r\nvar months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\nconst billing_grid = {\r\n    id: \"billing-list\",\r\n    view: \"datatable\",\r\n    footer: true,\r\n    stringResult: true,\r\n    columns: [\r\n        {id: \"event_name\", header: \"Событие\", sort: \"int\", minWidth: 120, fillspace: true},\r\n        {id: \"date_start\", header: \"Начало\", sort: \"int\", minWidth: 120, footer: {text: \"Итого:\", colspan: 4}, fillspace: true},\r\n        {id: \"date_end\", header: \"Конец\", sort: \"int\", minWidth: 120, fillspace: true},\r\n        {id: \"tarif\", header: \"Тариф\", sort: \"int\", minWidth: 120, fillspace: true},\r\n        {id: \"discount\", header: \"Скидка\", sort: \"int\", minWidth: 120, fillspace: true},\r\n        {id: \"count\", header: \"Дней\", sort: \"int\", minWidth: 120, footer: {content: \"summColumn\"}},\r\n        {id: \"sum\", header: \"Сумма\", sort: \"int\", minWidth: 120, footer: {content: \"summColumn\"}},\r\n    ],\r\n    ready: function () {\r\n        webix.extend(this, webix.ProgressBar);\r\n    }\r\n};\r\n\r\nconst date_popup = webix.ui({\r\n    view: \"window\",\r\n    modal: true,\r\n    position: \"center\",\r\n    head: \"Какой датой внести изменения?\",\r\n    body: {\r\n        view: \"form\",\r\n        elements: [\r\n            {view: \"datepicker\", name: \"set_date_changed\", value: new Date(), format: \"%d.%m.%Y\", },\r\n            {view: \"button\", label: \"Подтверждение\", type: \"form\", click: function () {\r\n                    var date_changed = this.getParentView().getValues().set_date_changed;\r\n                    $$(\"item-form\").setValues({date_changed: date_changed, }, true);\r\n                    $$(\"item-form\").save();\r\n                    this.getTopParentView().hide();\r\n                }}\r\n        ]\r\n    }\r\n});\r\n\r\nconst iform = {\r\n    view: \"form\",\r\n    id: \"item-form\",\r\n    multiview: {keepViews: true},\r\n    dataFeed: function (id) {\r\n        let current_item_id = $$('catalog-item').getItem(id).item_id;\r\n        this.load(\"index.php?route=catalog/item/getForm&token=\" + token + \"&item_id=\" + current_item_id);\r\n    },\r\n    elements: [\r\n        {\r\n            view: \"tabview\",\r\n            tabbar: {options: [\"Общие\", \"Железо\", \"Биллинг\", \"История\"]}, animate: false,\r\n            cells: [\r\n                {id: \"Общие\", rows: [\r\n                        {cols: [\r\n                                {view: \"text\", id: \"item_id\", name: \"item_id\", label: \"ID объекта\", labelWidth: 140, readonly: true},\r\n                                {view: \"text\", id: \"date_created\", name: \"date_created\", label: \"Дата создания\", labelWidth: 140, labelAlign: \"right\", readonly: true},\r\n                            ]},\r\n                        {view: \"text\", name: \"itemname\", label: \"Название\", labelWidth: 140, readonly: true},\r\n                        {cols: [\r\n                                {view: \"text\", name: \"wialon_id\", label: \"Wialon ID\", labelWidth: 140, readonly: true},\r\n                                {view: \"text\", name: \"servername\", label: \"Сервер\", labelWidth: 140, labelAlign: \"right\", readonly: true},\r\n                            ]},\r\n                        {view: \"template\", template: \"Принадлежность\", type: \"section\"},\r\n                        {cols: [\r\n                                {view: \"text\", name: \"wialon_groupname\", label: \"Группа\", labelWidth: 140, readonly: true},\r\n                                {view: \"radio\", name: \"wialon_group_off\", label: \"Видимость\", labelWidth: 140, labelAlign: \"right\", disabled: true,\r\n                                    options: [\r\n                                        {id: 0, value: \"<span class='webix_icon mdi mdi-eye wialon-group-on'></span>\"},\r\n                                        {id: 1, value: \"<span class='webix_icon mdi mdi-eye-off wialon-group-off'></span>\"},\r\n                                    ],\r\n                                },\r\n                            ]},\r\n                        {view: \"text\", name: \"ownername\", label: \"Владелец\", labelWidth: 140, readonly: true},\r\n                        {view: \"text\", name: \"owner_id\", hidden: true},\r\n                        {view: \"template\", template: \"Данные\", type: \"section\"},\r\n                        {cols: [\r\n                                {view: \"text\", id: \"date_last\", name: \"date_last\", label: \"Последнее сообщение\", labelWidth: 170, readonly: true},\r\n                                {view: \"text\", id: \"date_modified\", name: \"date_modified\", label: \"Дата модификации\", labelWidth: 170, labelAlign: \"right\", readonly: true},\r\n                            ]},\r\n                        {cols: [\r\n                                {view: \"text\", name: \"sort_order\", label: \"Порядок сортировки\", labelWidth: 170},\r\n                                {view: \"select\", name: \"status\", label: \"Статус\", labelWidth: 170, labelAlign: \"right\", options: [{id: 0, value: \"Отключено\"}, {id: 1, value: \"Включено\"}], },\r\n                            ]},\r\n                        {}\r\n                    ]},\r\n                {id: \"Железо\", rows: [\r\n                        {view: \"template\", template: \"Трекер\", type: \"section\"},\r\n                        {cols: [\r\n                                {view: \"text\", name: \"tracker_uid\", label: \"Трекер UID\", labelWidth: 140, gravity: 3, readonly: true},\r\n                                {view: \"text\", name: \"trackername\", label: \"Тип трекера\", labelWidth: 120, labelAlign: \"right\", gravity: 2, readonly: true},\r\n                                {view: \"text\", name: \"tracker_hw\", label: \"HW\", labelWidth: 60, width: 160, labelAlign: \"right\", gravity: 1, readonly: true},\r\n                            ]},\r\n                        {view: \"text\", name: \"password\", label: \"Пароль\", labelWidth: 140, readonly: true},\r\n                        {cols: [\r\n                                {view: \"text\", name: \"sim1\", label: \"Сим-карта 1\", labelWidth: 140, readonly: true},\r\n                                {view: \"text\", name: \"sim2\", label: \"Сим-карта 2\", labelWidth: 120, labelAlign: \"right\", readonly: true},\r\n                            ]},\r\n                        {view: \"template\", template: \"Датчики\", type: \"section\"},\r\n                        {}\r\n                    ]},\r\n                {id: \"Биллинг\", rows: [\r\n                        {view: \"template\", template: \"Объект\", type: \"section\"},\r\n                        {cols: [\r\n                                {view: \"select\", name: \"tarif_id\", label: \"Тариф объекта\", labelWidth: 140, options: \"index.php?route=catalog/item/getTarifs&token=\" + token},\r\n                                {view: \"select\", name: \"discount_id\", label: \"Скидка объекта\", labelWidth: 140, labelAlign: \"right\", options: \"index.php?route=catalog/item/getDiscounts&token=\" + token},\r\n                            ]},\r\n                        {view: \"template\", template: \"Группа\", type: \"section\"},\r\n                        {cols: [\r\n                                {view: \"select\", name: \"tarif_group_id\", label: \"Тариф группы\", labelWidth: 140, options: \"index.php?route=catalog/wialongroup/getTarifs&token=\" + token, disabled: true, },\r\n                                {view: \"select\", name: \"discount_group_id\", label: \"Скидка группы\", labelWidth: 140, labelAlign: \"right\", options: \"index.php?route=catalog/wialongroup/getDiscounts&token=\" + token, disabled: true, },\r\n                            ]},\r\n                        {view: \"template\", template: \"Расчет за период\", type: \"section\"},\r\n                        {cols: [\r\n                                {view: \"datepicker\", name: \"date_start\", label: \"Начало\", labelWidth: 80, value: new Date(), format: \"%d.%m.%Y\"},\r\n                                {view: \"datepicker\", name: \"date_end\", label: \"Конец\", labelWidth: 80, labelAlign: \"right\", value: new Date(), format: \"%d.%m.%Y\"},\r\n                                //{ view:\"datepicker\", name:\"date_changed\", hidden: true }, test notepad git\r\n                                {view: \"button\", value: \"Расчитать\", width: 120, click: function () {\r\n                                        let values = $$('item-form').getValues();\r\n                                        let tarif_id = Number(values.tarif_id) || Number(values.tarif_group_id);\r\n                                        let discount_id = Number(values.discount_id) || Number(values.discount_group_id);\r\n                                        let date_start = months[values.date_start.getMonth()] + ' ' + values.date_start.getDate() + 'th, ' + values.date_start.getFullYear();\r\n                                        let date_end = months[values.date_end.getMonth()] + ' ' + values.date_end.getDate() + 'th, ' + values.date_end.getFullYear();\r\n                                        $$('billing-list').clearAll();\r\n                                        debugger;\r\n                                        $$('billing-list').load(\"index.php?route=billing/billing/getItemBilling&token=\" + token + \"&item_id=\" + values.item_id  + \"&owner_id=\" + values.owner_id\r\n                                            + \"&date_start=\" + date_start + \"&date_end=\" + date_end + \"&tarif_id=\" + tarif_id + \"&discount_id=\" + discount_id);\r\n                                    }},\r\n                            ]},\r\n                        billing_grid,\r\n                    ]},\r\n                {id: \"История\", rows: [\r\n                        history_grid,\r\n                    ]}\r\n            ]\r\n        },\r\n        {\r\n            margin: 10,\r\n            cols: [\r\n                {},\r\n                {view: \"button\", value: \"Отменить\", width: 120, click: function () {\r\n                        $$(\"item-views\").back();\r\n                        $$('paging').show();\r\n                        $$('edit-form-icon').hide();\r\n                        $$('edit-tools').show();\r\n                    }},\r\n                {view: \"button\", value: \"Сохранить\", type: \"form\", width: 120, click: function () {\r\n                        let iform = $$(\"item-form\");\r\n                        if (iform.isDirty()) {\r\n                            if (!iform.validate())\r\n                                return false;\r\n\r\n                            webix.ajax().post(\"index.php?route=catalog/item/validateForm&token=\" + token, $$(\"item-form\").getValues(), function (text, data, XmlHttpRequest) {\r\n                                if (text && text != \"[]\") {\r\n                                    webix.message({\r\n                                        text: JSON.parse(text).warning,\r\n                                        type: \"error\",\r\n                                        expire: 5000,\r\n                                    }); //show server side response\r\n                                    return false;\r\n                                } else {\r\n                                    date_popup.show();\r\n                                    //\tiform.save();\r\n                                }\r\n\r\n                            });\r\n                        }\r\n                        $$(\"item-views\").back();\r\n                        $$('paging').show();\r\n                        $$('edit-form-icon').hide();\r\n                        $$('edit-tools').show();\r\n                    }}\r\n            ]\r\n        },\r\n    ],\r\n    //rules:{\r\n    //\t\"date_end\": function(value){ return value >= $$(\"date_start\").getValue()},\r\n    //\t\"date_start\": function(value){ return value <= $$(\"date_end\").getValue()},\r\n    //}\r\n};\r\n\r\nconst item_views = {\r\n    view: \"multiview\",\r\n    id: \"item-views\",\r\n    cells: [grid, iform, ]\r\n};\r\n\r\nconst layout = {\r\n    id: \"layout\",\r\n    type: \"space\",\r\n    rows: [\r\n        {height: 40, id: \"edit-tools\", cols: outplugins},\r\n        {height: 40, id: \"edit-form-icon\", cols: toolplug, hidden: true},\r\n        {rows: [item_views, paging]}\r\n    ]\r\n};","import {JetView} from \"webix-jet\";\r\n\r\nexport default class LoginView extends JetView{\r\n\tconfig(){\r\n\t\treturn ui;\r\n\t}\r\n\tinit(view){\r\n\t\tview.$view.querySelector(\"input\").focus();\r\n\t}\r\n\r\n\tdo_login(){\r\n\t\tconst user = this.app.getService(\"user\");\r\n\t\tconst form = this.getRoot().queryView({ view:\"form\" });\r\n\r\n\t\tif (form.validate()){\r\n\t\t\tconst data = form.getValues();\r\n\t\t\tuser.login(data.username, data.password).catch(function(){\r\n\t\t\t\twebix.html.removeCss(form.$view, \"invalid_login\");\r\n\t\t\t\tform.elements.password.focus();\r\n\t\t\t\twebix.delay(function(){\r\n\t\t\t\t\twebix.html.addCss(form.$view, \"invalid_login\");\r\n\t\t\t\t});//.then(result => {console.log(user.getUser())}, error => {console.log(user.getUser())});\t\t\t\t\r\n\t\t\t});\r\n\t\t\t//if (user.getUser() !== null) { console.log(user.getUser().token);} else {console.log(\"Empty token\");}\r\n\t\t\t//token = user.getUser().token;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst login_form = {\r\n\tview:\"form\",\r\n\tid: \"loginform\",\r\n\twidth:400, borderless:false, margin:10,\r\n\trows:[\r\n\t\t//{ view: \"label\", name: \"error_warning\", label: error_warning, hidden: error_warning?false:true, css: \"webix_alert-error\"},\r\n\t\t{ type:\"header\", template:\"<span class='webix_icon mdi mdi-lock'></span>Введите логин и пароль\" },\r\n\t\t{ view:\"text\", name:\"username\", label:\"Логин\", labelPosition:\"top\", invalidMessage: \"Логин не должен быть пустым\" },\r\n\t\t{ view:\"text\", type:\"password\", name:\"password\", label:\"Пароль\", labelPosition:\"top\", invalidMessage: \"Пароль не должен быть пустым\" },\r\n\t\t{ view: \"button\", label: \"Войти\", type: \"iconButton\", icon: \"mdi mdi-key\", click:function(){\r\n\t\t\tthis.$scope.do_login();\r\n\t\t}, hotkey:\"enter\" }\r\n\t],\r\n\trules:{\r\n\t\tusername:webix.rules.isNotEmpty,\r\n\t\tpassword:webix.rules.isNotEmpty\r\n\t}\r\n};\r\n\r\nconst ui = { rows: [ {}, { cols:[ {}, login_form, {}]}, {} ] };"," \r\n\tconst login = {\r\n        maxWidth: 320,\r\n\r\n        type: \"space\",\r\n        rows: [\r\n            {\r\n                view: \"toolbar\",\r\n                css: \"highlighted_header header1\",\r\n                paddingX: 5,\r\n                paddingY: 5,\r\n                height: 40,\r\n                cols: [\r\n                    {\r\n                        \"template\": \"<span class='webix_icon fa-lock'></span>Введите логин и пароль\", \"css\": \"sub_title2\", borderless: true\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                view: \"form\",\r\n                id: \"loginForm\",\r\n                elementsConfig: {\r\n                    labelWidth: 90\r\n                },\r\n                elements: [\r\n                    {view: \"text\", label: \"Логин\", placeholder: \"Логин\", name: \"username\", value: username, invalidMessage: \"Логин не должен быть пустым\"},\r\n                    {view: \"text\", label: \"Пароль\", placeholder: \"Пароль\", name: \"password\", type: 'password', value: password, invalidMessage: \"Пароль не должен быть пустым\"},\r\n                    {view: \"text\", name: \"redirect\", value: redirect, hidden: true},\r\n                    {\r\n                        margin: 10,\r\n                        paddingX: 2,\r\n                        borderless: true,\r\n                        cols: [\r\n                            {},\r\n                            {view: \"button\", label: \"Войти\", type: \"iconButton\", icon: \"key\", align: \"right\", width: 100,\r\n                                click: function () {\r\n                                    if (webix.$$(\"loginForm\").validate())\r\n                                        console.log(action);\r\n                                    webix.send(action, webix.$$(\"loginForm\").getValues());\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                ],\r\n                rules: {\r\n                    name1: webix.rules.isNotEmpty\r\n                }\r\n\r\n            }\r\n        ]\r\n    };\r\n\r\n    if (error_warning)\r\n        webix.alert({type: \"alert-error\", text: error_warning});\r\n    if (success)\r\n        webix.alert({type: \"alert-warning\", text: success});\r\n\r\n    webix.ui({\r\n        container: \"areaA\",\r\n        id: \"mylayout\",\r\n        margin: 30,\r\n        type: \"clean\",\r\n        rows: [{}, {}, {}, {}, {}, {}, {}, {cols: [{}, login, {}]}]\r\n                //rows:[login]\r\n    })\r\n\t\r\n","const context = {\r\n\tview:\"contextmenu\",\r\n\t//id: \"contextPopup\",\r\n\t//width: 200,\r\n\tpadding:0,\r\n\tdata:[{value:\"Add\",task:\"add\"},{value:\"Rename\", task:\"rename\"},{value:\"Delete\", task:\"delete\"},{ $template:\"Separator\" },{value:\"Info\",task:\"info\"}],\r\n\ton:{\r\n\t\tonItemClick:function(id){\r\n\t\t\tvar task =this.getItem(id).task;\t\t\t\t\t\r\n\t\t\tif (backendController)\t{\t\t\t\t\r\n\t\t\t\twebix.ajax().post(\"index.php?route=\"+backendController+task+\"&token=\"+token, selRows, function(response) {\r\n\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t});\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport default context;","const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\nconst daterange = {\r\n    view: \"form\",\r\n    id: \"daterange\",\r\n    borderless: true,\r\n    paddingY: 0,\r\n    elements: [\r\n        {\r\n            cols: [\r\n                {\r\n                    view: \"datepicker\", name: \"date_start\", label: \"Начало\", labelWidth: 80, value: new Date(), format: \"%d.%m.%Y\",\r\n                    on: {\r\n                        \"onChange\": onChange2\r\n                    }\r\n                },\r\n                {\r\n                    view: \"datepicker\", name: \"date_end\", label: \"Конец\", labelWidth: 80, labelAlign: \"right\", value: new Date(), format: \"%d.%m.%Y\",\r\n                    on: {\r\n                        \"onChange\": onChange2\r\n                    }\r\n                },\r\n            ]\r\n        }\r\n    ]\r\n};\r\n\r\nfunction onChange(newVal, oldVal) {\r\n    let picker_form = this.getParentView().getParentView();    \r\n    let grid = picker_form.getParentView().getParentView().queryView({ view: \"datatable\" });    \r\n    let values = picker_form.getValues();\r\n\r\n    if (values.date_start > values.date_end) {\r\n        this.setValue(oldVal);\r\n        return;\r\n    }\r\n\r\n    const dayMilliseconds = 24*60*60*1000;\r\n    const validInterval = 60; // days\r\n    let new_date = new Date(newVal);\r\n    let diff1 = Math.abs(parseInt((new_date - new Date(values.date_start))/dayMilliseconds)) - validInterval;\r\n    let diff2 = Math.abs(parseInt((new_date - new Date(values.date_end))/dayMilliseconds)) - validInterval;  \r\n    \r\n    if (diff2 > 0) { // date_start has been changed\r\n        new_date.setDate(new_date.getDate() + validInterval);       \r\n        picker_form.setValues({date_end:new_date},true);\r\n    }\r\n    if (diff1 > 0) { // date_end has been changed\r\n        new_date.setDate(new_date.getDate() - validInterval);         \r\n        picker_form.setValues({date_start:new_date},true);\r\n    }\r\n       \r\n    values = picker_form.getValues();  // take new values\r\n    let date_start = months[values.date_start.getMonth()] + ' ' + values.date_start.getDate() + 'th, ' + values.date_start.getFullYear();\r\n    let date_end = months[values.date_end.getMonth()] + ' ' + values.date_end.getDate() + 'th, ' + values.date_end.getFullYear();\r\n    \r\n    grid.clearAll();\r\n    grid.load(grid.config.url + \"&date_start=\" + date_start + \"&date_end=\" + date_end);\r\n    \r\n}\r\n\r\nfunction onChange2(newVal, oldVal) {\r\n    let picker_form = this.getParentView().getParentView();    \r\n    let grid = picker_form.getParentView().getParentView().queryView({ view: \"datatable\" });    \r\n    let values = picker_form.getValues();\r\n\r\n    if (values.date_start > values.date_end) {\r\n        this.setValue(oldVal);\r\n        return;\r\n    }\r\n   \r\n    let date_start = months[values.date_start.getMonth()] + ' ' + values.date_start.getDate() + 'th, ' + values.date_start.getFullYear();\r\n    let date_end = months[values.date_end.getMonth()] + ' ' + values.date_end.getDate() + 'th, ' + values.date_end.getFullYear();\r\n    \r\n    grid.clearAll();\r\n    grid.load(grid.config.url + \"&date_start=\" + date_start + \"&date_end=\" + date_end);\r\n    grid.filterByAll();\r\n    //grid.sort();\r\n}\r\n\r\nexport default daterange;","const controls = [\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"mdi mdi-file-excel\", tooltip: \"Export To Excel\", click: function(){\r\n\t\t//var layout = $$(\"layout\");\r\n\t\tlet layout = this.getParentView().getParentView();\r\n\t\tlet table = layout.queryView({ view:\"datatable\" });\r\n\t\tlet treetable = layout.queryView({ view:\"treetable\" });\r\n\t\tlet excellview = table !== null ? table : treetable;\r\n\t\t\t\t\r\n\t\twebix.toExcel(excellview);}\r\n\t},\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"mdi mdi-file-pdf\", tooltip: \"Export To PDF\", click: function(){\r\n\t\t//var layout = this.getParentView().getParentView();\t\t\r\n\t\t//webix.toPDF(layout.queryView({ view:\"datatable\" }));\r\n\t\t}\r\n\t},\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"mdi mdi-file-image\", tooltip: \"Export To PNG\", click: function(){\r\n\t\tvar layout = this.getParentView().getParentView();\t\t\r\n\t\twebix.toPNG(layout.queryView({ view:\"datatable\" }));}\r\n\t},\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"mdi mdi-printer\", tooltip: \"Print\", click: function(){\r\n\t\t//webix.toPNG(webix.grid);\r\n\t\t}\r\n\t},\r\n\t{},\r\n];\r\n\r\nexport default controls;","const controls = [\t\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"mdi mdi-file-document-box\", tooltip: \"Просмотр карточки\", click: function(){\r\n\t\t//webix.toPNG(webix.grid);\r\n\t\t}\r\n\t},\r\n\t{},\r\n];\r\n\r\nexport default controls;","const ui = {\r\n\tview: \"popup\",\r\n\tid: \"mailPopup\",\r\n\twidth: 300,\r\n\tpadding:0,\r\n\tcss:\"list_popup\",\r\n\tbody:{\r\n\t\ttype: \"clean\",\r\n\t\tborderless:true,\r\n\t\trows:[\r\n\t\t\t{\r\n\t\t\t\tview: \"list\",\r\n\t\t\t\tautoheight: true,\r\n\t\t\t\tdata: [\r\n\t\t\t\t\t{id: 1, name: \"Sofia Lee\", text: \"Lorem ipsum dolor sit amet.\", personId:2},\r\n\t\t\t\t\t{id: 2, name: \"Jeremy O'Neal\", text: \"Morbi eget facilisis risus.\", personId:1},\r\n\t\t\t\t\t{id: 3, name: \"Paul Jackson\", text: \"Cras lacinia bibendum arcu.\", personId:1}\r\n\t\t\t\t],\r\n\t\t\t\ttype:{\r\n\t\t\t\t\theight: 45,\r\n\t\t\t\t\ttemplate: \"<img class='photo' src='http://wtools/view/image/wtools/photos/#personId#.png' /><span class='text'>#text#</span><span class='name'>#name#</span>\"\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcss: \"show_all\", template: \"Show all emails <span class='webix_icon fa-angle-double-right'></span>\", height: 40\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n};\r\n\r\nexport default ui;","const ui = {\r\n\tview: \"popup\",\r\n\tid: \"messagePopup\",\r\n\twidth: 300,\r\n\tpadding:0,\r\n\tcss:\"list_popup\",\r\n\tbody:{\r\n\t\ttype: \"clean\",\r\n\t\tborderless:true,\r\n\t\trows:[\r\n\t\t\t{\r\n\t\t\t\tview: \"list\",\r\n\t\t\t\tautoheight: true,\r\n\t\t\t\tdata: [\r\n\t\t\t\t\t{id: 1, name: \"Mario Douglas\", text: \"Lorem ipsum dolor sit amet\", personId:1},\r\n\t\t\t\t\t{id: 2, name: \"Sofia Lee\", text: \"Praesent luctus nulla enim, pellentesque condimentum \", personId:2},\r\n\t\t\t\t\t{id: 3, name: \"Kim Alley\", text: \"Lorem ipsum dolor sit amet\", personId:2},\r\n\t\t\t\t\t{id: 4, name: \"Jeremy O'Neal\", text: \"Morbi eget facilisis risus\", personId:1},\r\n\t\t\t\t\t{id: 5, name: \"Paul Jackson\", text: \"Cras lacinia bibendum arcu\", personId:1}\r\n\t\t\t\t],\r\n\t\t\t\ttype:{\r\n\t\t\t\t\theight: 45,\r\n\t\t\t\t\ttemplate: \"\t<img class='photo' src='http://wtools/view/image/wtools/photos/#personId#.png' /><span class='text'>#text#</span><span class='name'>#name#</span>\"\r\n\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tcss: \"show_all\", template: \"Show all messages <span class='webix_icon fa-angle-double-right'></span>\", height: 40\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n};\r\n\r\nexport default ui;","const ui = {\r\n\tview: \"submenu\",\r\n\tid: \"profilePopup\",\r\n\twidth: 200,\r\n\tpadding:0,\r\n\tdata: [\r\n\t\t{id: 1, icon: \"mdi mdi-user\", value: \"My Profile\"},\r\n\t\t{id: 2, icon: \"mdi mdi-cog\", value: \"My Account\"},\r\n\t\t{id: 3, icon: \"mdi mdi-calendar\", value: \"My Calendar\"},\r\n\t\t{id: 5, icon: \"mdi mdi-tasks\", value: \"My Tasks\"},\r\n\t\t{ $template:\"Separator\" },\r\n\t\t{id: 4, icon: \"mdi mdi-sign-out\", value: \"Выход\"}\r\n\t],\r\n\ttype:{\r\n\t\ttemplate: function(obj){\r\n\t\t\tif(obj.type)\r\n\t\t\t\treturn \"<div class='separator'></div>\";\r\n\t\t\treturn \"<span class='webix_icon mdi mdi-alerts fa-\"+obj.icon+\"'></span><span>\"+obj.value+\"</span>\";\r\n\t\t}\r\n\t},\r\n\ton:{\r\n\t\tonMenuItemClick:function(id){\r\n\t\t\r\n\t\t  switch (id) {\r\n\t\t\tcase \"1\": console.log(id); break;\r\n\t\t\tcase \"2\": console.log(id); break;\r\n\t\t\tcase \"3\": console.log(id); break;\r\n\t\t\tcase \"4\":\t\t\t\t\r\n\t\t\t\t//webix.ajax(\"index.php?route=common/logout\");\r\n\t\t\t\tconst user = this.$scope.app.getService(\"user\");\t\t\t\t\r\n\t\t\t\tuser.logout();\r\n\t\t\t\tthis.$scope.app.refresh();\r\n\t\t\t\t//this.$scope.app.show(\"/app/login\");\t\t\t\t\r\n\t\t\t\tbreak; \t\t\t\r\n\t\t  }     \r\n\t\t}\r\n\t},\r\n};\r\n\r\nexport default ui;","const ui = {\r\n\tview: \"popup\",\r\n\tid: \"searchPopup\",\r\n\r\n\twidth: 300,\r\n\tbody:{\r\n\t\trows:[\r\n\t\t\t{\r\n\t\t\t\tview: \"search\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tborderless:true, css: \"extended_search\", template: \"<span>Extended search</span>\", height: 40\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n};\r\n\r\nexport default ui;","import {\r\n\tJetView,\r\n\tplugins\r\n} from \"webix-jet\";\r\nimport menudata from \"models/column_left\";\r\n\r\nconst layout = {\r\n\trows: [{\r\n\t\t\tcss: \"menu\",\r\n\t\t\tpadding: 2,\r\n\t\t\tview: \"form\",\r\n\t\t\tcols: [{\r\n\t\t\t\tview: \"button\",\r\n\t\t\t\ttype: \"icon\",\r\n\t\t\t\ticon: \"mdi mdi-menu\",\r\n\t\t\t\tinputWidth: 37,\r\n\t\t\t\talign: \"left\",\r\n\t\t\t\tcss: \"title\",\r\n\t\t\t\tclick: function () {\r\n\t\t\t\t\twebix.$$(\"app:menu\").toggle();\r\n\t\t\t\t}\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\tcss: \"menu\",\r\n\t\t\twidth: 210,\r\n\t\t\tview: \"sidebar\",\r\n\t\t\tid: \"app:menu\",\r\n\t\t\ton: {\r\n\t\t\t\tonBeforeSelect: function (id) {\r\n\t\t\t\t\tif (this.getItem(id).$count) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonAfterSelect: function (id) {\r\n\t\t\t\t\tvar menu_item = this.getItem(id);\r\n\t\t\t\t\twebix.$$(\"title\").parse({\r\n\t\t\t\t\t\ttitle: menu_item.value,\r\n\t\t\t\t\t\tdetails: menu_item.details\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$scope.app.show(\"/app/\" + menu_item.id);\r\n\t\t\t\t},\r\n\t\t\t\tonAfterLoad: function () {\r\n\t\t\t\t\tvar firstid = this.getFirstId();\r\n\t\t\t\t\tthis.select(firstid);\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default class MenuView extends JetView {\r\n\tinit() {\r\n\t\tvar userinfo = this.app.getService(\"user\").getUser();\r\n\t\t//console.log(token);\r\n\t\twebix.$$(\"app:menu\").parse(menudata(userinfo.token));\r\n\t}\r\n\tconfig() {\r\n\t\treturn layout;\r\n\t}\r\n}","const controls = [\t\r\n\t{view: \"icon\", id:\"refresh\",  type: \"icon\", borderless:false, icon:\"mdi mdi-refresh\", tooltip: \"Освежить\", click: function(){\r\n\t\t//var grid = webix.$$(\"catalog-owner\");\r\n\t\tvar wxgrid = this.getParentView().getParentView().queryView({ view:\"datatable\" });\r\n\t\twxgrid.clearAll();\r\n\t\twxgrid.showProgress();\r\n\t\twebix.delay(function(){\r\n\t\t\twxgrid.load(wxgrid.config.url);\r\n\t\t\twxgrid.hideProgress();\r\n\t\t}, null, null, 300);\r\n\t\t\r\n\t}},\t\r\n\t{view: \"icon\", id:\"add\",  type: \"icon\", borderless:false, icon:\"mdi mdi-plus\", tooltip: \"Добавить\", click: function(){\r\n\t\tvar wxgrid = this.getParentView().getParentView().queryView({ view:\"datatable\" });\r\n\t\tvar wxform = this.getParentView().getParentView().queryView({ view:\"form\" });\r\n\t\tvar route = wxgrid.config.id.replace('-','/')+\"/validateAdd&token=\"+token;\r\n\t\twebix.ajax().post(\"index.php?route=\" + route, {\"grid_id\":wxgrid.config.id}, function(text, xml, xhr){\t\t\t\t\t\t\t\r\n\t\t\t\tif (!!JSON.parse(text).warning) {\r\n\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\ttext:JSON.parse(text).warning,\r\n\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}); //show server side response\t\t\t\t\t\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\twxform.clear();\r\n\t\t\t\t\tvar item = wxgrid.add(wxform.getValues());\r\n\t\t\t\t\twxgrid.showItem(item);\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\t\t}\r\n\t},\r\n\t{view: \"icon\", id:\"copy\",  type: \"icon\", borderless:false, icon:\"mdi mdi-content-copy\", tooltip: \"Копировать\", disabled:true, click: function(){\r\n\t\t\tvar wxgrid = this.getParentView().getParentView().queryView({ view:\"datatable\" });\r\n\t\t\tvar selRows = wxgrid.getSelectedItem(true);\r\n\t\t\tselRows.forEach(function(item, idx, arr) {\r\n                wxgrid.add({name:item.name});\t\t\t\t\t\t\t\t\r\n            });\t\t\t\r\n\t\t\twxgrid.showItem(wxgrid.getLastId());\r\n\t\t}\r\n\t},\r\n\t{view: \"icon\", id:\"delete\", type: \"icon\", borderless:false, icon:\"mdi mdi-trash-can-outline\", tooltip: \"Удалить\", click: function(){\r\n\t\t\tvar wxgrid = this.getParentView().getParentView().queryView({ view:\"datatable\" });\r\n\t\t\tvar wxform = this.getParentView().getParentView().queryView({ view:\"form\" });\r\n\t\t\tvar route = wxgrid.config.id.replace('-','/')+\"/validateDelete&token=\"+token;\r\n\t\t\twebix.confirm({\r\n\t\t\t\ttext:\" Выделенные строки будут удалены. <br/> Вы уверены? \", ok:\"Да\", cancel:\"Отменить\",\r\n\t\t\t\tcallback:(res) => {\r\n\t\t\t\t\tif(res){\r\n\t\t\t\t\t\tvar request_val = wxform.getValues();\r\n\t\t\t\t\t\trequest_val.grid_id = wxgrid.config.id;\r\n\t\t\t\t\t\twebix.ajax().post(\"index.php?route=\" + route, request_val, function(text){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!!JSON.parse(text).warning) {\r\n\t\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\t\ttext:JSON.parse(text).warning,\r\n\t\t\t\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}); //show server side response\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\twxgrid.remove(wxgrid.getSelectedId());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\t\r\n\t\t}\r\n\t},\t\r\n\t{ view: \"switch\", id:\"selectall\",  width: 140, borderless:false, onLabel: \"Отменить\", offLabel:\"Выделить все\", value: 0, \r\n\t\ton:{\r\n\t\t\t'onItemClick': function(id){\r\n\t\t\t\tvar wxgrid = this.getParentView().getParentView().queryView({ view:\"datatable\" });\t\r\n\t\t\t\tvar val = this.getValue();\t\t\t\t\t\t\t\r\n\t\t\t\tif(val==\"1\") {\r\n\t\t\t\t\twxgrid.selectRange(wxgrid.getFirstId(),wxgrid.getLastId(), true);\t\t\t\t\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\twxgrid.clearSelection();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n];\r\n\r\nexport default controls;","const controls = [\t\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"mdi mdi-pencil\", tooltip: \"Заполнение формы\", click: function(){\r\n\t\t//webix.toPNG(webix.grid);\r\n\t\t}\r\n\t},\r\n\t{},\r\n];\r\n\r\nexport default controls;","var header = {\r\n\t\"template\": \"<span class='webix_icon mdi mdi-trophy'></span>Лучшие клиенты\", \"css\": \"sub_title\", \"height\": 50\r\n};\r\n\r\nvar list = {\r\n\t\"view\": \"list\",\r\n\tcss: \"chat_list\",\t\r\n\tmaxHeight: 270,\r\n\tminHeight: 230,\r\n\t\"type\": {\r\n\t\t\"height\": \"auto\",\r\n\t\t\"template\": function(obj){\r\n\t\t\tvar text = \t\"<table><tr class='total-list'><td><span class='webix_icon mdi mdi-car total-objects'></span></td><td width='40%'>Всего объектов </td><td width='10%'>\" +obj.total_objects+\"</td>\"+\r\n\t\t\t\t\t\t\"<td> </td><td><span class='webix_icon mdi mdi-car total-objects-on'></span></td><td width='40%'>Подключено </td><td width='10%'>\" +obj.total_on+\"</td></tr>\" +\t\t\t\t\t\t\r\n\t\t\t\t\t\t\"<tr class='total-list'><td><span class='webix_icon mdi mdi-car tracker-online-f'></span></td><td width='40%'>Работало </td><td width='10%'>\" +obj.total_online+\r\n\t\t\t\t\t\t\"<td> </td><td><span class='webix_icon mdi mdi-car tracker-offline-f'></span></td><td width='40%'>Не работало </td><td width='10%'>\" +obj.total_offline+\"</td></tr></table>\";\t\t\t\t\t\t\r\n\t\t\tvar html = \t\"<img class='photo' src='image/wtools/photos/\"+obj.id+\".png' />\";\r\n\t\t\thtml += \"<div class='text'><div class='name'>\"+obj.ownername+\"</div>\";\r\n\t\t\thtml += text+\"</div>\";\r\n\t\t\treturn html;\r\n\t\t}\r\n\t},\t\r\n\turl: \"index.php?route=report/total/getBestsellers&token=\"+token,\r\n};\r\n\r\n\r\nconst layout = {\r\n\ttype: \"clean\",\t\r\n\trows:[\r\n\t\theader,\r\n\t\tlist\r\n\t]\r\n};\r\n\r\nexport default layout;","const dataset = [\r\n\t{ sales:4.1, sales2:8.0, year:\"08\" },\r\n\t{ sales:4.3, sales2:9.0, year:\"09\" },\r\n\t{ sales:7.6, sales2:11.0, year:\"10\" },\r\n\t{ sales:7.8, sales2:13.0, year:\"11\" },\r\n\t{ sales:7.2, sales2:10.0, year:\"12\" },\r\n\t{ sales:5.3, sales2:14.0, year:\"13\" },\r\n\t{ sales:4.8, sales2:12.0, year:\"14\" }\r\n];\r\n\r\nconst chart = {\r\n\tview:\"chart\",\r\n\ttype: \"bar\",\r\n\tbarWidth: 40,\r\n\tpadding:{\r\n\t\tleft:30,\r\n\t\tbottom: 60\r\n\t},\r\n\tradius:0,\r\n\tyAxis:{\r\n\t},\r\n\txAxis:{\r\n\t\tlines:true,\r\n\t\ttitle:\"Sales per year<br/>&nbsp;\",\r\n\t\ttemplate:\"'#id#\"\r\n\t},\r\n\tlegend:{\r\n\t\tlayout:\"y\",\r\n\t\twidth:100,\r\n\t\talign:\"right\",\r\n\t\tvalign:\"middle\",\r\n\t\tvalues:[\r\n\t\t\t{text:\"Asia\",color:\"#61b5ee\"},\r\n\t\t\t{text:\"Europe\",color:\"#e9df40\"},\r\n\t\t\t{text:\"Average\", toggle:true,markerType: \"item\"}\r\n\t\t]\r\n\t},\r\n\tscheme:{\r\n\t\t$group: {\r\n\t\t\tby:\"year\",\r\n\t\t\tmap:{\r\n\t\t\t\tsalesA:[\"sales2\",\"any\"],\r\n\t\t\t\tsalesB:[\"sales\",\"any\"],\r\n\t\t\t\tsalesAverage:[\"sales\",getAverage]\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tseries:[\r\n\t\t{\r\n\t\t\tvalue:\"#salesA#\",\r\n\t\t\tcolor:\"#61b5ee\",\r\n\r\n\t\t\tgradient: \"falling\",\r\n\t\t\talpha: 0.8\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype:\"area\",\r\n\t\t\talpha:0.4,\r\n\t\t\tvalue:\"#salesB#\",\r\n\t\t\tcolor:\"#e9df40\"\r\n\t\t},\r\n\t\t{\r\n\t\t\ttype:\"line\",\r\n\t\t\tvalue:\"#salesAverage#\",\r\n\t\t\titem:{\r\n\t\t\t\tradius:2,\r\n\t\t\t\tborderColor: \"#27ae60\"\r\n\t\t\t},\r\n\t\t\tline:{\r\n\t\t\t\tcolor:\"#27ae60\",\r\n\t\t\t\twidth:2\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\tdata: dataset\r\n};\r\nfunction getAverage(property,data){\r\n\tlet summ = 0;\r\n\tfor(let i = 0; i < data.length; i++){\r\n\t\tsumm += (parseFloat(data[i].sales)||0);\r\n\t\tsumm += (parseFloat(data[i].sales2)||0);\r\n\t}\r\n\treturn data.length?summ/(data.length*2):0;\r\n}\r\n\r\n\r\nexport default chart;","const ui = {\r\n\tview: \"template\",\r\n\tid : \"dashline\",\r\n\theight: 150,\r\n\tcss: \"tiles\",\r\n\tsrc: \"index.php?route=common/dashboard&token=\"+token,\r\n};\r\n\t\r\nexport default ui;","import {JetView} from \"webix-jet\";\r\nimport data from \"models/orders\";\r\n\r\nexport default class DataPagerView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(view){\r\n\t\tview.queryView({ view:\"datatable\" }).parse(data);\r\n\t}\r\n}\r\n\r\nconst titlePager = {\r\n\tview: \"toolbar\",\r\n\tcss: \"highlighted_header header5\",\r\n\tpaddingX:5,\r\n\tpaddingY:5,\r\n\theight:40,\r\n\tcols:[\r\n\t\t{\r\n\t\t\t\"template\": \"<span class='webix_icon fa-file-text-o'></span>Pager\", \"css\": \"sub_title2\", borderless: true\r\n\t\t},\r\n\t\t{ view: \"button\", type: \"iconButton\", icon: \"external-link\", label: \"Export\", width: 100},\r\n\t\t{ view: \"button\", type: \"iconButton\", icon: \"pencil-square-o\", label: \"Edit\", width: 80}\r\n\t]\r\n};\r\nconst gridPager =  {\r\n\tmargin: 10,\r\n\trows:[\r\n\t\t{\r\n\t\t\tid:\"orderData\",\r\n\t\t\tview:\"datatable\", select:true,\r\n\t\t\tcolumns:[\r\n\t\t\t\t{id:\"id\", header:\"#\", width:50},\r\n\t\t\t\t{id:\"employee\", header:[\"Employee\", {content:\"selectFilter\"} ], sort:\"string\", minWidth:150, fillspace:1},\r\n\t\t\t\t{id:\"customer\", header:[\"Customer\", {content:\"selectFilter\"} ], sort:\"string\", minWidth:150, fillspace:1},\r\n\r\n\t\t\t\t{id:\"status\", header:\"Status\", sort:\"string\", width:90},\r\n\t\t\t\t{id:\"fee\", header:\"Fee\", width:90, sort:\"string\", format:webix.i18n.priceFormat},\r\n\t\t\t\t{id:\"taxes\", header:\"Taxes\", width:90, sort:\"string\", format:webix.i18n.priceFormat},\r\n\t\t\t\t{id:\"total\", header:\"Total\", width:90, sort:\"string\", format:webix.i18n.priceFormat},\r\n\t\t\t\t{id:\"shipping_company\", header:\"Shipping Company\", sort:\"string\" },\r\n\t\t\t\t{id:\"payment_method\", header:\"Payment method\", width:130, sort:\"string\"},\r\n\t\t\t\t{id:\"date\", header:\"Date\", sort:\"string\", width:100},\r\n\t\t\t\t{id:\"trash\", header:\"&nbsp;\", width:35, template:\"<span  style='color:#777777; cursor:pointer;' class='webix_icon fa-trash-o'></span>\"}\r\n\t\t\t],\r\n\t\t\texport: true,\r\n\t\t\ton: {\r\n\t\t\t\tonAfterLoad: function(){\r\n\t\t\t\t\tthis.select(4);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonClick:{\r\n\t\t\t\twebix_icon:function(e,id){\r\n\t\t\t\t\twebix.confirm({\r\n\t\t\t\t\t\ttext:\"Are you sure sdfds\", ok:\"Yes\", cancel:\"Cancel\",\r\n\t\t\t\t\t\tcallback:function(res){\r\n\t\t\t\t\t\t\tif(res){\r\n\t\t\t\t\t\t\t\twebix.$$(\"orderData\").remove(id);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tautoheight:true,\r\n\t\t\tpager: \"pagerA\"\r\n\t\t},\r\n\t\t{\r\n\t\t\tview:\"pager\", id:\"pagerA\",\r\n\t\t\tsize:5,\r\n\t\t\theight: 35,\r\n\t\t\tgroup:5\r\n\r\n\t\t}\r\n\t]\r\n};\r\n\r\n\r\nconst layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\ttitlePager,\r\n\t\tgridPager\r\n\t]\r\n};\r\n","import {JetView} from \"webix-jet\";\r\nimport {progress} from \"models/data_arrays\";\r\n\r\nexport default class DataProgressView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(view){\r\n\t\tview.queryView({ view:\"datatable\" }).parse(progress);\r\n\t}\r\n}\r\n\r\nconst titleProgress = {\r\n\tview: \"toolbar\",\r\n\tcss: \"highlighted_header header4\",\r\n\tpaddingX:5,\r\n\tpaddingY:5,\r\n\theight:40,\r\n\tcols:[\r\n\t\t{\r\n\t\t\t\"template\": \"<span class='webix_icon fa-adjust'></span>Progress\", \"css\": \"sub_title2\", borderless: true\r\n\t\t},\r\n\t\t{ view: \"button\", type: \"iconButton\", icon: \"sliders\", label: \"Update\", width: 100}\r\n\t]\r\n};\r\nconst gridProgress = {\r\n\tview:\"datatable\",\r\n\tcolumns:[\r\n\t\t{ id:\"id\",\theader:\"\",  \twidth:35,sort:\"int\"},\r\n\t\t{ id:\"name\",\theader:\"Task\",\t fillspace:4,sort:\"string\"},\r\n\t\t{ id:\"progress\",\theader:\"Progress\",  sort:\"int\",fillspace:2.5,\ttemplate:function(obj){\r\n\t\t\tlet html = \"<div class='progress_bar_element'>\";\r\n\t\t\tlet className = \"progress_result \"+(obj.type||\"\");\r\n\t\t\thtml += \"<div title='\"+(parseInt(obj.progress*100,10)+\"%\")+\"' class='\"+className+\"' style='width:\"+(obj.progress*100+\"%\")+\"'></div>\";\r\n\t\t\treturn html+\"</div>\";\r\n\t\t}},\r\n\t\t{ id:\"num\",\theader:\"Num, %\", sort:function(a,b){\r\n\r\n\t\t\ta = a.progress;\r\n\t\t\tb = b.progress;\r\n\t\t\treturn (a>b?1:(a<b?-1:0));\r\n\t\t}, fillspace:1.5, template:function(obj){\r\n\t\t\treturn parseInt(obj.progress*100,10)+\"%\";\r\n\t\t}}\r\n\t],\r\n\tautoheight:true\r\n};\r\n\r\n\r\nconst layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\ttitleProgress,\r\n\t\tgridProgress\r\n\t]\r\n};","import {JetView} from \"webix-jet\";\r\nimport {rating} from \"models/data_arrays\";\r\n\r\nexport default class DataRatingView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(view){\r\n\t\tview.queryView({ view:\"datatable\" }).parse(rating);\r\n\t}\r\n}\r\n\r\nconst titleRating = {\r\n\r\n\tview: \"toolbar\",\r\n\tcss: \"highlighted_header header1\",\r\n\tpaddingX:5,\r\n\tpaddingY:5,\r\n\theight:40,\r\n\tcols:[\r\n\t\t{\r\n\t\t\t\"template\": \"<span class='webix_icon fa-star-o'></span>Rating\", \"css\": \"sub_title2\", borderless: true\r\n\t\t},\r\n\t\t{view: \"button\", type: \"iconButton\", icon:\"refresh\",width:100, label: \"Refresh\"}\r\n\t]\r\n};\r\n\r\nconst gridRating = {\r\n\tview:\"datatable\",\r\n\tcolumns:[\r\n\t\t{ id:\"id\", header:\"\", sort:\"int\",width: 35},\r\n\t\t{ id:\"name\",\theader:\"Procut\", fillspace:4,  sort:\"string\"},\r\n\t\t{ id:\"code\",\theader:\"Code\", sort:\"string\",fillspace:2},\r\n\t\t{ id:\"rating\",\theader:\"Rating\", sort:\"int\", fillspace:2, minWidth:80,\r\n\t\t\ttemplate:function(obj){\r\n\t\t\t\tlet html = \"<div class='rating_bar_element star\"+obj.rating+\"'>\";\r\n\r\n\t\t\t\tfor (let i=1; i<6; i++)\r\n\t\t\t\t\thtml+=\"<div title='\"+i+\"' class='rating_star star\"+i+\"' style='left:\"+(i*16 - 16)+\"px'></div>\";\r\n\r\n\t\t\t\treturn html+\"</div>\";\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\tonClick:{\r\n\t\trating_star:function(ev, id){\r\n\t\t\tthis.getItem(id.row)[id.column] = (ev.target||ev.srcElement).getAttribute(\"title\");\r\n\t\t\tthis.updateItem(id.row);\r\n\t\t}\r\n\t},\r\n\tautoheight: true,\r\n\tscheme:{\r\n\t\t$init:function(obj){ obj.index = this.count(); }\r\n\t}\r\n};\r\n\r\n\r\nconst layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\ttitleRating,\r\n\t\tgridRating\r\n\t]\r\n};\r\n","import {JetView} from \"webix-jet\";\r\nimport {colspans} from \"models/data_arrays\";\r\n\r\nexport default class DataSpansView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(view){\r\n\t\tview.queryView({ view:\"datatable\" }).parse(colspans);\r\n\t}\r\n}\r\n\r\nvar titleGroup = {\r\n\tview: \"toolbar\",\r\n\tcss: \"highlighted_header header2\",\r\n\tpaddingX:5,\r\n\tpaddingY:5,\r\n\theight:40,\r\n\tcols:[\r\n\t\t{\r\n\t\t\t\"template\": \"<span class='webix_icon fa-arrows-v'></span>Spans\", \"css\": \"sub_title2\", borderless: true\r\n\t\t},\r\n\t\t{ view: \"icon\", icon: \"refresh\",width: 40}\r\n\r\n\t]\r\n};\r\nvar gridGroup = {\r\n\tview:\"datatable\",\r\n\tcolumns:[\r\n\t\t{ id:\"region\",\theader:\"Region\", fillspace: 1 },\r\n\t\t{ id:\"name\", \theader:\"Product\", fillspace: 2},\r\n\t\t{ id:\"code\",\theader:\"Code\" , fillspace: 1 ,tooltip: \"\", editor:\"text\"},\r\n\t\t{ id:\"sales\",\theader:\"Sales\", fillspace: 1 }\r\n\t],\r\n\tspans:true,\r\n\tautoheight:true,\r\n\tselect:\"cell\"\r\n};\r\n\r\n\r\nvar layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\ttitleGroup,\r\n\t\tgridGroup\r\n\t]\r\n};","import {JetView} from \"webix-jet\";\r\nimport {treetable} from \"models/data_arrays\";\r\n\r\nexport default class DataTreeTableView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(view){\r\n\t\tview.queryView({ view:\"treetable\" }).parse(webix.copy(treetable));\r\n\t}\r\n}\r\n\r\n\r\n\r\nconst titleTree = {\r\n\tview: \"toolbar\",\r\n\tcss: \"highlighted_header header3\",\r\n\tpaddingX:5,\r\n\tpaddingY:5,\r\n\theight:40,\r\n\tcols:[\r\n\t\t{\r\n\t\t\t\"template\": \"<span class='webix_icon fa-folder-o'></span>Treetable\", \"css\": \"sub_title2\", borderless: true\r\n\t\t},\r\n\t\t{ view: \"button\", type: \"iconButton\", icon: \"external-link\", label: \"Export\", width: 100}\r\n\t]\r\n};\r\nconst gridTree = {\r\n\tview:\"treetable\",\r\n\tcolumns:[\r\n\t\t{ id:\"id\",\theader:\"\",  \twidth:35},\r\n\t\t{ id:\"name\",\theader:\"Product\",\t fillspace:4,\r\n\t\t\ttemplate:\"{common.treetable()} #name#\" },\r\n\t\t{ id:\"code\",\theader:\"Code\", sort:\"int\",fillspace:2},\r\n\t\t{ id:\"sales\",\theader:\"Sales\", sort:\"int\",fillspace:2}\r\n\t],\r\n\tselect: true,\r\n\ttype: {\r\n\t\ticon:function(obj){\r\n\t\t\tif (obj.$count){\r\n\t\t\t\tif (obj.open)\r\n\t\t\t\t\treturn \"<span class='webix_icon fa-angle-down'></span>\";\r\n\t\t\t\telse\r\n\t\t\t\t\treturn \"<div class='webix_icon fa-angle-right'></div>\";\r\n\t\t\t} else\r\n\t\t\t\treturn \"<div class='webix_tree_none'></div>\";\r\n\t\t},\r\n\t\tfolder:function(obj){\r\n\t\t\tif (obj.$count){\r\n\t\t\t\tif (obj.open)\r\n\t\t\t\t\treturn \"<span class='webix_icon fa-folder-open-o'></span>\";\r\n\t\t\t\telse\r\n\t\t\t\t\treturn \"<span class='webix_icon fa-folder-o'></span>\";\r\n\t\t\t}\r\n\t\t\treturn \"<div class='webix_icon fa-file-o'></div>\";\r\n\t\t}\r\n\t},\r\n\tonClick:{\r\n\t\t\"fa-angle-down\":function(e,id){\r\n\r\n\t\t\tthis.close(id);\r\n\t\t},\r\n\t\t\"fa-angle-right\":function(e,id){\r\n\t\t\tthis.open(id);\r\n\t\t}\r\n\t},\r\n\ton:{\r\n\t\tonAfterLoad:function(){\r\n\t\t\tthis.select(12);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\ttitleTree,\r\n\t\tgridTree\r\n\t]\r\n};","const tasks = {\r\n\tgravity: 3,\r\n\t\"type\": \"clean\",\r\n\t\"rows\":[\r\n\t\t{\r\n\t\t\t\"template\": \"<span class='webix_icon fa-pie-chart'></span>Pie chart\", \"css\": \"sub_title\", \"height\": 30\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"view\": \"chart\",\r\n\t\t\t\"type\": \"pie3D\",\r\n\t\t\tcolor: \"#color#\",\r\n\t\t\tshadow: false,\r\n\t\t\ttooltip:{\r\n\t\t\t\ttemplate: \"#value#%\"\r\n\t\t\t},\r\n\t\t\tminHeight:200,\r\n\t\t\tpadding:{\r\n\t\t\t\tleft:15,\r\n\t\t\t\tright:15,\r\n\t\t\t\tbottom:10,\r\n\t\t\t\ttop:10\r\n\t\t\t},\r\n\t\t\tlegend:{\r\n\t\t\t\tlayout:\"y\",\r\n\t\t\t\twidth:100,\r\n\t\t\t\talign:\"right\",\r\n\t\t\t\tvalign:\"middle\",\r\n\t\t\t\ttemplate: \"#region#\"\r\n\t\t\t},\r\n\t\t\tdata:[\r\n\t\t\t\t{color: \"#61b5ee\", region: \"Asia\",value: 35},\r\n\t\t\t\t{color: \"#27ae60\", region: \"Europe\",value:30},\r\n\t\t\t\t{color: \"#9e89eb\", region: \"USA\",value: 25},\r\n\t\t\t\t{color: \"#f19b60\", region: \"Australia\",value:10}\r\n\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default tasks;","import \"views/webix/ckeditor\";\r\n\r\nconst form = {\r\n\tview: \"form\",\r\n\tid: \"mainView\",\r\n\telementsConfig:{\r\n\r\n\t\tlabelWidth: 130\r\n\t},\r\n\tscroll: true,\r\n\telements:[\r\n\t\t{view: \"text\", name: \"code\", label: \"Code\"},\r\n\t\t{view: \"text\", name: \"name\", label: \"Name\"},\r\n\t\t{view: \"text\", name: \"price\", label: \"Price\"},\r\n\t\t{view: \"richselect\", name: \"category\", label:\"Category\", vertical: true, options:[\r\n\t\t\t{id:2, value: \"Home furniture\"},\r\n\t\t\t{id:3, value: \"Office furniture\"},\r\n\t\t\t{id:1, value: \"Wood furniture\"}\r\n\t\t]},\r\n\t\t{view:\"richselect\", name:\"status\", value: \"all\",label: \"Status\", options:[\r\n\t\t\t{id:\"1\", value:\"Published\"},\r\n\t\t\t{id:\"2\", value:\"Not published\"},\r\n\t\t\t{id:\"0\", value:\"Deleted\"}\r\n\t\t]},\r\n\t\t{view: \"checkbox\", name: \"in_stock\", label: \"In stock\",value: 1},\r\n\t\t{ view: \"label\", label: \"Full description\", height:30},\r\n\t\t{ id:\"editor\", view:\"textarea\", value:\"\", editor:{language: \"en\"}, minHeight: 200},\r\n\r\n\t\t{}\r\n\t]\r\n};\r\n\r\nexport default form;","const layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\t{\r\n\t\t\tview: \"toolbar\",\r\n\t\t\tcss: \"highlighted_header header3\",\r\n\t\t\tpaddingX:5,\r\n\t\t\tpaddingY:5,\r\n\t\t\theight:40,\r\n\t\t\tcols:[\r\n\t\t\t\t{\r\n\t\t\t\t\t\"template\": \"<span class='webix_icon fa-star-o'></span>Event\", \"css\": \"sub_title2\", borderless:true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tview: \"button\", label: \"Close\", width: 80\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tview: \"form\",\r\n\t\t\telementsConfig:{\r\n\t\t\t\tlabelWidth: 100\r\n\t\t\t},\r\n\t\t\telements:[\r\n\t\t\t\t{view: \"text\", label: \"Event Name\"},\r\n\t\t\t\t{view: \"datepicker\", label: \"Start Date\", value: new Date(), timepicker:true, format: \"%H:%i %D, %d %M\"},\r\n\t\t\t\t{view: \"datepicker\", label: \"End Date\", value: webix.Date.add(new Date(),1,\"hour\"), format: \"%H:%i %D, %d %M\", timepicker:true},\r\n\t\t\t\t{view: \"checkbox\", label: \"All-day\"},\r\n\t\t\t\t{view: \"richselect\", label: \"Calendar\", value:\"1\", options:[\r\n\t\t\t\t\t{id:1, value: \"My Calendar\"},\r\n\t\t\t\t\t{id:2, value: \"Webix project\"},\r\n\t\t\t\t\t{id:3, value: \"Other\"}\r\n\t\t\t\t]},\r\n\t\t\t\t{view: \"textarea\", label: \"Details\", height: 80},\r\n\t\t\t\t{\r\n\t\t\t\t\tmargin: 10,\r\n\t\t\t\t\tpaddingX: 2,\r\n\t\t\t\t\tborderless: true,\r\n\t\t\t\t\tcols:[\r\n\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t{view: \"button\", label: \"Reset\",  align: \"right\"},\r\n\t\t\t\t\t\t{view: \"button\", label: \"Save\", type: \"form\", align: \"right\"}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\r\n\t\t\t]\r\n\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default layout;","const layout = {\r\n\r\n\t\"type\": \"clean\",\r\n\t\"rows\":[\r\n\t\t{\r\n\t\t\tview: \"toolbar\",\r\n\t\t\tcss: \"highlighted_header header2\",\r\n\t\t\tpaddingX:5,\r\n\t\t\tpaddingY:5,\r\n\t\t\theight:40,\r\n\t\t\tcols:[\r\n\t\t\t\t{\r\n\t\t\t\t\t\"template\": \"<span class='webix_icon fa-sliders'></span>Project\", \"css\": \"sub_title2\", borderless: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tview: \"richselect\", value:\"Webix\", options: [\"Webix\", \"Kanban\", \"Pivot\"], width: 105\r\n\t\t\t\t}\r\n\t\t\t]\r\n\r\n\t\t},\r\n\t\t{\r\n\t\t\tview: \"form\",\r\n\t\t\tid: \"projectForm\",\r\n\t\t\telementsConfig:{\r\n\t\t\t\tlabelWidth: 100\r\n\t\t\t},\r\n\t\t\telements:[\r\n\r\n\t\t\t\t{ view:\"slider\", css: \"slider3\", label:\"Task 1\", value:\"80\",step:1, name:\"s1\", title: webix.template(\"#value#%\")},\r\n\t\t\t\t{ view:\"slider\", css: \"slider2\", label:\"Task 2\", value:\"20\", step:1, name:\"s2\", title: webix.template(\"#value#%\")},\r\n\t\t\t\t{ view:\"slider\", css: \"slider1\", label:\"Task 3\", value:\"60\", step:1, name:\"s3\", title: webix.template(\"#value#%\")},\r\n\t\t\t\t{\r\n\t\t\t\t\tmargin: 10,\r\n\t\t\t\t\tpaddingX: 2,\r\n\t\t\t\t\tborderless: true,\r\n\t\t\t\t\tcols:[\r\n\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t{view: \"button\", label: \"Next\", type: \"form\", align: \"right\",width: 80}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default layout;","const layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\t{\r\n\t\t\tview: \"toolbar\",\r\n\t\t\tcss: \"highlighted_header header4\",\r\n\t\t\tpaddingX:5,\r\n\t\t\tpaddingY:5,\r\n\t\t\theight:40,\r\n\t\t\tcols:[\r\n\t\t\t\t{\r\n\t\t\t\t\t\"template\": \"<span class='webix_icon fa-paint-brush'></span>Style\", \"css\": \"sub_title2\", borderless:true\r\n\t\t\t\t},\r\n\t\t\t\t{view: \"segmented\", options:[\"Header\",\"Content\",\"Buttons\"],width: 210}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tview: \"form\",\r\n\t\t\telementsConfig:{\r\n\t\t\t\tlabelWidth: 100,\r\n\t\t\t\tlabelPosition: \"top\"\r\n\t\t\t},\r\n\t\t\telements:[\r\n\t\t\t\t{ view: \"combo\", label: \"Font Family\", value: \"Arial\", options:[\"Arial\", \"Tahoma\", \"Verdana\"]},\r\n\t\t\t\t{ view:\"radio\", name:\"fontWeigth\", label:\"Font Weigth\", value:\"400\",  options:[\"400\", \"500\", \"700\"] },\r\n\t\t\t\t{ view: \"colorpicker\", label: \"Background\", value: \"#a693eb\"},\r\n\t\t\t\t{ view: \"colorpicker\", label: \"Font Color\", value: \"#a4b4bf\"},\r\n\r\n\t\t\t\t{ view: \"text\", label: \"Font Size (px)\", value: \"14\"},\r\n\t\t\t\t{\r\n\t\t\t\t\tmargin: 10,\r\n\t\t\t\t\tpaddingX: 2,\r\n\t\t\t\t\tborderless: true,\r\n\t\t\t\t\tcols:[\r\n\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t{view: \"button\", type: \"iconButton\", icon:\"angle-left\", label: \"Back\",  align: \"right\", width: 90},\r\n\t\t\t\t\t\t{view: \"button\", type:\"form\", label: \"Done\",  align: \"right\", width: 90}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\r\n\t\t\t]\r\n\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default layout;","const layout = {\r\n\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\t{\r\n\t\t\tview: \"toolbar\",\r\n\t\t\tcss: \"highlighted_header header1\",\r\n\t\t\tpaddingX:5,\r\n\t\t\tpaddingY:5,\r\n\t\t\theight:40,\r\n\t\t\tcols:[\r\n\t\t\t\t{\r\n\t\t\t\t\t\"template\": \"<span class='webix_icon fa-male'></span>User\", \"css\": \"sub_title2\", borderless:true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tview: \"button\", label: \"Close\", width: 80\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tview: \"form\",\r\n\t\t\tid: \"userForm\",\r\n\t\t\telementsConfig:{\r\n\t\t\t\tlabelWidth: 120\r\n\t\t\t},\r\n\t\t\telements:[\r\n\t\t\t\t{view: \"text\", label: \"First Name\",name: \"name1\"},\r\n\t\t\t\t{view: \"text\", label: \"Last Name\", name: \"name2\"},\r\n\t\t\t\t{view: \"datepicker\", label: \"Date of Birth\", name: \"date\"},\r\n\t\t\t\r\n\t\t\t\t{view: \"text\", label: \"Phone Number\"},\r\n\t\t\t\t{\r\n\t\t\t\t\tmargin: 10,\r\n\t\t\t\t\tpaddingX: 2,\r\n\t\t\t\t\tborderless: true,\r\n\t\t\t\t\tcols:[\r\n\t\t\t\t\t\t{},\r\n\t\t\t\t\t\t{view: \"button\", label: \"Reset\",  align: \"right\"},\r\n\t\t\t\t\t\t{view: \"button\", label: \"Save\", type: \"form\", align: \"right\"}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\r\n\t\t\t]\r\n\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default layout;","export default webix.ui.datafilter.eyeFilter = { \r\n    getInputNode:function(node){ return node.firstChild?node.firstChild.firstChild : { value: null}; },\r\n    getValue:function(node){ return this.getInputNode(node).value;  },\t\r\n    setValue:function(node, value){ this.getInputNode(node).value = value.toString();  },\r\n    refresh: function(master, node, column){  \r\n      master.registerFilter(node, column, this);\r\n      column.compare = column.compare || function(value, filter){\r\n        if (filter === \"\")\r\n          return true;\r\n        else if (filter === \"1\")\r\n          return value == 1;\r\n        else if (filter === \"0\")\r\n          return value == 0;\r\n      };      \r\n      node.onchange = function(){    \r\n        master.filterByAll();\r\n      };\r\n      node.onclick = webix.html.preventEvent;\r\n    },\r\n    render:function(a, b){\r\n      return  \"<select id=\"+b.columnId+\">\" +\r\n        \"<option value=''></option>\" +        \r\n        \"<option value='0' class='wialon-group-on'>Подключена</option>\" +\r\n\t\t\"<option value='1' class='wialon-group-off'>Отключена</option>\" +\r\n        \"</select>\";\r\n    }\r\n  };","var header = {\r\n\tview: \"template\",\r\n\tsrc: \"index.php?route=report/total/getTotalLast&token=\"+token,\t\r\n\t\"css\": \"sub_title\", \"height\": 50,\t\r\n};\r\n\r\nvar grid = {\r\n\tid:\"report-total-last\",\r\n\tview:\"datatable\",\r\n\theader:false,\r\n\t\"export\":true,\t\r\n\tcolumns:[\r\n\t\t{id:\"date_created\", minWidth:80, format:webix.Date.dateToStr(\"%d.%m.%Y\")},\t\t\t\t\t\t\r\n\t\t{id:\"itemname\", minWidth:120, fillspace: 2},\t\t\r\n\t\t{id:\"ownername\", minWidth:120, fillspace: 2},\t\t\r\n\t],\t\t\r\n\turl:\"index.php?route=report/total/getLast&token=\"+token,\t\r\n};\r\n\r\nconst layout = {\r\n\ttype: \"clean\",\t\r\n\trows:[\r\n\t\theader,\r\n\t\tgrid\r\n\t]\r\n};\r\n\r\nexport default layout;","const map = {\r\n\trows:[\r\n\t\t{\r\n\t\t\ttemplate:\"<span class='webix_icon fa-map-marker'></span>Events Map\" , type:\"header\", \"css\": \"sub_title\", \"height\": 50\r\n\t\t},\r\n\t\t{\r\n\t\t\tview:\"google-map\",\r\n\t\t\tid:\"map\",\r\n\t\t\t// provide your own Google API key\r\n\t\t\t// https://developers.google.com/maps/documentation/javascript/get-api-key\r\n\t\t\tkey:\"AIzaSyAi0oVNVO-e603aUY8SILdD4v9bVBkmiTg\",\r\n\t\t\tzoom:3,\r\n\t\t\tcenter:[ 48.724, 8.215 ]\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default map;","var header = {\r\n\t\"template\": \"<span class='webix_icon fa-comments-o'></span>Messages\", \"css\": \"sub_title\", \"height\": 50\r\n};\r\n\r\nvar list = {\r\n\t\"view\": \"list\",\r\n\tcss: \"chat_list\",\r\n\tmaxHeight: 300,\r\n\tminHeight: 250,\r\n\t\"type\": {\r\n\t\t\"height\": \"auto\",\r\n\t\t\"template\": function(obj){\r\n\t\t\tvar text = \"Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae. \";\r\n\t\t\tvar html = \t\"<img class='photo' src='assets/imgs/photos/\"+obj.personId+\".png' />\";\r\n\t\t\thtml += \"<div class='text'><div class='name'>\"+obj.name+\"<div class='time'>\"+obj.time+\"</div></div>\";\r\n\t\t\thtml += text+\"</div>\";\r\n\t\t\treturn html;\r\n\t\t}\r\n\t},\r\n\t\"data\": [\r\n\t\t{ id: 1,  personId: 1, time:\"Just now\", name: \"Peter Johnson\"},\r\n\t\t{ id: 2,  personId: 2, time:\"Just now\", name: \"Vera Liu\"},\r\n\t\t{ id: 3, personId: 1, time:\"11:40\", name: \"Peter Johnson\"},\r\n\t\t{ id: 4, personId: 2, time:\"11:30\", name: \"Vera Liu\"},\r\n\t\t{ id: 5, personId: 1, time:\"10:10\", name: \"Peter Johnson\"},\r\n\t\t{ id: 6, personId: 2, time:\"9:50\", name: \"Vera Liu\"}\r\n\t]\r\n};\r\n\r\nvar form = {\r\n\tview: \"form\",\r\n\tcss: \"show_all\",\r\n\tpaddingX: 10,\r\n\tpaddingY: 2,\r\n\r\n\tcols:[\r\n\t\t{\r\n\t\t\tview: \"text\", placeholder: \"Type a message here\",height:36\r\n\t\t},\r\n\t\t{\r\n\t\t\tview: \"icon\", icon: \"search\",height:36\r\n\t\t}\r\n\t]\r\n};\r\n\r\n\r\nconst layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\theader,\r\n\t\t{ rows:[ list, form ] }\r\n\t]\r\n};\r\n\r\nexport default layout;","export default webix.ui.datafilter.onlFilter = { \r\n    getInputNode:function(node){ return node.firstChild?node.firstChild.firstChild : { value: null}; },\r\n    getValue:function(node){ return this.getInputNode(node).value;  },\t\r\n    setValue:function(node, value){ this.getInputNode(node).value = value.toString();  },\r\n    refresh: function(master, node, column){  \r\n      master.registerFilter(node, column, this);\r\n      column.compare = column.compare || function(value, filter){\r\n        if (filter === \"\")\r\n          return true;\r\n        else if (filter === \"1\")\r\n          return value == 1;\r\n        else if (filter === \"0\")\r\n          return value == 0;\r\n      };      \r\n      node.onchange = function(){    \r\n        master.filterByAll();\r\n      };\r\n      node.onclick = webix.html.preventEvent;\r\n    },\r\n    render:function(a, b){\r\n      return  \"<select id=\"+b.columnId+\">\" +\r\n        \"<option value=''></option>\" +        \r\n        \"<option value='1' class='tracker-online'>Online</option>\" +\r\n\t\t\"<option value='0' class='tracker-offline'>Offline</option>\" +\r\n        \"</select>\";\r\n    }\r\n  };","/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\nexport default webix.ui.datafilter.staFilter = {\n    getInputNode: function (node) {\n        return node.firstChild ? node.firstChild.firstChild : {value: null};\n    },\n    getValue: function (node) {\n        return this.getInputNode(node).value;\n    },\n    setValue: function (node, value) {\n        this.getInputNode(node).value = value.toString();\n    },\n    refresh: function (master, node, column) {\n        master.registerFilter(node, column, this);\n        column.compare = column.compare || function (value, filter) {\n            if (filter === \"\")\n                return true;\n            else if (filter === \"1\")\n                return value == 'open';\n            else if (filter === \"0\")\n                return value == 'closed';\n        };\n        node.onchange = function () {\n            master.filterByAll();\n        };\n        node.onclick = webix.html.preventEvent;\n    },\n    render: function (a, b) {\n        return  \"<select id=\" + b.columnId + \">\" +\n                \"<option value=''></option>\" +\n                \"<option value='1' class='order-status order-open'>Открыта</option>\" +\n                \"<option value='0' class='order-status order-closed'>Закрыта</option>\" +\n                \"</select>\";\n    }\n};\n\n","import {JetView} from \"webix-jet\";\r\nimport chartdata from \"models/orders\";\r\n\r\nexport default class OrdersChartView extends JetView{\r\n\tconfig(){\r\n\t\treturn ui;\r\n\t}\r\n\tinit(view){\t\t\r\n\t\tvar userinfo = this.app.getService(\"user\").getUser();\r\n\t\tview.queryView({ view:\"chart\" }).parse(chartdata(userinfo.token));\r\n\t}\r\n}\r\n\r\nconst ui = {\r\n\t\"type\": \"clean\",\r\n\t\"rows\":[\r\n\t\t{\r\n\t\t\t\"template\": \"<span class='webix_icon mdi mdi-checkbox-multiple-marked-outline'></span>Обслуживание заявок за год\", \"css\": \"sub_title\", \"height\": 30\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"view\": \"chart\", \"type\": \"bar\",\r\n\t\t\t\"legend\":{\r\n\t\t\t\t\"layout\": \"x\",\r\n\t\t\t\t\"align\": \"right\",\r\n\t\t\t\t\"values\": [ {\"text\":\"Открытые\", \"color\": \"#f19b60\"},{\"text\": \"Закрытые\", \"color\": \"#49cd81\"} ]\r\n\t\t\t},\r\n\t\t\t\"xAxis\":{\r\n\t\t\t\t\"template\": \"#month#\"\r\n\t\t\t},\r\n\t\t\t\"yAxis\":{\r\n\t\t\t\tstart:0,\t\t\t\t\r\n\t\t\t},\r\n\t\t\tbarWidth: 20,\r\n\t\t\talpha:0.7,\r\n\t\t\tradius:0,\r\n\t\t\t\"offset\":0,\r\n\t\t\t\"series\":[\r\n\t\t\t\t{ \"value\":\"#total_open#\",\"color\":\"#f19b60\"  ,\"item\":{\"borderColor\":\"#fff\",\"color\":\"#f19b60\",\"radius\":2},\"line\":{\"color\":\"#f19b60\",\"width\":2},\"tooltip\":{\"template\":\"#total_open#\"}},\r\n\t\t\t\t{ \"value\":\"#total_closed#\",\"color\":\"#49cd81\",\"item\":{\"borderColor\":\"#fff\",\"color\":\"#49cd81\",\"radius\":2},\"line\":{\"color\":\"#49cd81\",\"width\":2},\"tooltip\":{\"template\":\"#total_closed#\"}},\t\t\t\t\t\t\t\t\r\n\t\t\t],\r\n\t\t\t//\"series\":[\r\n\t\t\t//\t{\r\n\t\t\t//\t\t\"value\": \"#number#\",\r\n\t\t\t//\t\tcolor: \"#9e89eb\",\r\n\r\n\t\t\t//\t\t\"item\":{\r\n\t\t\t//\t\t\t\"borderColor\": \"#fff\",\r\n\t\t\t//\t\t\t\"color\": \"#49cd81\",\r\n\t\t\t//\t\t\t\"radius\": 3\r\n\t\t\t//\t\t},\r\n\t\t\t//\t\t\"line\":{\r\n\t\t\t//\t\t\t\"color\":\"#b07be5\",\r\n\t\t\t//\t\t\t\"width\":2\r\n\t\t\t//\t\t}\r\n\t\t\t//\t}\r\n\t\t\t//],\r\n\t\t\t\"padding\":{\r\n\t\t\t\t\"top\": 25\r\n\t\t\t},\r\n\t\t\t/* \"data\":[\r\n\t\t\t\t{\"id\": 1, \"month\": \"Jun\", \"total_closed\": 100, \"total_open\": 100,},\r\n\t\t\t\t{\"id\": 2, \"month\": \"Jul\", \"total_closed\": 150, \"total_open\": 200,},\r\n\t\t\t\t{\"id\": 3, \"month\": \"Aug\", \"total_closed\": 160, \"total_open\": 220,},\r\n\t\t\t\t{\"id\": 4, \"month\": \"Sep\", \"total_closed\": 200, \"total_open\": 250,},\r\n\t\t\t\t{\"id\": 5, \"month\": \"Oct\", \"total_closed\": 100, \"total_open\": 80,},\r\n\t\t\t] */\r\n\t\t}\r\n\t]\r\n};\r\n\r\n//export default ui;","const paging = {\r\n\tview: \"toolbar\",\r\n\tid: \"paging\",\r\n\tcss: \"highlighted_header header6\",\r\n\tpaddingX: 5, paddingY: 5, height: 40,\r\n\tcols: [{\r\n\t\tview: \"pager\", id: \"pagerA\",\r\n\t\ttemplate: \"{common.first()}{common.prev()}&nbsp; {common.pages()}&nbsp; {common.next()}{common.last()}\",\r\n\t\tautosize:true, \r\n\t\t//size: 50,\r\n\t\theight: 35,\r\n\t\tgroup: 5\r\n\t}]\r\n};\r\n\r\nexport default paging;\r\n\r\n//https://snippet.webix.com/4teaka0o","const ui = {\r\n\tview: \"form\",\r\n\tid: \"metaView\",\r\n\telementsConfig:{\r\n\t\tlabelWidth: 130\r\n\t},\r\n\telements:[\r\n\t\t{view: \"text\", name: \"meta_title\", label: \"Title\"},\r\n\t\t{view: \"textarea\", label: \"Meta Keywords\",gravity:1,minHeight:80},\r\n\t\t{view: \"textarea\", label: \"Meta Description\",gravity:1.5,minHeight:80},\r\n\t\t{}\r\n\t]\r\n};\r\n\r\nexport default ui;","import {JetView} from \"webix-jet\";\r\nimport {data} from \"models/products\";\r\n\r\nexport default class SearchView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(view){\r\n\t\tview.queryView({ view:\"list\" }).parse(data);\r\n\t}\r\n}\r\n\r\n\r\nconst layout = {\r\n\trows:[\r\n\t\t{\r\n\t\t\tview: \"form\",\r\n\r\n\t\t\tpaddingX:5,\r\n\t\t\tpaddingY:5,\r\n\t\t\tmargin: 2,\r\n\t\t\trows:[\r\n\t\t\t\t{view: \"label\",label: \"Find product:\"},\r\n\t\t\t\t{view: \"search\"}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tview: \"list\",\r\n\t\t\tid: \"list\",\r\n\t\t\tselect: true,\r\n\t\t\ttemplate: \"<div class='marker status#status#'></div>#code# / #name#\"\r\n\t\t}\r\n\t]\r\n};","const ui = {\r\n\tid:\"imagesView\",\r\n\tpadding: 10,\r\n\tmargin: 10,\r\n\trows:[\r\n\t\t{\r\n\t\t\tcols:[\r\n\t\t\t\t{},\r\n\t\t\t\t{\r\n\t\t\t\t\tview:\"button\", type:\"iconButton\", icon: \"plus-circle\", label: \"Add image record\", width: 170\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\tview:\"datatable\",\r\n\t\t\teditable:true,\r\n\t\t\tcolumns:[\r\n\t\t\t\t{ id:\"photo\",\theader:\"Image\",  template:\"<span class='product_image webix_icon fa-#icon#'></span>\", fillspace:1},\r\n\t\t\t\t{ id:\"title\",  editor:\"text\",\theader:\"Title\",fillspace:1.7},\r\n\t\t\t\t{ id:\"usage\",  editor:\"select\",\toptions:[\"Main image\", \"Thumbnail\"],\theader:\"Usage\", fillspace:1.2},\r\n\t\t\t\t{ id:\"upload\",\theader:\"Upload\" , template:\"<div title='Click to upload' class='product_image_action'><span class='webix_icon fa-download'></span>Upload</div>\", fillspace:1},\r\n\t\t\t\t{ id:\"delete\",\theader:\"Delete\" , template:\"<div title='Click to delete' class='product_image_action'><span class='webix_icon fa-times'></span>Delete</div>\", fillspace:1}\r\n\t\t\t],\r\n\t\t\tautoheight:true,\r\n\t\t\trowHeight:80,\r\n\t\t\tdata: [\r\n\t\t\t\t{ id:1, title:\"Product image 1\", usage:\"Main image\", icon: \"camera\"},\r\n\t\t\t\t{ id:2, title:\"Product image 2\", usage:\"Thumbnail\", icon: \"camera\"}\r\n\t\t\t],\r\n\t\t\ton:{\r\n\t\t\t\tonAfterLoad: function(){\r\n\t\t\t\t\twebix.ui({\r\n\t\t\t\t\t\tid:\"uploadAPI\",\r\n\t\t\t\t\t\tview:\"uploader\",\r\n\t\t\t\t\t\tupload:\t\"server/upload.php\",\r\n\t\t\t\t\t\ton:{\r\n\t\t\t\t\t\t\tonFileUploadError: function(){\r\n\t\t\t\t\t\t\t\twebix.alert(\"Error during file upload\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tapiOnly:true\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tonItemClick:function(id){\r\n\t\t\t\t\tif (id.column == \"upload\")\r\n\t\t\t\t\t\twebix.$$(\"uploadAPI\").fileDialog({ rowid : id.row });\r\n\t\t\t\t},\r\n\t\t\t\tonDestruct: function(){\r\n\t\t\t\t\twebix.$$(\"uploadAPI\").destructor();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{}\r\n\t]\r\n\r\n};\r\n\r\nexport default ui;","const chart = {\r\n\tview: \"chart\",\r\n\ttype: \"line\",\r\n\txAxis:{\r\n\t\ttemplate: \"#month#\"\r\n\t},\r\n\ttooltip: {\r\n\t\ttemplate: \"#number#M $\"\r\n\t},\r\n\tminHeight:140,\r\n\tyAxis:{\r\n\t\t\"start\":0,\r\n\t\t\"end\": 450,\r\n\t\t\"step\": 150\r\n\t},\r\n\toffset: false,\r\n\tseries:[\r\n\t\t{\r\n\t\t\t\"value\": \"#number#\",\r\n\r\n\r\n\t\t\t\"item\":{\r\n\t\t\t\t\"borderColor\": \"#fff\",\r\n\t\t\t\t\"color\": \"#61b5ee\",\r\n\t\t\t\t\"radius\": 4\r\n\t\t\t},\r\n\t\t\t\"line\":{\r\n\t\t\t\t\"color\":\"#61b5ee\",\r\n\t\t\t\t\"width\":1\r\n\t\t\t}\r\n\t\t}\r\n\t],\r\n\tpadding:{\r\n\t\t\"top\": 25\r\n\t},\r\n\tdata:[\r\n\t\t{\"id\": 1, \"month\": \"Jun\", \"number\": 90},\r\n\t\t{\"id\": 2, \"month\": \"Jul\", \"number\": 220},\r\n\t\t{\"id\": 3, \"month\": \"Aug\", \"number\": 180},\r\n\t\t{\"id\": 4, \"month\": \"Sep\", \"number\": 405},\r\n\t\t{\"id\": 5, \"month\": \"Oct\", \"number\": 275}\r\n\t]\r\n};\r\n\r\nconst donut1 = {\r\n\tview: \"chart\",\r\n\tcss:\"donut_result\",\r\n\ttype: \"donut\",\r\n\tshadow: false,\r\n\tcolor: \"#color#\",\r\n\tpieInnerText: function(obj){\r\n\t\treturn obj.result?\"<div class='donut_result'>\"+obj.value+\"</div>\":\"\";\r\n\t},\r\n\tpadding:{\r\n\t\tleft:10,\r\n\t\tright:10,\r\n\t\ttop:10,\r\n\t\tbottom:10\r\n\t},\r\n\tdata:[\r\n\t\t{value: 30, color: \"#61b5ee\",result:1},\r\n\t\t{value: 70, color: \"#eee\"}\r\n\t]\r\n};\r\n\r\nconst donut2 = {\r\n\tview: \"chart\",\r\n\ttype: \"donut\",\r\n\tshadow: false,\r\n\tcss:\"donut_result\",\r\n\tcolor: \"#color#\",\r\n\tpadding:{\r\n\t\tleft:10,\r\n\t\tright:10,\r\n\t\ttop:10,\r\n\t\tbottom:10\r\n\t},\r\n\tpieInnerText: function(obj){\r\n\t\treturn obj.result?\"<div class='donut_result'>\"+obj.value+\"</div>\":\"\";\r\n\t},\r\n\tdata:[\r\n\t\t{value: 25, color: \"#61b5ee\",result:1},\r\n\t\t{value: 75, color: \"#eee\"}\r\n\t]\r\n};\r\n\r\nconst donut3 = {\r\n\tview: \"chart\",\r\n\ttype: \"donut\",\r\n\tcss:\"donut_result\",\r\n\tshadow: false,\r\n\tcolor: \"#color#\",\r\n\tpieInnerText: function(obj){\r\n\t\treturn obj.result?\"<div class='donut_result'>\"+obj.value+\"</div>\":\"\";\r\n\t},\r\n\tpadding:{\r\n\t\tleft:10,\r\n\t\tright:10,\r\n\t\ttop:10,\r\n\t\tbottom:10\r\n\t},\r\n\tdata:[\r\n\t\t{value: 45, color: \"#61b5ee\",result:1},\r\n\t\t{value: 55, color: \"#eee\"}\r\n\t]\r\n};\r\n\r\nconst layout = {\t\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\tchart,\r\n\t\t{\r\n\t\t\theight: 90,\r\n\t\t\ttype: \"clean\",\r\n\t\t\tcols:[\r\n\t\t\t\tdonut1,\r\n\t\t\t\tdonut2,\r\n\t\t\t\tdonut3\r\n\t\t\t]\r\n\t\t},\r\n\t\t{\r\n\t\t\theight: 40,\r\n\t\t\ttype: \"clean\",\r\n\t\t\tcss: \"donut_titles\",\r\n\t\t\tcols:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttemplate: \"Europe\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttemplate: \"Asia\"\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttemplate: \"Northern America\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default layout;","import {JetView} from \"webix-jet\";\r\n\r\nimport {data} from \"models/events\";\r\nimport \"views/webix/scheduler\";\r\n\r\nexport default class SchedulerView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n} \r\n\r\nconst layout = {\r\n\tminWidth: 500,\r\n\tgravity: 2,\r\n\trows:[\r\n\t\t{\r\n\t\t\ttype: \"wide\",\r\n\t\t\tcols:[\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\twidth: 240,\r\n\r\n\t\t\t\t\trows:[\r\n\t\t\t\t\t\t{view: \"calendar\", on:{\r\n\t\t\t\t\t\t\tonDateSelect: function(date){\r\n\t\t\t\t\t\t\t\tscheduler.updateView(date,\"week\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}},\r\n\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tview: \"form\",\r\n\t\t\t\t\t\t\trows:[\r\n\t\t\t\t\t\t\t\t{view: \"list\", id:\"calendarList\", borderless: true, css: \"calendar_list\", autoheight:true, template: \"<div><span class='calendar_icon #id#'></span>#name#</div>\", data:[\r\n\t\t\t\t\t\t\t\t\t{id: \"my\", name: \"My Calendar\", active: true},\r\n\t\t\t\t\t\t\t\t\t{id: \"company\", name: \"Webix Project\", active: true}\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\ton:{\r\n\t\t\t\t\t\t\t\t\tonItemClick: function(calendarId){\r\n\t\t\t\t\t\t\t\t\t\tlet item = this.getItem(calendarId);\r\n\t\t\t\t\t\t\t\t\t\titem.active = !item.active;\r\n\t\t\t\t\t\t\t\t\t\titem.$css =  (item.active?\"\":\"disabled\");\r\n\t\t\t\t\t\t\t\t\t\tthis.refresh(calendarId);\r\n\t\t\t\t\t\t\t\t\t\tscheduler.updateView();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{ view: \"button\", label:\"Add new calendar\",align:\"left\"},\r\n\t\t\t\t\t\t\t\t{}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tview:\"dhx-scheduler\",\r\n\t\t\t\t\tdate:new Date(),\r\n\r\n\t\t\t\t\tmode:\"month\",\r\n\t\t\t\t\ttabs:[\"day\",\"week\", \"month\"],\r\n\t\t\t\t\tinit:function(){\r\n\t\t\t\t\t//scheduler.config.month_day_min_height = 50;\r\n\t\t\t\t\t\tscheduler.config.xml_date=\"%Y-%m-%d %H:%i\";\r\n\t\t\t\t\t\tscheduler.config.first_hour = 7;\r\n\t\t\t\t\t\tscheduler.config.last_hour = 24;\r\n\t\t\t\t\t\tscheduler.config.multi_day = true;\r\n\t\t\t\t\t\tscheduler.templates.event_class=function(s,e,ev){ return ev.calendar?\"other\":\"\"; };\r\n\t\t\t\t\t\tlet d = scheduler.date.date_to_str;\r\n\t\t\t\t\t\tlet week1 = d(\"%d\");\r\n\t\t\t\t\t\tlet week2 = d(\"%d %M %y\");\r\n\t\t\t\t\t\tscheduler.filter_day = scheduler.filter_week = scheduler.filter_month = function(id, event){\r\n\t\t\t\t\t\t\tlet calendar = event.calendar;\r\n\t\t\t\t\t\t\tif(!calendar)\r\n\t\t\t\t\t\t\t\treturn webix.$$(\"calendarList\").getItem(\"my\").active;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\treturn webix.$$(\"calendarList\").getItem(calendar).active;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tscheduler.templates.week_scale_date = d(\"%D, %W/%j\");\r\n\t\t\t\t\t\tscheduler.templates.week_date = function(d1,d2){\r\n\t\t\t\t\t\t\treturn week1(d1)+\" &ndash; \"+ week2(scheduler.date.add(d2,-1,\"day\"));\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t},\r\n\t\t\t\t\tready:function(){\r\n\t\t\t\t\t\tscheduler.parse(data, \"json\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]}\r\n\t]\r\n};","export default webix.ui.datafilter.staFilter = { \r\n    getInputNode:function(node){ return node.firstChild?node.firstChild.firstChild : { value: null}; },\r\n    getValue:function(node){ return this.getInputNode(node).value;  },\t\r\n    setValue:function(node, value){ this.getInputNode(node).value = value.toString();  },\r\n    refresh: function(master, node, column){  \r\n      master.registerFilter(node, column, this);\r\n      column.compare = column.compare || function(value, filter){\r\n        if (filter === \"\")\r\n          return true;\r\n        else if (filter === \"1\")\r\n          return value == 1;\r\n        else if (filter === \"0\")\r\n          return value == 0;\r\n      };      \r\n      node.onchange = function(){    \r\n        master.filterByAll();\r\n      };\r\n      node.onclick = webix.html.preventEvent;\r\n    },\r\n    render:function(a, b){\r\n      return  \"<select id=\"+b.columnId+\">\" +\r\n        \"<option value=''></option>\" +        \r\n        \"<option value='1' class='status status1'>Включено</option>\" +\r\n\t\t\"<option value='0' class='status status0'>Отключено</option>\" +\r\n        \"</select>\";\r\n    }\r\n  };","const tasks = { \r\n\trows:[\r\n\t\t{\r\n\t\t\ttemplate: \"<span class='webix_icon fa-tasks'></span>Pending Tasks\", type:\"header\", \"css\": \"sub_title\", \"height\": 50\r\n\t\t},\r\n\t\t{\r\n\t\t\tview: \"list\",\r\n\t\t\tcss: \"tasks_list\",\r\n\t\t\tautoheight: true,\r\n\t\t\ttype: {\r\n\r\n\t\t\t\tmarker: function(obj){\r\n\t\t\t\t\treturn \"<span class='webix_icon_btn fa-bell-o marker \"+obj.type+\"' style='max-width:32px;' ></span>\";\r\n\t\t\t\t},\r\n\t\t\t\tcheck:  webix.template(\"<span class=\\\"webix_icon_btn fa-{obj.$check?check-:}square-o list_icon\\\" style=\\\"max-width:32px;\\\"></span>\"),\r\n\t\t\t\ttemplate: function(obj,type){\r\n\t\t\t\t\treturn \"<div class='\"+(obj.$check?\"done\":\"\")+\"'>\"+type.check(obj,type)+\"<span class='list_text'>\"+obj.text+\"</span><span class='marker \"+obj.type+\"'>\"+(obj.type||\"\")+\"</span></div>\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdata: [\r\n\t\t\t\t{ id: \"1\", text: \"Prepare finance report\"},\r\n\t\t\t\t{ id: \"2\", text: \"Solex project strategy  meeting\", type: \"projects\"},\r\n\t\t\t\t{ id: \"3\", text: \"WestEurope partners call\"},\r\n\t\t\t\t{ id: \"4\", text: \"Prepare presentation for summer conference\", type: \"company\"},\r\n\t\t\t\t{ id: \"5\", text: \"Market research analysis\"},\r\n\t\t\t\t{ id: \"6\", text: \"Check messages\"},\r\n\t\t\t\t{ id: \"7\", text: \"Discussing new theme for website\", type: \"company\"}\r\n\t\t\t],\r\n\t\t\ton: {\r\n\t\t\t\tonItemClick:function(id){\r\n\t\t\t\t\tvar item = this.getItem(id);\r\n\t\t\t\t\titem.$check = !item.$check;\r\n\t\t\t\t\tthis.refresh(id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tcss: \"show_all bg\", template: \"Show all tasks <span class='webix_icon fa-angle-double-right'></span>\", height: 40\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default tasks;","const ui  = {\r\n\tview:\"chart\",\r\n\ttype:\"barH\",\r\n\r\n\tvalue:\"#progress#\",\r\n\tminHeight: 230,\r\n\tcolor:\"#color#\",\r\n\tbarWidth:30,\r\n\tradius:2,\r\n\ttooltip:{\r\n\t\ttemplate:\"#progress# %\"\r\n\t},\r\n\tyAxis:{\r\n\t\ttemplate:\"#name#\"\r\n\t},\r\n\txAxis:{\r\n\t\tstart:0,\r\n\t\tend:100,\r\n\t\tstep:10,\r\n\t\ttemplate:function(obj){\r\n\t\t\treturn (obj%20?\"\":obj);\r\n\t\t}\r\n\t},\r\n\tpadding:{\r\n\t\tleft: 120\r\n\t},\r\n\tdata: [\r\n\t\t{ id: \"1\", name: \"Report\",progress:55, color: \"#49cd81\"},\r\n\t\t{ id: \"2\", name: \"Strategy  meeting\", progress:20,color: \"#a693eb\"},\r\n\t\t{ id: \"3\", name: \"Partners meeting\",progress:70, color: \"#49cd81\"},\r\n\t\t{ id: \"4\", name: \"Research analysis\",progress:30, color: \"#a693eb\"},\r\n\t\t{ id: \"5\", name: \"Presentation\",progress:60, color: \"#f19b60\"}\r\n\t],\r\n\tlegend:{\r\n\t\talign:\"center\",\r\n\t\tlayout: \"x\",\r\n\t\tvalign:\"bottom\",\r\n\t\ttemplate: \"#region#\",\r\n\t\tvalues:[\r\n\t\t\t{text: \"Company\", color: \"#49cd81\"},\r\n\t\t\t{text: \"Inner tasks\", color: \"#f19b60\"},\r\n\t\t\t{text: \"Projects\", color: \"#a693eb\"}\r\n\t\t]\r\n\t}\r\n};\r\n\r\nexport default ui;","import {JetView} from \"webix-jet\";\r\nimport {data} from \"models/topsales\";\r\n\r\nexport default class TopSalesView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(view){\r\n\t\tview.queryView({ view:\"chart\" }).parse(data);\r\n\t}\r\n}\r\n\r\nconst chart = {\r\n\tview:\"chart\",\r\n\tborderless: true,\r\n\ttype: \"bar\",\r\n\theight: 130,\r\n\tid: \"productsBar\",\r\n\tbarWidth: 60,\r\n\tradius:0,\r\n\talpha: 0.9,\r\n\tcolor: function(obj){\r\n\t\tlet color = \"#a693eb\";\r\n\t\tif(obj.productId == 2)\r\n\t\t\tcolor = \"#63b4ea\";\r\n\t\telse if(obj.productId == 3){\r\n\t\t\tcolor = \"#f19b60\";\r\n\t\t}\r\n\t\telse if(obj.productId == 4){\r\n\t\t\tcolor = \"#49cd81\";\r\n\t\t}\r\n\r\n\t\treturn color;\r\n\t},\r\n\tyAxis:{\r\n\t\ttemplate: function(value){ return parseInt(value,10); }\r\n\t},\r\n\txAxis: {\r\n\t\ttemplate: \"#name#\"\r\n\t},\r\n\ton: {\r\n\t\tonAfterLoad: function(){\r\n\t\t\twebix.$$(\"topSelling\").setValue(\"month\");\r\n\t\t}\r\n\t},\r\n\tpadding:{\r\n\t\ttop:0,\r\n\t\tleft:50,\r\n\t\tright:10,\r\n\t\tbottom: 20\r\n\t}\r\n};\r\n\r\nconst form = {\r\n\ttype: \"form\",\r\n\tcols:[\r\n\t\t{\r\n\t\t\tview: \"radio\", id:\"topSelling\", label: \"\", labelWidth: 0, vertical: true,on:{\r\n\t\t\t\tonChange: function(){\r\n\t\t\t\t\twebix.$$(\"productsBar\").filter(function(obj){ return obj.selection == webix.$$(\"topSelling\").getValue(); });\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\toptions: [\r\n\t\t\t\t{id: \"month\", value:\"Last month\"},\r\n\t\t\t\t{id: \"month3\", value: \"Last 3 months\"}\r\n\t\t\t]\r\n\t\t}\r\n\t]\r\n};\r\n\r\nconst layout = {\r\n\trows:[\r\n\t\t{\r\n\t\t\tview: \"toolbar\",\r\n\t\t\tpaddingX:5,\r\n\t\t\tpaddingY:5,\r\n\t\t\theight:40,\tcss: \"highlighted_header header3\", elements:[\r\n\t\t\t\t{\"template\": \"<span class='webix_icon fa-bar-chart'></span>Top selling products\", borderless: true,\"css\": \"sub_title2\"}\r\n\t\t\t]\r\n\r\n\t\t},\r\n\t\tform,\r\n\t\tchart\t\t\r\n\t]\r\n};","import {JetView} from \"webix-jet\";\r\nimport chartdata from \"models/totalchart\";\r\n\r\nexport default class ItemsChartView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(view){\t\t\r\n\t\tvar userinfo = this.app.getService(\"user\").getUser();\r\n\t\tview.queryView({ view:\"chart\" }).parse(chartdata(userinfo.token));\r\n\t}\r\n}\r\n\r\nconst layout = {\r\n\t\"type\": \"clean\",\r\n\t\"rows\":[\r\n\t\t{\r\n\t\t\t\"template\": \"<span class='webix_icon mdi mdi-car'></span>Динамика развития за год\", \"css\": \"sub_title\", \"height\": 30\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"view\": \"chart\", \"type\":\"line\",\r\n\t\t\t\"legend\":{\r\n\t\t\t\t\"layout\": \"x\",\r\n\t\t\t\t\"align\": \"right\",\r\n\t\t\t\t\"values\": [\t{\"text\": \"Отключено\", \"color\": \"#a693eb\"},{\"text\": \"Не работало\", \"color\": \"#c71585\"},\r\n\t\t\t\t\t\t\t{\"text\": \"Работало\", \"color\": \"#ff00ff\"},{\"text\":\"Всего подключено\", \"color\": \"#63b4ea\"}]\r\n\t\t\t},\r\n\t\t\t\"offset\":0,\r\n\t\t\talpha:0.8,\r\n\r\n\t\t\t\"xAxis\":{\r\n\t\t\t\t\"template\": \"#month#\"\r\n\t\t\t},\r\n\t\t\t\"radius\":0,\r\n\t\t\t\"yAxis\":{\r\n\t\t\t\r\n\t\t\t},\t\t\t\r\n\t\t\t\"series\":[\r\n\t\t\t\t{ \"value\":\"#total_off#\",\"color\":\"#a693eb\",\"item\":{\"borderColor\":\"#fff\",\"color\":\"#a693eb\",\"radius\":4},\"line\":{\"color\":\"#a693eb\",\"width\":1},\"tooltip\":{\"template\":\"#total_off#\"}},\t\t\r\n\t\t\t\t{ \"value\":\"#total_offline#\",\"color\":\"#c71585\",\"item\":{\"borderColor\":\"#fff\",\"color\":\"#c71585\",\"radius\":4},\"line\":{\"color\":\"#c71585\",\"width\":1},\"tooltip\":{\"template\":\"#total_offline#\"}},\r\n\t\t\t\t{ \"value\":\"#total_online#\",\"color\":\"#ff00ff\",\"item\":{\"borderColor\":\"#fff\",\"color\":\"#ff00ff\",\"radius\":4},\"line\":{\"color\":\"#ff00ff\",\"width\":1},\"tooltip\":{\"template\":\"#total_online#\"}},\r\n\t\t\t\t{ \"value\":\"#total_objects#\",\"color\":\"#63b4ea\",\"item\":{\"borderColor\":\"#fff\",\"color\":\"#63b4ea\",\"radius\":4},\"line\":{\"color\":\"#63b4ea\",\"width\":1},\"tooltip\":{\"template\":\"#total_objects#\"}},\r\n\t\t\t],\r\n\t\t\t\"padding\":{\r\n\t\t\t\t\"top\": 25\r\n\t\t\t}\r\n\t\t}\r\n\t],\t\r\n};","import {JetView} from \"webix-jet\";\r\nimport {data} from \"models/visitors\";\r\n\r\nexport default class VisitorsView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(view){\r\n\t\tview.queryView({ view:\"chart\" }).parse(data);\r\n\t}\r\n}\r\nconst layout = {\r\n\t\"type\": \"clean\",\r\n\t\"rows\":[\r\n\t\t{\r\n\t\t\t\"template\": \"<span class='webix_icon fa-sign-in'></span>Visitor statistics\", \"css\": \"sub_title\", \"height\": 30\r\n\t\t},\r\n\t\t{\r\n\t\t\t\"view\": \"chart\", \"type\": \"stackedArea\",\r\n\t\t\t\"legend\":{\r\n\t\t\t\t\"layout\": \"x\",\r\n\r\n\t\t\t\t\"align\": \"right\",\r\n\t\t\t\t\"values\": [{\"text\":\"New visitors\", \"color\": \"#61b5ee\"},{\"text\": \"Recurrent\", \"color\": \"#a4b4bf\"}]\r\n\t\t\t},\r\n\t\t\t\"offset\":0,\r\n\t\t\talpha:0.8,\r\n\r\n\t\t\t\"xAxis\":{\r\n\t\t\t\t\"template\": \"#month#\"\r\n\t\t\t},\r\n\t\t\t\"radius\":0,\r\n\t\t\t\"yAxis\":{\r\n\t\t\t\t\"start\":0,\r\n\t\t\t\t\"end\": 2000,\r\n\t\t\t\t\"step\": 500\r\n\t\t\t},\r\n\t\t\t\"series\":[\r\n\t\t\t\t{ \"value\": \"#rec#\", \"color\": \"#a4b4bf\"},\r\n\t\t\t\t{ \"value\": \"#newv#\", \"color\": \"#61b5ee\"}\r\n\t\t\t],\r\n\t\t\t\"padding\":{\r\n\t\t\t\t\"top\": 25\r\n\t\t\t}\r\n\t\t}\r\n\t]\r\n};","import {JetView} \tfrom \"webix-jet\";\r\nimport outplugins \tfrom \"views/menus/export\";\r\nimport formview \tfrom \"views/menus/formview\";\r\nimport paging \t\tfrom \"views/modules/paging\";\r\nimport staFilter \tfrom \"views/modules/order_statesfilter\";\r\nimport staTemplate \tfrom \"views/templates/order_states\";\r\n\r\nexport default class OrderView extends JetView {\r\n    config() {\r\n        return layout;\r\n    }\r\n    init(view) {\r\n        $$('order-form').bind($$('order-order'));        \r\n    }\r\n}\r\n\r\nfunction secondsToDhms(seconds) {\r\n    seconds = Number(seconds);\r\n    var d = Math.floor(seconds / (3600 * 24));\r\n    var h = Math.floor(seconds % (3600 * 24) / 3600);\r\n    var m = Math.floor(seconds % 3600 / 60);\r\n    var s = Math.floor(seconds % 3600 % 60);\r\n\r\n    var dDisplay = d > 0 ? d + (d == 1 ? \" день \" : d < 5 ? \" дня \" : \" дней \") : \"\";\r\n    var hDisplay = h > 0 ? h + (h == 1 ? \" час \" : h < 5 ? \" часа \" : \" часов \") : \"\";\r\n    var mDisplay = m > 0 ? m + (m == 1 ? \" минута \" : m < 5 ? \" минуты \" : \"минут \") : \"\";\r\n    var sDisplay = s > 0 ? s + (s == 1 ? \" секунда\" : \" секунд\") : \"\";\r\n    return dDisplay + hDisplay + mDisplay;\r\n}\r\n\r\nfunction sortByAge(a, b) {\r\n    a = a._Age;\r\n    b = b._Age;\r\n    return a > b ? 1 : (a < b ? -1 : 0);\r\n}\r\n\r\nwebix.ui.datafilter.ageFilter = webix.extend({\r\n    render: function (master, column) {\r\n        //console.log(column);\r\n        column.css = \"webix_ss_filter\";\r\n        var html = \"<input \"\r\n                + (column.placeholder ? ('placeholder=\"' + column.placeholder + '\" ') : \"\")\r\n                + (column.tooltip ? ('title=\"' + column.tooltip + '\" ') : \"\")\r\n                + \"type='text'>\";\r\n        return html;\r\n    }\r\n}, webix.ui.datafilter.textFilter);\r\n\r\nfunction agePrepare(filterValue, filterObject) {\r\n\r\n    return filterValue;\r\n}\r\n\r\nfunction ageCompare(columnValue, filterValue) {\r\n    // дополним, чтоб все было в днях\r\n    let value = columnValue.indexOf('дн') === -1 ? '0дн ' + columnValue.toString().toLowerCase() : columnValue.toString().toLowerCase();\r\n    // оставим для сравнения только дни\r\n    value = value.slice(0, value.indexOf('дн'));\r\n    let filter = filterValue.toString().toLowerCase();\r\n    let compareMethod = filter.match(/[\\=\\<\\>]/);\r\n\r\n    if (compareMethod !== null) {\r\n        filter = filter.substr(filter.indexOf(compareMethod[0]) + 1);\r\n        // filter = filter.match(/[0-9]/);\r\n        //console.log(value, compareMethod[0], filter);\r\n        switch (compareMethod[0]) {\r\n            case '=' :\r\n                return (value + 'дн').indexOf(filter + 'дн') === 0;\r\n            case '>' :\r\n                return Number(value) > Number(filter);\r\n            case '<' :\r\n                return Number(value) < Number(filter);\r\n            default :\r\n                return value.indexOf(filter) !== -1;\r\n        }\r\n    } else\r\n        return value.indexOf(filter) !== -1;\r\n}\r\n\r\nconst grid = {\r\n    id: \"order-order\",\r\n    view: \"datatable\",\r\n    select: \"row\",\r\n    clipboard: \"selection\",\r\n    editable: false,\r\n    checkboxRefresh: true,\r\n    pager: \"pagerA\",\r\n    \"export\": true,\r\n    tooltip:true,\r\n    columns: [\r\n        {id: \"TicketID\", header: \"#\", sort: \"int\", width: 50, tooltip: false},\r\n        {id: \"TicketNumber\", header: [\"Заявка\", {content: \"textFilter\"}], sort: \"int\", minWidth: 120, fillspace: 2, tooltip: false},\r\n        {id: \"Queue\", header: [\"Очередь\", {content: \"selectFilter\"}], sort: \"string\", minWidth: 120, fillspace: 2, tooltip: false},\r\n        {id: \"CustomerID\", header: [\"Заказчик\", {content: \"selectFilter\"}], sort: \"string\", minWidth: 120, fillspace: 2, tooltip: false},\r\n        {id: \"Title\", header: [\"Название\", {content: \"textFilter\"}], sort: \"string\", minWidth: 120, fillspace: 2, tooltip: false},\r\n        // Возраст приходит готовый с сервера, для сортировки используется возраст в секундах _Age\r\n        {id: \"Age\", header: [\"Возраст\", {content: \"ageFilter\", prepare: agePrepare, compare: ageCompare, tooltip: \"Используйте < > = перед количеством дней\"}],\r\n            sort: sortByAge, minWidth: 100, fillspace: 2, tooltip: false},\r\n        // При необходимости можно вычислять возраст непосредственно в скрипте в разделе $init\r\n        //{id: \"_age\", header: [\"Возраст\", {content: \"textFilter\"}], sort: sortByAge, minWidth: 100, fillspace: 2 },\r\n        {id: \"StateType\", header: [\"Статус\", {content: \"staFilter\", css: \"webix_ss_filter\"}], sort: \"int\", minWidth: 100, fillspace: 1,\r\n            editor: \"inline-checkbox\", template: staTemplate, tooltip: false},\r\n        {id: \"edit\", header: \"<span class='webix_icon mdi mdi-file-document-box'></span>\", width: 35, tooltip: 'Просмотр заявки',\r\n            template: \"<span  style=' cursor:pointer;' class='webix_icon mdi mdi-file-document-box'></span>\"\r\n        },\r\n    ],\r\n    scheme: {\r\n        $init: function (obj) {\r\n            // Будет работать если раскомментировать поле _age\r\n            obj._age = secondsToDhms(obj._Age);\r\n        }\r\n    },\r\n    url: \"index.php?route=order/order/getTicketList&token=\" + token,\r\n    onClick: {\r\n        \"mdi-file-document-box\": function (e, id) {\r\n            this.select(id);\r\n            $$('paging').hide();\r\n            $$('edit-tools').hide();\r\n            $$('edit-form-icon').show();\r\n            $$('order-form').show();\r\n        }\r\n    },\r\n    ready: function () {\r\n        webix.extend(this, webix.ProgressBar);\r\n    }\r\n};\r\n\r\nconst iform = {\r\n    view: \"form\",\r\n    id: \"order-form\",\r\n    multiview: {keepViews: true},   \r\n    elements: [\r\n\r\n        {cols: [\r\n                {view: \"text\", name: \"TicketID\", label: \"ID заявки\", labelWidth: 80, width: 160, readonly: true},\r\n                {view: \"text\", name: \"TicketNumber\", label: \"Номер заявки\", labelWidth: 120, labelAlign: \"right\", readonly: true},\r\n                {view: \"text\", name: \"Created\", label: \"Создана\", labelWidth: 80, labelAlign: \"right\", readonly: true},\r\n            ]},\r\n        {view: \"text\", name: \"Queue\", label: \"Очередь\", labelWidth: 170, readonly: true},\r\n        {cols: [\r\n                {view: \"text\", name: \"CustomerID\", label: \"Заказчик\", labelWidth: 170, readonly: true},\r\n                {view: \"text\", name: \"Owner\", label: \"Агент\", labelWidth: 170, labelAlign: \"right\", readonly: true},\r\n            ]},\r\n        {cols: [\r\n                {view: \"text\", name: \"Title\", label: \"Название\", labelWidth: 170, readonly: true},\r\n                        //{ view:\"text\", name:\"contactname\", label:\"Контактное лицо\", labelWidth:170, labelAlign: \"right\", readonly:true },\r\n            ]},\r\n        {cols: [\r\n                {view: \"textarea\", name: \"Request\", height: 200, label: \"Текст заявки\", labelPosition: \"top\"},\r\n                {view: \"textarea\", name: \"Response\", height: 200, label: \"Текст ответа\", labelPosition: \"top\"},\r\n            ]},\r\n        {cols: [\r\n                {view: \"text\", name: \"Age\", label: \"Возраст\", labelWidth: 170, readonly: true},\r\n                {view: \"select\", name: \"StateType\", label: \"Статус\", labelWidth: 170, labelAlign: \"right\", disabled: true,\r\n                    options: [\r\n                        {id: 'closed', value: \"<span class='webix_table_checkbox order-status order-closed'> Закрыта </span>\"},\r\n                        {id: 'open', value: \"<span class='webix_table_checkbox order-status order-open'> Открыта </span>\"},\r\n                    ],\r\n                },\r\n            ]},\r\n\r\n        {\r\n            margin: 10,\r\n            cols: [\r\n                {},\r\n                {view: \"button\", value: \"Отменить\", width: 120, click: function () {\r\n                        $$(\"order-views\").back();\r\n                        $$('paging').show();\r\n                        $$('edit-form-icon').hide();\r\n                        $$('edit-tools').show();\r\n                    }},\r\n            ]\r\n        }\r\n    ],\r\n};\r\n\r\nconst order_views = {\r\n    view: \"multiview\",\r\n    id: \"order-views\",\r\n    cells: [grid, iform]\r\n};\r\n\r\nconst layout = {\r\n    id: \"layout\",\r\n    type: \"space\",\r\n    rows: [\r\n        {height: 40, id: \"edit-tools\", cols: outplugins},\r\n        {height: 40, id: \"edit-form-icon\", cols: formview, hidden: true},\r\n        {rows: [order_views, paging]}\r\n    ]\r\n};","import {JetView} from \"webix-jet\";\r\n//import {data} \tfrom \"models/owners\";\r\nimport outplugins from \"views/menus/export\";\r\nimport toolbar from \"views/menus/toolbar\";\r\nimport toolplug from \"views/menus/toolplug\";\r\nimport paging from \"views/modules/paging\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\n\r\nexport default class OwnerView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\r\n\t\t$$('owner-form').bind($$('catalog-owner'));\t\r\n\t\twebix.dp.$$(\"catalog-owner\").config.updateFromResponse = true;\t\r\n\t}\t\r\n}\r\n\t\r\nconst grid = {\r\n\tid:\"catalog-owner\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\r\n\tclipboard:\"selection\",\t\r\n\tmultiselect:true, \r\n\teditable:true, \r\n\teditaction:\"dblclick\",\r\n\tcheckboxRefresh:true,\r\n\tpager:\"pagerA\",\r\n\t\"export\":true,\r\n\tcolumns:[\r\n\t\t{id:\"owner_id\", header:\"#\", sort:\"int\", width:50},\t\t\r\n\t\t{id:\"ownername\", header:[\"Название\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\t\t\r\n\t\t{id:\"sort_order\", header:{text:\"Порядок сортировки\", height:60, css:\"multiline\"}, sort:\"int\", minWidth:80, fillspace: 1, editor:\"text\",},\r\n\t\t{id:\"status\", header:[\"Статус\", {content:\"staFilter\", css:\"webix_ss_filter\"}], sort:\"int\", minWidth:100, fillspace:1,editor:\"inline-checkbox\", template:staTemplate},\r\n\t\t{id:\"edit\", header:\"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\", width:35,\r\n\t\t\ttemplate:\"<span  style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n\t\t},\t\t\r\n\t],\t\r\n\turl:\"index.php?route=catalog/owner/getList&token=\"+token,\r\n\tsave:{\r\n\t\t\t\"insert\":\"index.php?route=catalog/owner/add&token=\"+token,\r\n\t\t\t\"update\":\"index.php?route=catalog/owner/edit&token=\"+token,\r\n\t\t\t\"delete\":\"index.php?route=catalog/owner/delete&token=\"+token\r\n\t},\r\n\tonClick:{\t\t\r\n\t\t\"mdi-pencil\":function(e,id){\r\n\t\t\tthis.select(id);\t\t\t\r\n\t\t\t$$('owner-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\r\n\ton:{\t\t\r\n\t\t\"onAfterAdd\":function(obj, index){\t\r\n\t\t\tvar lastid = this.getLastId();\r\n\t\t\tthis.select(lastid);\r\n\t\t\t$$('owner-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\t\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nconst grouplist = { \r\n\tview:\"dbllist\", \r\n\tlist:{ height:180, scroll:true, css:\"double-list\",  },\t\r\n\tlabelBottomLeft:\"Допустимые группы\",\r\n\tlabelBottomRight:\"Имеющиеся группы\",\t\r\n};\r\n\t\t\t\t\t  \r\nconst ui = {\r\n\tview:\"form\",\r\n\tid:\"owner-form\",\r\n\t//multiview:{ keepViews:true },\r\n\tdataFeed: function (id) {\t\t\r\n\t\t\t\tlet current_owner_id = $$('catalog-owner').getItem(id).owner_id;\r\n\t\t\t\tlet dbllist = this.queryView({ view:\"dbllist\" });\r\n\t\t\t\tthis.clear();\r\n\t\t\t\tdbllist.$$(\"left\").clearAll();\r\n\t\t\t\tvar promise = this.load(\"index.php?route=catalog/owner/getForm&token=\"+token+\"&owner_id=\"+current_owner_id);\r\n\t\t\t\t\t\r\n\t\t\t\tvar promise2 = dbllist.load(\"index.php?route=catalog/owner/getWialonGroups&token=\"+token+\"&owner_id=\"+current_owner_id);\r\n\t\t\t\t\r\n\t\t\t\tvar promise3 = webix.ajax().get(\"index.php?route=catalog/owner/getOwnerGroups\",{ token:token, owner_id:current_owner_id }, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\terror:function(text, data, XmlHttpRequest){\r\n\t\t\t\t\t\t\talert(\"error\");\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess:function(text, data, XmlHttpRequest){\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tdbllist.setValue( data.json() );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tpromise.then(promise2).then(promise3);\t\t\t\t\r\n\t\t\t  },\t\r\n\telements:[\r\n\t\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", id:\"owner_id\", name:\"owner_id\", label:\"ID владельца\", labelWidth:170, readonly:true },\r\n\t\t\t\t{ view:\"text\", id:\"date_added\", name:\"date_added\", label:\"Дата регистрации\", labelWidth:170, labelAlign: \"right\", readonly:true },\r\n\t\t\t]},\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", name:\"ownername\", label:\"Название\", placeholder:\"Введите название\", labelWidth:170, required:true, invalidMessage:\"название должно быть от 3 до 128 знаков\" },\t\t\t\r\n\t\t\t\t{ view:\"text\", name:\"bin\", label:\"БИН/ИИН\",  labelWidth:170, labelAlign: \"right\", invalidMessage:\"должно быть 12 знаков\" },\r\n\t\t\t]},\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", name:\"address\",  label:\"Фактический адрес\", placeholder:\"Введите адрес\", labelWidth:170,  },\r\n\t\t\t\t{ view:\"text\", name:\"contactname\", label:\"Контактное лицо\", placeholder:\"Введите контактное лицо\", labelWidth:170, labelAlign: \"right\",},\t\t\t\r\n\t\t\t]},\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", name:\"telephone\", label:\"Телефон\", placeholder:\"Введите телефон\", labelWidth:170,  invalidMessage:\"поле должно содержать от 1 до 32 знаков\" },\r\n\t\t\t\t{ view:\"text\", name:\"email\", type:'email', label:\"E-mail\", placeholder:\"Введите e-mail\", labelWidth:170, labelAlign: \"right\", invalidMessage:\"не похоже на адрес электронной почты\" },\r\n\t\t\t]},\r\n\t\t\t{ view:\"forminput\", name:\"wialon_groups\", body:grouplist, labelWidth:170, label:\"Группы владельца\", },\t\r\n\t\t\t{ view: \"textarea\", name: \"description\", label: \"Дополнительные сведения\", labelWidth:170, gravity:1,minHeight:60,maxHeight:150},\t\t\t\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", name:\"sort_order\", label:\"Порядок сортировки\",  labelWidth:170 },\r\n\t\t\t\t{ view:\"select\", name:\"status\", label:\"Статус\", labelWidth:170, labelAlign: \"right\", options:[{id:0, value:\"Отключено\"}, {id:1, value:\"Включено\"}], },\r\n\t\t\t]},\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\t\t\t\t\t\t\r\n\t\t\t\t\t\t$$(\"owner-views\").back();\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\tlet form_for_save = $$(\"owner-form\");\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(!form_for_save.validate()) \r\n\t\t\t\t\t\t\treturn false;\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twebix.ajax().post(\"index.php?route=catalog/owner/validateForm&token=\"+token, form_for_save.getValues(), function(text, data, XmlHttpRequest){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (text && text!=\"[]\") {\r\n\t\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\t\ttext:JSON.parse(text).warning,\r\n\t\t\t\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}); //show server side response\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t//this.getFormView().save()\r\n\t\t\t\t\t\t\t\tform_for_save.save();\r\n\t\t\t\t\t\t\t\t$$(\"owner-views\").back();\r\n\t\t\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t],\r\n\trules:{\r\n          \"ownername\": function(value){ return value.length >= 3 && value.length <= 128},\t\t  \r\n\t\t  \"email\": function(value){ return webix.rules.isEmail(value) || value.length == 0},\r\n\t\t  \"bin\": function(value){ return value.length == 12 || value.length == 0},\t\r\n    }\r\n};\r\n\r\nconst owner_views = {\r\n\tview:\"multiview\", \r\n    id:\"owner-views\",\r\n    cells:[\tgrid, ui,]\r\n}\r\n\r\nconst layout = {\r\n\tid:\"layout\",\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, id:\"edit-tools\", cols: outplugins.concat(toolbar) },\r\n\t\t{ height:40, id:\"edit-form-icon\", cols: toolplug, hidden:true },\r\n\t\t{ rows:[ owner_views, paging ] }\r\n\t]\r\n};\r\n ","import {JetView} from \"webix-jet\";\r\n\r\nimport search\tfrom \"views/modules/product_search\";\r\nimport editor\tfrom \"views/modules/editor\";\r\nimport upload\tfrom \"views/modules/product_upload\";\r\nimport meta \tfrom \"views/modules/product_meta\";\r\n\r\n\r\nexport default class ProductEditView extends JetView{\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tready(){\r\n\t\twebix.$$(\"mainView\").bind(webix.$$(\"list\"));\r\n\t}\r\n}\r\n\r\nconst buttons = [\r\n\t{ view: \"button\", type: \"form\", icon: \"plus\", label: \"Save\", width: 90},\r\n\t{ view: \"button\", css: \"button2\", icon: \"angle-left\", label: \"Reset\", width: 90},\r\n\t{},\r\n\t{ view: \"button\", css: \"button0\", icon: \"times\", label: \"Delete\", width: 90}\r\n];\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[{\r\n\t\ttype: \"wide\",\r\n\t\tcols:[\r\n\t\t\tsearch,\r\n\t\t\t{\r\n\t\t\t\tgravity: 2.2,\r\n\t\t\t\trows:[\r\n\t\t\t\t\t{view: \"tabbar\", multiview: true,optionWidth: 130,\r\n\t\t\t\t\t\toptions:[\r\n\t\t\t\t\t\t\t{id: \"mainView\", value: \"Main\"},\r\n\t\t\t\t\t\t\t{id: \"imagesView\", value: \"Images\"},\r\n\t\t\t\t\t\t\t{id: \"metaView\", value: \"Meta\"}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcells:[\r\n\t\t\t\t\t\t\teditor,\r\n\t\t\t\t\t\t\tupload,\r\n\t\t\t\t\t\t\tmeta\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\tview: \"form\",\r\n\t\t\t\t\t\tcss: \"highlighted_header header6\",\r\n\t\t\t\t\t\tpaddingX:5,\r\n\t\t\t\t\t\tpaddingY:5,\r\n\t\t\t\t\t\theight:40,\r\n\t\t\t\t\t\tcols:buttons\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t]}\r\n\t]\r\n};","import {JetView} from \"webix-jet\";\r\n\r\nimport {data} \tfrom \"models/products\";\r\nimport context from \"views/menus/contextmenu\";\r\n\r\nexport default class ProductsView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\r\n\t}\r\n\tinit(view){\r\n\t\tview.queryView({ view:\"datatable\" }).parse(data);\r\n\t\t\r\n\t\tvar c=this.ui(context);\r\n\t\tc.attachTo(this.$$(\"productsData\").getNode());\r\n\t\t\r\n\t//\tbackendController = wconfig.products.backendController;\r\n\t\t$$(\"productsData\").attachEvent(\"onBeforeContextMenu\", function(id, e, node){\r\n\t\t\tselRows = $$(\"productsData\").getSelectedItem(true);\t\r\n\t\t});\r\n\t}\r\n}\r\n\r\nconst grid = {\r\n\tid:\"productsData\",\r\n\tview:\"datatable\",\r\n\t\tselect:\"row\",\r\n\t\tclipboard:\"selection\",\r\n\t\tonContext:{},\r\n\t\t//autowidth:true,\r\n\t\tmultiselect:true, \r\n\t\teditable:true, \r\n\t\teditaction:\"dblclick\",\r\n\tcolumns:[\r\n\t\t{id:\"product_id\", header:\"#\", sort:\"string\", width:50},\r\n\t\t{id:\"model\", header:[\"Model\", {content:\"textFilter\"} ], sort:\"string\", minWidth:80, fillspace: 1},\r\n\t\t{id:\"name\", header:[\"Name\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\r\n\t\t{id:\"category\", header:[\"Category\", {content:\"selectFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\r\n\t\t{id:\"price\", header:[\"Price\"], sort:\"int\", minWidth:80, fillspace: 1, format:webix.i18n.priceFormat},\r\n\t\t{id:\"quantity\", header:[\"Quantity\" ], sort:\"int\", minWidth:60, fillspace: 1},\r\n\t\t{id:\"special\", header:[\"Скидка\" ], sort:\"string\", minWidth:60, fillspace: 1},\r\n\t\t{id:\"statusName\", header:[\"Status\", {content:\"selectFilter\"} ], minWidth:75, sort:\"string\", fillspace: 1, template:\"<span class='status status#status#'>#statusName#</span>\"},\r\n\r\n\t\t{id:\"edit\", header:\"&nbsp;\", width:35, template:\"<span  style=' cursor:pointer;' class='webix_icon fa-pencil'></span>\"},\r\n\t\t{id:\"delete\", header:\"&nbsp;\", width:35, template:function(obj){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  if (obj.status != \"0\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn \"<span  style=' cursor:pointer;' class='webix_icon fa-toggle-on'></span>\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn \"<span  style=' cursor:pointer;' class='webix_icon fa-toggle-off'></span>\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t}\r\n\t],\r\n\tpager:\"pagerA\",\r\n\t\"export\":true,\r\n\tsave:{\r\n\t\t\t\"insert\":\"index.php?route=catalog/product/add&token=\"+token,\r\n\t\t\t\"update\":\"index.php?route=catalog/product/edit&token=\"+token,\r\n\t\t\t\"delete\":\"index.php?route=catalog/product/delete&token=\"+token\r\n\t},\r\n\tonClick:{\r\n\t\t\"fa-toggle-on\":function(e,id){\t\t\t\r\n\t\t\tconst item = this.getItem(id);\t\t\t\t\t\t\r\n\t\t\titem.status = \"0\";\r\n\t\t\titem.statusName = \"Отключено\";\t\t\t\t\t\t\r\n\t\t\twebix.ajax().post(\"index.php?route=catalog/product/edit&token=\"+token, item);\r\n\t\t\tthis.refresh(id);\t\t\r\n\t\t},\r\n\t\t\"fa-toggle-off\":function(e,id){\t\t\t\t\r\n\t\t\tconst item = this.getItem(id);\t\t\t\t\t\t\r\n\t\t\titem.status = \"1\";\r\n\t\t\titem.statusName = \"Включено\";\t\t\t\t\t\t\r\n\t\t\twebix.ajax().post(\"index.php?route=catalog/product/edit&token=\"+token, item);\r\n\t\t\tthis.refresh(id);\t\t\r\n\t\t},\r\n\t\t\"fa-pencil\":function(e,id){\r\n\t\t\tthis.refresh(id);\t\t\t\r\n\t\t\tthis.$scope.app.show(\"/app/product_edit\");\t\t\t\t\t\t\r\n\t\t}\r\n\t},\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nfunction logEvent(type, message, args){\r\n    webix.message({ text:message, expire:2500 });\r\n    console.log(type);\r\n    console.log(args);\r\n  };\r\n  \r\nconst controls = [\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"file-excel-o\", tooltip: \"Export To Excel\", click: function(){\r\n\t\twebix.toExcel(webix.$$(\"productsData\"));}\r\n\t},\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"file-pdf-o\", tooltip: \"Export To PDF\", click: function(){\r\n\t\twebix.toPDF(webix.$$(\"productsData\"));}\r\n\t},\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"file-word-o\", tooltip: \"Export To PNG\", click: function(){\r\n\t\twebix.toPNG(webix.$$(\"productsData\"));}\r\n\t},\r\n\t{},\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"refresh\", tooltip: \"Освежить\", click: function(){\r\n\t\tvar grid = webix.$$(\"productsData\");\r\n\t\tgrid.clearAll();\r\n\t\tgrid.showProgress();\r\n\t\twebix.delay(function(){\r\n\t\t\tgrid.parse(data);\r\n\t\t\tgrid.hideProgress();\r\n\t\t}, null, null, 300);\r\n\t\t\r\n\t}},\t\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"plus\", tooltip: \"Add new\", click: function(){\r\n\t\t\tvar item = $$(\"productsData\").add({});\r\n\t\t\t$$(\"productsData\").showItem(item);\r\n\t\t}\r\n\t},\r\n\t{view: \"icon\", type: \"icon\", borderless:false, icon:\"copy\", tooltip: \"Copy\", click: function(){\r\n\t\t\tselRows = $$(\"productsData\").getSelectedItem(true);\r\n\t\t\tselRows.forEach(function(item, idx, arr) {\r\n                var new_item = $$(\"productsData\").add({});\r\n\t\t\t\twebix.$$(\"productsData\").updateItem(new_item, item);\t\t\t\t\r\n            });\t\t\t\r\n\t\t\t$$(\"productsData\").showItem($$(\"productsData\").getLastId());\r\n\t\t}\r\n\t},\r\n\t{view: \"icon\", type: \"iconButton\", borderless:false, icon:\"trash-o\", tooltip: \"Delete\", click: function(){\t\t\t\t\r\n\t\t\twebix.confirm({\r\n\t\t\t\ttext:\" Выделенные строки будут удалены. <br/> Вы уверены? \", ok:\"Да\", cancel:\"Отменить\",\r\n\t\t\t\tcallback:(res) => {\r\n\t\t\t\t\tif(res){\r\n\t\t\t\t\t\t$$(\"productsData\").remove($$(\"productsData\").getSelectedId());\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\t\r\n\t\t}\r\n\t},\t\r\n\t{ view: \"switch\", width: 140, borderless:false, onLabel: \"Отменить\", offLabel:\"Выделить все\", value: 0, \r\n\t\ton:{\r\n\t\t\t'onItemClick': function(id){ \r\n\t\t\t\tvar val = this.getValue();\t\t\t\t\t\t\t\r\n\t\t\t\tif(val==\"1\") {\r\n\t\t\t\t\twebix.$$(\"productsData\").selectRange(webix.$$(\"productsData\").getFirstId(),webix.$$(\"productsData\").getLastId(), true);\r\n\t\t\t\t\t//selRows = $$(\"productsData\").getSelectedItem(true);\r\n\t\t\t\t\t//console.log(selRows);\r\n\t\t\t\t} else {\r\n\t\t\t\t\twebix.$$(\"productsData\").clearSelection();\r\n\t\t\t\t\t\t\t\t//selRows = [];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\t\r\n\t{ view:\"richselect\", id:\"order_filter\", value: \"all\", maxWidth: 300, minWidth: 250, vertical: true, options:[\r\n\t\t{id:\"all\", value:\"Все\"},\r\n\t\t{id:\"1\", value:\"Включено\"},\r\n\t\t{id:\"2\", value:\"Отключено\"},\r\n\t\t{id:\"0\", value:\"Удалено\"}\r\n\t],  label:\"Статус\", labelWidth: 60, on:{\r\n\t\tonChange:function(){\r\n\t\t\tvar val = this.getValue();\r\n\t\t\tif(val==\"all\")\r\n\t\t\t\twebix.$$(\"productsData\").filter(\"#status#\",\"\");\r\n\t\t\telse\r\n\t\t\t\twebix.$$(\"productsData\").filter(\"#status#\",val);\r\n\t\t}\r\n\t}\r\n\t}\r\n];\r\n\r\nconst toolbar = {\r\n\tview: \"toolbar\",\r\n\tcss: \"highlighted_header header6\",\r\n\tpaddingX:5, paddingY:5, height:40,\r\n\tcols:[{\r\n\t\tview:\"pager\", id:\"pagerA\",\r\n\t\ttemplate:\"{common.first()}{common.prev()}&nbsp; {common.pages()}&nbsp; {common.next()}{common.last()}\",\r\n\t\tautosize:true, \r\n\t\theight: 35, group:5\r\n\t}]\r\n};\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, cols: controls\t},\r\n\t\t{ rows:[ grid, toolbar ] }\r\n\t]\r\n};\r\n","import {JetView} \tfrom \"webix-jet\";\r\nimport toolbar\t\tfrom \"views/menus/export\";\r\n\r\nexport default class ReportBillingView extends JetView {\r\n    config() {\r\n        return layout;\r\n    }\r\n    init(view) {\r\n        webix.extend(view.queryView({view: \"treetable\"}), webix.ProgressBar);\r\n        webix.extend($$(\"owner-tree\"), webix.ProgressBar);\r\n        $$(\"owner-tree\").showProgress({\r\n            type: \"top\",\r\n            delay: 1500,\r\n            hide: true\r\n        });\r\n    }\r\n}\r\n\r\nconst report_treetable_group = {\r\n    id: \"report-treetable-group\",\r\n    view: \"treetable\",\r\n    \"export\": true,\r\n    columns: [\r\n        {id: \"item_id\", header: \"#\", sort: \"int\", width: 60,\r\n            template: function (obj, common) {\r\n                if (obj.$group)\r\n                    return common.treetable(obj, common) + obj.value + '  (' + obj.count + ' объектов)' + ' Сумма: ' + obj.total;\r\n                return obj.item_id;\r\n            }\r\n        },\r\n        {id: \"deleted\", header: \" \", sort: \"int\", width: 40, css: {\"text-align\": \"center\"},\r\n            template: function (obj, common, value) {\r\n                if (value != 0)\r\n                    return \"<span class='webix_icon fa-times deleted'></span>\";\r\n                else\r\n                    return \"\";\r\n            }\r\n        },\r\n        {id: \"itemname\", header: [\"Название\"], minWidth: 120, fillspace: 2, },\r\n        {id: \"tracker_uid\", header: [\"Трекер UID\"], minWidth: 140, fillspace: 1},\r\n        {id: \"ownername\", header: [\"Владелец\"], minWidth: 120, fillspace: 2, hidden: true, },\r\n        {id: \"wialon_groupname\", header: [\"Группа\"], sort: \"string\", minWidth: 120, fillspace: 2},\r\n        {id: \"wialon_group_off\", header: [\"Вид\"], width: 65, css: {\"text-align\": \"center\"},\r\n            template: function (obj, common, value) {\r\n                if (value == 1)\r\n                    return \"<span class='webix_icon fa-eye-slash wialon-group-off'></span>\";\r\n                else\r\n                    return \"<span class='webix_icon fa-eye wialon-group-on'></span>\";\r\n            }\r\n        },\r\n        {id: \"billing\", header: \"Сумма\", sort: \"int\", minWidth: 120},\r\n    ],\r\n    scheme: {\r\n        $init: function (obj) {\r\n            if (obj.deleted == 1)\r\n                obj.$css = \"deleted\";\r\n        },\r\n        $group: {\r\n            by: \"ownername\",\r\n            map: {\r\n                title: [\"ownername\"],\r\n                count: [\"item_id\", \"count\"],\r\n                total: [\"billing\", \"sum\"],\r\n            },\r\n            //row:function(obj){\r\n            //\treturn \"Группа \"+obj.item_id+\", Начислено: \"+webix.i18n.numberFormat(obj.item_id);\r\n            //},\r\n            row: \"item_id\",\r\n            footer: {\r\n                total: [\"billing\", \"sum\"],\r\n                row: function (obj) {\r\n                    return \"<span style='float:right;'>Итого: \" + webix.i18n.numberFormat(obj.total) + \"</span>\";\r\n                }\r\n            },\r\n        },\r\n        $sort: {by: \"ownername\", as: \"string\", dir: \"desc\"}\r\n    },\r\n};\r\n\r\nconst report_treetable_tree = {\r\n    id: \"report-treetable-tree\",\r\n    view: \"treetable\",\r\n    \"export\": true,\r\n    footer: true,\r\n    stringResult: true,\r\n    columns: [\r\n        {id: \"event_name\", header: \"Событие\", sort: \"int\", minWidth: 450, fillspace: true,\r\n            template: function (obj, common) {\r\n                if (obj.$level == 2)\r\n                    //return common.treetable(obj, common)+\"<span>\"+obj.value + '  ('+ obj.$count +' гр.)'+\"</span>\";\r\n                    return common.treetable(obj, common) + \"<span>\" + obj.value + \"</span>\";\r\n                if (obj.$level == 3)\r\n                    return common.treetable(obj, common) + \"<span>\" + \"<i>\" + obj.value + '  (' + obj.$count + ' объектов)' + \"</i>\" + \"</span>\";\r\n                if (obj.$level <= 4)\r\n                    return common.treetable(obj, common) + \"<span>\" + obj.value + \"</span>\";\r\n                else\r\n                    return obj.event_name;\r\n            }\r\n        },\r\n        {id: \"date_start\", header: \"Начало\", sort: \"int\", minWidth: 120, footer: {text: \"Итого:\", colspan: 4}, fillspace: true},\r\n        {id: \"date_end\", header: \"Конец\", sort: \"int\", minWidth: 120, fillspace: true},\r\n        {id: \"tarif\", header: \"Тариф\", sort: \"int\", minWidth: 120, fillspace: true},\r\n        {id: \"discount\", header: \"Скидка\", sort: \"int\", minWidth: 120, fillspace: true},\r\n        {id: \"count\", header: \"Дней\", sort: \"int\", minWidth: 120, footer: {content: \"summColumn\"}},\r\n        {id: \"sum\", header: \"Сумма\", sort: \"int\", minWidth: 120, footer: {content: \"summColumn\"}},\r\n    ],\r\n    scheme: {\r\n    },\r\n};\r\n\r\nvar myjson = webix.DataDriver.myjson = webix.copy(webix.DataDriver.json);\r\nmyjson.child = function (obj) {\r\n    var _id = obj.id.split('.');\r\n    if (obj.$level == 1)\r\n        return obj.data;\r\n    if (obj.$level == 2) {\r\n        obj.value = obj.value + \" (id=\" + obj.id + \")\";\r\n        return obj.data;\r\n    }\r\n    if (obj.$level == 3) {\r\n        obj.value = \"Группа \" + obj.value + \" (id=\" + _id[1] + \")\";\r\n        return obj.data;\r\n    }\r\n    if (obj.$level == 4) {\r\n        obj.value = obj.value + \" (id=\" + _id[2] + \")\";\r\n        return obj.data;\r\n    }\r\n};\r\n\r\nconst owner_tree = {\r\n    view: \"tree\",\r\n    id: \"owner-tree\",\r\n    template: \"{common.icon()} {common.checkbox()} {common.folder()} #value# \",\r\n    threeState: true,\r\n    datatype: \"myjson\",\r\n    url: \"index.php?route=report/billing/getOwnersTree&token=\" + token,\r\n};\r\n\r\nvar months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\nconst checking_form = {\r\n    view: \"form\",\r\n    id: \"checking-form\",\r\n    elements: [\r\n        {cols: [\r\n                {view: \"datepicker\", name: \"date_start\", label: \"Начало\", labelWidth: 80, value: new Date(), format: \"%d.%m.%Y\"},\r\n                {view: \"datepicker\", name: \"date_end\", label: \"Конец\", labelWidth: 80, labelAlign: \"right\", value: new Date(), format: \"%d.%m.%Y\"},\r\n                {view: \"button\", value: \"Расчитать\", width: 120, click: function () {\r\n                        let values = $$('checking-form').getValues();\r\n                        let date_start = months[values.date_start.getMonth()] + ' ' + values.date_start.getDate() + 'th, ' + values.date_start.getFullYear();\r\n                        let date_end = months[values.date_end.getMonth()] + ' ' + values.date_end.getDate() + 'th, ' + values.date_end.getFullYear();\r\n                        let billing_treetable = $$('billing-report').queryView({view: \"treetable\"});\r\n                        billing_treetable.clearAll();\r\n                        $$('billing-report').show();\r\n                        billing_treetable.showProgress({\r\n                            type: \"top\",\r\n                            delay: 20000,\r\n                            hide: true\r\n                        });\r\n                        let checked = $$(\"owner-tree\").getChecked();\r\n                        //billing_treetable.load(\"index.php?route=report/billing/getOwnersBillingTree&token=\"+token+\"&date_start=\"+date_start+\"&date_end=\"+date_end+\"&checked=\"+checked);\r\n                        var query = webix.ajax().post(\"index.php?route=report/billing/getOwnersBillingTree&token=\" + token, {date_start: date_start, date_end: date_end, checked: checked});\r\n                        billing_treetable.load(function () {\r\n                            return query;\r\n                        });\r\n                    }},\r\n            ]},\r\n        owner_tree,\r\n    ],\r\n}\r\n\r\nconst controls = [\r\n    {view: \"button\", value: \"Назад\", width: 120, click: function () {\r\n            $$(\"checking-form\").show();\r\n        }},\r\n];\r\n\r\nconst billing_report = {\r\n    view: \"form\",\r\n    id: \"billing-report\",\r\n    elements: [\r\n        {height: 40, id: \"edit-tools\", cols: toolbar.concat(controls)},\r\n        report_treetable_tree,\r\n    ]\r\n};\r\n\r\nconst billing_report_views = {\r\n    view: \"multiview\",\r\n    id: \"billing-report-views\",\r\n    cells: [checking_form, billing_report]\r\n}\r\n\r\nconst layout = {\r\n    type: \"space\",\r\n    rows: [billing_report_views, ]\r\n};\r\n","import {JetView} from \"webix-jet\";\r\nimport toolbar\t\tfrom \"views/menus/export\";\r\n\r\nexport default class ReportObjectsView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\t\t\r\n\t\twebix.extend(view.queryView({ view:\"treetable\" }), webix.ProgressBar);\t\t\r\n\t}\t\r\n}\r\n\r\nconst report_treetable_group = {\r\n\tid:\"report-treetable-group\",\r\n\tview:\"treetable\",\t\r\n\t\"export\":true,\t\r\n    footer:true,\r\n\ttooltip:function(obj, common){                \r\n                if (obj.$group === true) return '';\r\n                \r\n                if (obj.$css === 'tracker-online') {\r\n                    return 'Объект \"'+obj.itemName+'\" работал';\r\n                } else if (obj.$css === 'tracker-offline') {\r\n                    return 'Объект \"'+obj.itemName+'\" не работал';\r\n                } else if (obj.$css === 'tracker-disconnect') {\r\n                    return 'Объект \"'+obj.itemName+'\" отключен';\r\n                }\r\n            },\t\r\n    columns:[        \r\n        {id:\"index\", header:\"\", width:80, footer:{text:\"<b>Итого:</b>\", colspan:2}},\r\n        {id:\"itemName\", header:[ \"Название\",{content:\"textFilter\"}], sort:\"string\", minWidth:120, fillspace: 3,  \r\n            template:function(obj, common){\r\n                if (obj.$group) return common.treetable(obj, common) + obj.itemName;\r\n                return obj.itemName;\r\n            }\r\n\t\t},        \r\n        {id:\"total\", header:\"Всего\", sort:\"int\", footer:{content:\"totalTolal\"}},\r\n        {id:\"on\", header:\"Работал\", sort:\"int\", footer:{content:\"onTotal\"}},\r\n        {id:\"off\", header:\"Не работал\", sort:\"int\", footer:{content:\"offTotal\"}},\r\n        {id:\"disconnect\", header:\"Отключен\", sort:\"int\", footer:{content:\"disconnectTotal\"}},\r\n        {id:\"servername\", header:[\"Сервер\",{content:\"selectFilter\"}], sort:\"string\", minWidth:120, fillspace: 1, }\r\n    ],\r\n    scheme:{\r\n        $group:{\r\n            by:\"organizationName\",\r\n            map:{\r\n                total:[\"total\", \"worktotal\"],\r\n                on:[\"on\", \"workon\"],\r\n                off:[\"off\", \"workoff\"],\r\n                disconnect:[\"disconnect\", \"workdisconnect\"],\r\n                itemName:[\"organizationName\"]\r\n            }\r\n        },\r\n        $sort:{ by:\"itemName\", as:\"string\"},\r\n        $change:function(item){\r\n            if (item.$group === true)\r\n                return;\r\n            \r\n            var minworkdays = 0;\r\n            if (item.total > 2)\r\n                minworkdays = 2;\r\n            \r\n            if (item.on > minworkdays) \r\n                item.$css = \"tracker-online\";\r\n            else if (item.off > 0 || item.disconnect === 0)\r\n                item.$css = \"tracker-offline\";\r\n            else\r\n                item.$css = \"tracker-disconnect\";\r\n        }\r\n    },    \r\n    on:{\r\n        onBeforeLoad:function(){\r\n          this.hideOverlay();\r\n          webix.extend(this, webix.ProgressBar);\r\n          this.showProgress({type:\"icon\",\r\n                             delay:20,\r\n                             hide:false});\r\n        },\r\n        onAfterLoad:function(){\r\n          this.hideProgress();\r\n          if (!this.count())\r\n              this.showOverlay(\"Нет данных\");\r\n        },\r\n        \"data->onStoreUpdated\":function(){\r\n        //    var temp = this.data;\r\n          var i = 0;\r\n          var orgindex = 0;\r\n          this.data.each(function(obj){\r\n              if (obj.$group ===  true) { \r\n                  i = 0;\r\n                  orgindex = orgindex + 1;\r\n                  obj.index = '<strong>'+orgindex+'</strong>';\r\n                  \r\n              } else {\r\n                  i = i + 1;\r\n                  obj.index = orgindex+'.'+i;\r\n                  \r\n              }\r\n              //var a = obj;\r\n              \r\n        //      obj.index = i+1;\r\n            })\r\n        }\r\n    },        \r\n};\r\n\r\nwebix.ui.datafilter.onTotal = webix.extend({\r\n    refresh:function(master, node, value){ \r\n              var result = 0;\r\n              master.data.each(function(obj){\r\n                if (obj.$group === true)\r\n                  result += obj.on;\r\n              });\r\n\r\n                          node.firstChild.innerHTML = '<b>'+result+'</b>';\r\n    }\r\n  }, webix.ui.datafilter.summColumn);\r\n  \r\nwebix.ui.datafilter.offTotal = webix.extend({\r\n    refresh:function(master, node, value){ \r\n              var result = 0;\r\n              master.data.each(function(obj){\r\n                if (obj.$group === true)\r\n                  result += obj.off;\r\n              });\r\n\r\n                          node.firstChild.innerHTML = '<b>'+result+'</b>';\r\n    }\r\n  }, webix.ui.datafilter.summColumn);\r\n  \r\nwebix.ui.datafilter.disconnectTotal = webix.extend({\r\n    refresh:function(master, node, value){ \r\n              var result = 0;\r\n              master.data.each(function(obj){\r\n                if (obj.$group === true)\r\n                  result += obj.disconnect;\r\n              });\r\n\r\n                          node.firstChild.innerHTML = '<b>'+result+'</b>';\r\n    }\r\n  }, webix.ui.datafilter.summColumn);\r\n  \r\nwebix.ui.datafilter.totalTolal = webix.extend({\r\n    refresh:function(master, node, value){ \r\n              var result = 0;\r\n              master.data.each(function(obj){\r\n                if (obj.$group === true)\r\n                  result += obj.total;\r\n              });\r\n\r\n                          node.firstChild.innerHTML = '<b>'+result+'</b>';\r\n    }\r\n  }, webix.ui.datafilter.summColumn);\r\n        \r\nwebix.GroupMethods.workon = function(prop, data){\r\n            if (!data.length) return 0;\r\n            var counton = 0;\r\n            var countoff = 0;\r\n            var countdisconnect = 0;\r\n            var maxtotal = 0;\r\n            var minworkdays = 2;\r\n            for (var i = data.length - 1; i >= 0; i--) {\r\n                if (data[i]['total'] > maxtotal)\r\n                    maxtotal = data[i]['total'];\r\n            }\r\n            \r\n            if (maxtotal > 2)\r\n                minworkdays = 2;\r\n            else\r\n                minworkdays = 0;\r\n            \r\n            for (var i = data.length - 1; i >= 0; i--) {\r\n                var on = data[i]['on'];\r\n                var off = data[i]['off'];\r\n                var disconnect = data[i]['disconnect'];\r\n                              \r\n                if (on > minworkdays) counton++;\r\n                else if (off > 0 || disconnect === 0) countoff++;\r\n                else countdisconnect++;\r\n                \r\n            }\r\n            return counton;\r\n        };\r\n        \r\n        webix.GroupMethods.workoff = function(prop, data){\r\n            if (!data.length) return 0;\r\n            var counton = 0;\r\n            var countoff = 0;\r\n            var countdisconnect = 0;\r\n            var maxtotal = 0;\r\n            var minworkdays = 2;\r\n            for (var i = data.length - 1; i >= 0; i--) {\r\n                if (data[i]['total'] > maxtotal)\r\n                    maxtotal = data[i]['total'];\r\n            }\r\n            \r\n            if (maxtotal > 2)\r\n                minworkdays = 2;\r\n            else\r\n                minworkdays = 0;\r\n            \r\n            for (var i = data.length - 1; i >= 0; i--) {\r\n                var on = data[i]['on'];\r\n                var off = data[i]['off'];\r\n                var disconnect = data[i]['disconnect'];\r\n                \r\n                if (on > minworkdays) counton++;\r\n                else if (off > 0 || disconnect === 0) countoff++;\r\n                else countdisconnect++;\r\n                \r\n            }\r\n            return countoff;\r\n        };\r\n        \r\n        webix.GroupMethods.workdisconnect = function(prop, data){\r\n            if (!data.length) return 0;\r\n            var counton = 0;\r\n            var countoff = 0;\r\n            var countdisconnect = 0;\r\n            var maxtotal = 0;\r\n            var minworkdays = 2;\r\n            for (var i = data.length - 1; i >= 0; i--) {\r\n                if (data[i]['total'] > maxtotal)\r\n                    maxtotal = data[i]['total'];\r\n            }\r\n            \r\n            if (maxtotal > 2)\r\n                minworkdays = 2;\r\n            else\r\n                minworkdays = 0;\r\n            \r\n            for (var i = data.length - 1; i >= 0; i--) {\r\n                var on = data[i]['on'];\r\n                var off = data[i]['off'];\r\n                var disconnect = data[i]['disconnect'];\r\n                \r\n                if (on > minworkdays) counton++;\r\n                else if (off > 0 || disconnect === 0) countoff++;\r\n                else countdisconnect++;\r\n                \r\n            }\r\n            return countdisconnect;\r\n        };\r\n        \r\n        webix.GroupMethods.worktotal = function(prop, data){\r\n            if (!data.length) return 0;\r\n            var counton = 0;\r\n            var countoff = 0;\r\n            var countdisconnect = 0;\r\n            var maxtotal = 0;\r\n            var minworkdays = 2;\r\n            for (var i = data.length - 1; i >= 0; i--) {\r\n                if (data[i]['total'] > maxtotal)\r\n                    maxtotal = data[i]['total'];\r\n            }\r\n            \r\n            if (maxtotal > 2)\r\n                minworkdays = 2;\r\n            else\r\n                minworkdays = 0;\r\n            \r\n            for (var i = data.length - 1; i >= 0; i--) {\r\n                var on = data[i]['on'];\r\n                var off = data[i]['off'];\r\n                var disconnect = data[i]['disconnect'];\r\n                \r\n                if (on > minworkdays) counton++;\r\n                else if (off > 0 || disconnect === 0) countoff++;\r\n                else countdisconnect++;\r\n                \r\n            }\r\n            return countdisconnect + countoff + counton;\r\n        };\r\n\r\nvar months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n\r\nconst checking_form = {\r\n\tview:\"form\",\r\n\tid:\"checking-form\",\r\n\telements:[\r\n\t\t{ cols:[\r\n\t\t\t{ view:\"datepicker\", name:\"date_start\", label:\"Начало\", labelWidth:80, value:new Date(), format:\"%d.%m.%Y\" },\r\n\t\t\t{ view:\"datepicker\", name:\"date_end\", label:\"Конец\", labelWidth:80, labelAlign:\"right\", value:new Date(), format:\"%d.%m.%Y\" },\r\n\t\t\t{ view:\"button\", value:\"Сформировать\", width:120, click:function(){\r\n\t\t\t\tlet values = $$('checking-form').getValues();\t\t\t\t\t\t\t\r\n\t\t\t\tlet date_start = months[values.date_start.getMonth()]+' '+values.date_start.getDate()+'th, '+ values.date_start.getFullYear();\r\n\t\t\t\tlet date_end = months[values.date_end.getMonth()]+' '+values.date_end.getDate()+'th, '+ values.date_end.getFullYear();\r\n\t\t\t\tlet treetable = $$('object-report').queryView({ view:\"treetable\" });\r\n\t\t\t\ttreetable.clearAll();\t\t\t\t\r\n\t\t\t\ttreetable.showProgress({\r\n\t\t\t\t\ttype:\"top\",\r\n\t\t\t\t\tdelay:20000,\r\n\t\t\t\t\thide:true\r\n\t\t\t\t});\t\r\n\t\t\t\ttreetable.load(\"index.php?route=report/objects&token=\"+token+\"&date_start=\"+date_start+\"&date_end=\"+date_end);\r\n\t\t\t}},\r\n\t\t]},\t\t\r\n\t\t{\tcols:[\r\n                {view:\"button\", value:\"Развернуть все\", click:function(){ $$('report-treetable-group').openAll(); }},\r\n                {view:\"button\", value:\"Свернуть все\", click:function(){ $$('report-treetable-group').closeAll();  }},\r\n\t\t\t\t\t{},\r\n\t\t\t\t{view:\"label\", label: \"Работал\", inputWidth:100, align:\"center\", css:\"tracker-online\" },\r\n\t\t\t\t{view:\"label\", label: \"Не работал\", inputWidth:100, align:\"center\", css:\"tracker-offline\" },\r\n\t\t\t\t{view:\"label\", label: \"Отключен\", inputWidth:100, align:\"center\", css:\"tracker-disconnect\" },\r\n        ]},\r\n\t],\r\n}\r\n\r\nconst controls = [];\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\tid:\"object-report\",\r\n\trows:[\r\n\t\t{ height:40, id:\"tools-bar\", cols: toolbar.concat(controls) },\r\n\t\t{ rows:[ checking_form, report_treetable_group ] }\r\n\t]\r\n};\r\n ","import {JetView} from \"webix-jet\";\r\nimport toolbar\t\tfrom \"views/menus/export\";\r\nimport lastobjects \tfrom \"views/modules/lastobjects\";\r\n\r\nexport default class ReportStatView extends JetView {\r\n\tconfig(){\r\n\t\tthis.minItemWidth = 243;\r\n\t\tconst initCount = Math.floor(document.documentElement.clientWidth / this.minItemWidth);\t\t\r\n\t\t\r\n\t\treturn {\r\n\t\t\tgravity:4,\r\n\t\t\ttype: \"space\",\t\t\t\r\n\t\t\trows:[\t\r\n\t\t\t\t{\t\r\n\t\t\t\t\tcols : [ \r\n\t\t\t\t\t\t{ height:40, id:\"edit-tools\", cols: toolbar },\r\n\t\t\t\t\t\t{view: \"icon\", id:\"refresh\",  type: \"icon\", borderless:false, icon:\"mdi mdi-refresh\", tooltip: \"Освежить\", click: function(){\r\n\t\t\t\t\t\t\tvar dataview = this.getParentView().getParentView().queryView({ view:\"dataview\" });\r\n\t\t\t\t\t\t\tdataview.clearAll();\r\n\t\t\t\t\t\t\tdataview.showProgress({type:\"top\",});\t\r\n\t\t\t\t\t\t\twebix.delay(function(){\r\n\t\t\t\t\t\t\t\tdataview.load(\"index.php?route=report/total&token=\"+token+\"&refresh=true\");\t\r\n\t\t\t\t\t\t\t\tdataview.hideProgress();\r\n\t\t\t\t\t\t\t}, null, null, 300);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}},\t\t\t\t\t\t\r\n\t\t\t\t\t],\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tview:\"dataview\",\r\n\t\t\t\t\tlocalId:\"dataview\",\r\n\t\t\t\t\tscroll:false,\t\r\n\t\t\t\t\txCount:(initCount > 4) ? 3 : ((initCount >= 0 && initCount <= 2) ? 1 : initCount-2),\r\n\t\t\t\t\tminWidth:255,\r\n\t\t\t\t\tselect:true,\r\n\t\t\t\t\t//css: \"flex_tmp item\",\r\n\t\t\t\t\ttype:{\r\n\t\t\t\t\t\twidth:\"auto\", \r\n\t\t\t\t\t\theight:104,\r\n\t\t\t\t\t\ttype:\"tiles\",\r\n\t\t\t\t\t\ttemplate:(obj,common) => {\r\n\t\t\t\t\t\t\treturn common.icon(obj)\r\n\t\t\t\t\t\t\t\t+ \"<div class='col-xs-8 details'>\"\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t+ \"<div class='text'>\" + obj.text + \"</div>\"\r\n\t\t\t\t\t\t\t\t+ common.total(obj)\r\n\t\t\t\t\t\t\t\t+\"</div>\"\r\n\t\t\t\t\t\t\t\t;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ticon:obj => {\r\n\t\t\t\t\t\t\tif (obj.icon)\r\n\t\t\t\t\t\t\t\treturn \"<div class='col-xs-4 webix_icon mdi mdi-\"+obj.icon+\" \"+obj.css+\"'></div>\";\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\treturn \"<span class='userpic'>\" + obj.text.charAt(0) + \"</span>\";\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttotal:obj => `<div class=\"value\">${obj.value}</div>`\r\n\t\t\t\t\t},\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t{\r\n\t\t\t\t\tview:\"richselect\",\r\n\t\t\t\t\tid:\"total-select\", \r\n\t\t\t\t\tlabel:\"Статистика по \", \r\n\t\t\t\t\tlabelWidth: 120,\r\n\t\t\t\t\tvalue:1, \r\n\t\t\t\t\tyCount:\"3\", \r\n\t\t\t\t\toptions:[ \r\n\t\t\t\t\t\t{id:1, value:\"Трекерам\"}, // the initially selected item\r\n\t\t\t\t\t\t{id:2, value:\"Тарифам\"}, \r\n\t\t\t\t\t\t{id:3, value:\"Владельцам\"}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ton: {\r\n\t\t\t\t\t\t\"onChange\": function(newv, oldv){\r\n\t\t\t\t\t\t\t$$(\"report-total-select\").clearAll();\r\n\t\t\t\t\t\t\t$$(\"report-total-select\").load(\"index.php?route=report/total/getTotalOfSelected&token=\"+token+\"&selected=\"+newv);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{ \r\n\t\t\t\t\tcols: [\r\n\t\t\t\t\t\t{\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tid:\"report-total-select\",\r\n\t\t\t\t\t\t\tview:\"datatable\",\r\n\t\t\t\t\t\t\theader:false,\r\n\t\t\t\t\t\t\t\"export\":true,\t\r\n\t\t\t\t\t\t\tcolumns:[\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{id:\"name\", minWidth:120, fillspace: 2},\t\t\r\n\t\t\t\t\t\t\t\t{id:\"total_objects\", minWidth:120, fillspace: 2},\t\t\r\n\t\t\t\t\t\t\t],\t\t\r\n\t\t\t\t\t\t\t\t//url:\"index.php?route=report/total/getLast&token=\"+token,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\tview: \"chart\",\r\n\t\t\t\t\t\t\tid: \"total-pie\",\r\n\t\t\t\t\t\t\ttype:\"pie3D\",\r\n\t\t\t\t\t\t\tvalue:\"#total_objects#\",\r\n\t\t\t\t\t\t\t//color:\"#color#\",\r\n\t\t\t\t\t\t\tlabel:\"#name#\",\r\n\t\t\t\t\t\t\t//pieInnerText:\"#sales#\",\r\n\t\t\t\t\t\t\tshadow:0,\r\n\t\t\t\t\t\t\t//data:month_dataset\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t]\r\n\t\t};\r\n\t}\r\n\tinit(view){\r\n\t\tconst dataview = this.$$(\"dataview\");\r\n\t\tconst selectind = this.$$(\"report-total-select\");\r\n\t\twebix.extend(view.queryView({ view:\"dataview\" }), webix.ProgressBar);\r\n\t\tdataview.load(\"index.php?route=report/total&token=\"+token);\t\r\n\t\tselectind.load(\"index.php?route=report/total/getTotalOfSelected&token=\"+token+\"&selected=1\");\r\n\t\t\r\n\t\tthis._winresize = webix.event(window, \"resize\", () => this.resizeDataview(this.minItemWidth));\r\n\r\n\t\tthis._tooltip = webix.ui({\r\n\t\t\tview:\"tooltip\",\r\n\t\t\ttemplate:\"#value#\"\r\n\t\t});\r\n\r\n\t\tdataview.attachEvent(\"onAfterRender\",() => this.relocaleTooltips());\r\n\t\tdataview.attachEvent(\"onAfterSelect\",() => this.relocaleTooltips());\r\n\t\t\r\n\t\t$$(\"total-pie\").data.sync(selectind, function(){ \r\n\t\t\tthis.filter(function(data) { \r\n\t\t\t\treturn data.total_objects > 20; \r\n\t\t\t}); \r\n\t\t});\r\n\t}\r\n\tresizeDataview(minItemWidth){\r\n\t\tconst elements = Math.floor(this.$$(\"dataview\").$width / minItemWidth);\r\n\t\tconst count = (elements > 3) ? 3 : ((elements == 0) ? 1 : elements);\r\n\t\tthis.$$(\"dataview\").define(\"xCount\", count);\r\n\t\tthis.$$(\"dataview\").adjust();\r\n\t\tthis.$$(\"dataview\").resize();\r\n\t}\r\n\trelocaleTooltips(){\r\n\t\tconst dataview = this.$$(\"dataview\");\r\n\t\tlet tasks = dataview.$view.querySelectorAll(\".tasks\");\r\n\t\tfor (let i = 0; i < tasks.length; i++){\r\n\t\t\twebix.event(tasks[i],\"mouseover\",(e) => {\r\n\t\t\t\tthis._tooltip.show({ value:\"Tasks completed\" }, webix.html.pos(e));\r\n\t\t\t});\r\n\t\t\twebix.event(tasks[i],\"mouseout\",() => this._tooltip.hide());\r\n\t\t}\r\n\t}\r\n\tdestroy(){\r\n\t\twebix.eventRemove(this._winresize);\r\n\t}\r\n}\r\n","import {JetView} \tfrom \"webix-jet\";\r\nimport outplugins \tfrom \"views/menus/export\";\r\nimport toolplug \tfrom \"views/menus/toolplug\";\r\nimport paging \t\tfrom \"views/modules/paging\";\r\nimport eyeFilter \tfrom \"views/modules/groupfilter\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport onlFilter \tfrom \"views/modules/onlinefilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\nimport eyeTemplate \tfrom \"views/templates/eye\";\r\nimport delTemplate \tfrom \"views/templates/deleted\";\r\nimport onlTemplate \tfrom \"views/templates/online\";\r\n\r\nexport default class ItemView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\r\n\t\t$$(\"suspicious-form\").bind($$(\"report-suspicious\"));\r\n\t\twebix.extend(view.queryView({ view:\"datatable\" }), webix.ProgressBar);\r\n\t\twebix.extend($$(\"report-suspicious\"), webix.ProgressBar);\r\n\t\t$$(\"report-suspicious\").showProgress({\r\n\t\t\ttype:\"top\",\r\n\t\t\tdelay:5500,\r\n\t\t\thide:true\r\n\t\t});\t\t\r\n\t}\t\r\n}\r\n\r\nconst grid = {\r\n\tid:\"report-suspicious\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\r\n\tclipboard:\"selection\",\t\r\n\tcheckboxRefresh:true,\r\n\tpager:\"pagerA\",\r\n\t\"export\":true,\t\r\n\tcolumns:[\r\n\t\t{id:\"item_id\", header:\"#\", sort:\"int\", width:60},\t\t\t\t\r\n\t\t{id:\"itemname\", header:[\"Название\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\t\t\r\n\t\t{id:\"ownername\", header:[\"Владелец\", {content:\"selectFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2},\t\t\r\n\t\t{id:\"wialon_groupname\", header:[\"Группа\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\t\t\r\n\t\t{id:\"date_last\", header:\"Дата\", sort:\"date\", minWidth:120, format:webix.Date.dateToStr(\"%d.%m.%Y\")},\r\n\t\t{id:\"online\", header:\"Состояние\", sort:\"int\", minWidth:120, css:{ \"text-align\":\"center\"},template:onlTemplate},\r\n\t\t{id:\"total\", header:\"Дней\", sort:\"int\", minWidth:30},\t\t\r\n\t\t{id:\"edit\", header:\"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\", width:35,\r\n\t\t\ttemplate:\"<span  style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n\t\t},\t\t\r\n\t],\t\r\n\tscheme:{\r\n\t\t$init:function(obj){\t\t\t\r\n            if (obj.deleted == 1 ) \t\t\t\t\r\n\t\t\t\tobj.$css = \"deleted\";  \r\n\t\t\t\r\n        }\r\n\t},\r\n\turl:\"index.php?route=report/suspicious&token=\"+token,\t\r\n\tonClick:{\t\t\r\n\t\t\"mdi-pencil\":function(e,id){\r\n\t\t\tthis.select(id);\t\r\n\t\t\t$$('history-suspicious').clearAll();\t\t\t\r\n\t\t\t$$('history-suspicious').load(\"index.php?route=catalog/item/getItemHistory&token=\"+token+\"&item_id=\"+this.getItem(id).item_id);\t\t\t\r\n\t\t\t$$('paging').hide();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('suspicious-form').show();\t\t\t\r\n\t\t}\r\n\t},\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nvar xml_format = webix.Date.strToDate(\"%Y-%m-%d\");\r\n\r\nconst history_grid = {\r\n\tid:\"history-suspicious\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\t\r\n\t\r\n\tcolumns:[\r\n\t\t{id:\"item_history_id\", header:\"#\", sort:\"int\", minWidth:120},\r\n\t\t{map:\"(date)#date_changed#\", header:\"Дата\", sort:\"date\", minWidth:120, format:webix.Date.dateToStr(\"%d.%m.%Y\")},\r\n\t\t{id:\"deleted\", header:\" \", sort:\"int\", width:40, css:{ \"text-align\":\"center\"}, template:delTemplate},\t\t\t\t\r\n\t\t{id:\"tracker_uid\", header:[\"Трекер UID\", {content:\"selectFilter\"} ], sort:\"int\", minWidth:120, fillspace: 1},\r\n\t\t{id:\"trackername\", header:[\"Трекер\", {content:\"selectFilter\"} ], sort:\"int\", minWidth:120, fillspace: 1},\r\n\t\t{id:\"sim1\", header:[\"SIM-1\", {content:\"selectFilter\"} ], sort:\"int\", minWidth:120, fillspace: 1},\r\n\t\t{id:\"sim2\", header:[\"SIM-2\", {content:\"selectFilter\"} ], sort:\"int\", minWidth:120, fillspace: 1},\t\t\t\t\t\t\r\n\t\t{id:\"wialon_group_off\", header:[\"Вид\", {content:\"eyeFilter\", css:\"webix_ss_filter\"}], sort:\"int\", minWidth:80, css:{ \"text-align\":\"center\"},template:eyeTemplate},\r\n\t\t{id:\"online\", header:[\"Состояние\", {content:\"onlFilter\", css:\"webix_ss_filter\"}], sort:\"int\", minWidth:120, css:{ \"text-align\":\"center\"},template:onlTemplate},\t\t\t\r\n\t],\r\n\tscheme:{\r\n\t\t$init:function(obj){            \r\n\t\t\tobj.date_changed = xml_format(obj.start);\t\t\t\r\n        }\r\n\t},\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t\tthis.sort({by: \"date_changed\", dir: \"desc\"});\r\n\t}\r\n};\r\n\r\n\r\nconst iform = {\r\n\tview:\"form\",\r\n\tid:\"suspicious-form\",\r\n\tmultiview:{ keepViews:true },\t\r\n\telements:[\t\t\t\r\n\t\t{ cols: [\r\n\t\t\t{ view:\"text\", id:\"item_id\", name:\"item_id\", label:\"ID объекта\", labelWidth:140, readonly:true },\t\t\t\r\n\t\t\t{ view:\"text\", name:\"itemname\", label:\"Название\", labelWidth:140, labelAlign: \"right\", readonly:true },\r\n\t\t  ]\r\n\t\t},\r\n\t\t{ cols: [\r\n\t\t\t{ view:\"text\", name:\"ownername\",  label:\"Владелец\", labelWidth:140, readonly:true },\r\n\t\t\t{ view:\"text\", name:\"wialon_groupname\", label:\"Группа\", labelWidth:140, labelAlign: \"right\", readonly:true },\t\t\t\r\n\t\t  ]\r\n\t\t},\r\n\t\thistory_grid,\t\r\n        { \r\n\t\t\tmargin:10,\r\n\t\t\tcols:[\r\n\t\t\t\t{},\r\n\t\t\t\t{ view:\"button\", value:\"Назад\", width:120, click:function(){\t\t\t\t\t\t\r\n\t\t\t\t\t$$(\"suspicious-views\").back();\r\n\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t}},\t\t\t\t\r\n\t\t\t]\r\n\t\t},\r\n\t]\r\n};\r\n  \r\n\r\nconst item_views = {\r\n\tview:\"multiview\", \r\n    id:\"suspicious-views\",\r\n    cells:[\tgrid, iform,]\r\n}\r\n\r\nconst layout = {\r\n\tid:\"layout\",\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, id:\"edit-tools\", cols: outplugins },\r\n\t\t{ height:40, id:\"edit-form-icon\", cols: toolplug, hidden:true },\r\n\t\t{ rows:[ item_views, paging ] }\r\n\t]\r\n};\r\n ","import {JetView} from \"webix-jet\";\r\nimport outplugins from \"views/menus/export\";\r\nimport toolbar from \"views/menus/toolbar\";\r\nimport toolplug from \"views/menus/toolplug\";\r\nimport paging from \"views/modules/paging\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\n\r\nexport default class serverView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\r\n\t\t$$('server-form').bind($$('setting-server'));\t\r\n\t\twebix.dp.$$(\"setting-server\").config.updateFromResponse = true;\t\r\n\t}\t\r\n}\r\n\t\r\nconst grid = {\r\n\tid:\"setting-server\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\r\n\tclipboard:\"selection\",\t\r\n\tmultiselect:true, \r\n\teditable:true, \r\n\teditaction:\"dblclick\",\r\n\tcheckboxRefresh:true,\r\n\tcolumns:[\r\n\t\t{id:\"server_id\", header:\"#\", sort:\"int\", width:50},\t\t\r\n\t\t{id:\"servername\", header:[\"Название\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\r\n\t\t{id:\"link\", header:[\"Домен\", {content:\"textFilter\"} ], sort:\"int\", minWidth:80, fillspace: 2, editor:\"text\",},\t\t\r\n\t\t{id:\"soft\", header:[\"Софт\"], sort:\"int\", minWidth:120, fillspace: 2},\r\n\t\t{id:\"sort_order\", header:{text:\"Порядок сортировки\", height:60, css:\"multiline\"}, sort:\"int\", minWidth:80, fillspace: 1, editor:\"text\",},\t\r\n\t\t{id:\"status\", header:[\"Статус\", {content:\"staFilter\", css:\"webix_ss_filter\"}], sort:\"int\", minWidth:100, fillspace:2,editor:\"inline-checkbox\", template:staTemplate},\t\t\r\n\t\t{id:\"edit\", header:\"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\", width:35, \r\n\t\t\ttemplate:\"<span style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n\t\t},\r\n\t],\r\n\tpager:\"pagerA\",\r\n\t\"export\":true,\r\n\turl:\"index.php?route=setting/server/getList&token=\"+token,\r\n\tsave:{\r\n\t\t\t\"insert\":\"index.php?route=setting/server/add&token=\"+token,\r\n\t\t\t\"update\":\"index.php?route=setting/server/edit&token=\"+token,\r\n\t\t\t\"delete\":\"index.php?route=setting/server/delete&token=\"+token\r\n\t},\r\n\tonClick:{\t\t\r\n\t\t\"mdi-pencil\":function(e,id){\t\r\n\t\t\tthis.select(id);\t\r\n\t\t\t$$('server-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\t\t\t\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\r\n\ton:{\t\t\r\n\t\t\"onAfterAdd\":function(obj, index){\t\r\n\t\t\tvar lastid = this.getLastId();\r\n\t\t\tthis.select(lastid);\t\t\t\r\n\t\t\t$$('server-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\t\t\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nconst ui = {\r\n\tview:\"form\",\r\n\tid:\"server-form\",\r\n\tmultiview:{ keepViews:true },\r\n\tdataFeed: function (id) {\r\n\t\t\t\tlet current_server_id = $$('setting-server').getItem(id).server_id;\t\t\t\t\r\n\t\t\t\tthis.load(\"index.php?route=setting/server/getForm&token=\"+token+\"&server_id=\"+current_server_id);\t\t\t\t\r\n\t\t\t  },\t\r\n\telements:[\r\n\t\r\n\t\t\t{ view:\"text\", id:\"server_id\", name:\"server_id\", label:\"ID сервера\", labelWidth:170, readonly:true },\t\t\t\r\n\t\t\t{ view:\"text\", name:\"servername\", label:\"Название\", placeholder:\"Введите название\", labelWidth:170, required:true, invalidMessage:\"название должно быть от 3 до 32 знаков\" },\r\n\t\t\t{ view:\"text\", name:\"link\", label:\"Домен\", placeholder:\"Адрес домена\", labelWidth:170, required:true, invalidMessage:\"значение поля не должно быть пустым\"},\r\n\t\t\t{ view:\"text\", name:\"ip\", label:\"IP адрес\", placeholder:\"Введите ip адрес\", labelWidth:170, },\r\n\t\t\t{ view:\"select\", name:\"soft\", label:\"Программное обеспечение\", labelWidth:170, options:[\"Wialon Pro\",\"Wialon Local\"]},\r\n\t\t\t{ view:\"text\", name:\"login\", label:\"Логин\", placeholder:\"Введите логин для сервера\", labelWidth:170, },\r\n\t\t\t{ view:\"text\", name:\"total\", label:\"Емкость\", labelWidth:170, },\r\n\t\t\t{ view:\"text\", name:\"password\", label:\"Пароль/токен\", placeholder:\"Введите пароль для сервера\", labelWidth:170, },\t\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", name:\"sort_order\", label:\"Порядок сортировки\",  labelWidth:170 },\r\n\t\t\t\t{ view:\"select\", name:\"status\", label:\"Статус\", labelWidth:170, labelAlign: \"right\", options:[{id:0, value:\"Отключено\"}, {id:1, value:\"Включено\"}], },\r\n\t\t\t]},\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\t\t\t\t\t\t\r\n\t\t\t\t\t\t$$(\"server-views\").back();\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\tlet form = $$(\"server-form\");\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(!form.validate()) \r\n\t\t\t\t\t\t\treturn false;\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twebix.ajax().post(\"index.php?route=setting/server/validateForm&token=\"+token, $$(\"server-form\").getValues(), function(text, data, XmlHttpRequest){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (text && text!=\"[]\") {\r\n\t\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\t\ttext:JSON.parse(text).warning,\r\n\t\t\t\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}); //show server side response\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tform.save();\r\n\t\t\t\t\t\t\t\t$$(\"server-views\").back();\r\n\t\t\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t],\r\n\trules:{\r\n          \"servername\": function(value){ return value.length >= 3 && value.length <= 32},\t\t  \r\n\t\t  \"link\": webix.rules.isNotEmpty,\t\r\n    }\r\n};\r\n  \r\nconst server_views = {\r\n\tview:\"multiview\", \r\n    id:\"server-views\",\r\n    cells:[\tgrid, ui,]\r\n}\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, id:\"edit-tools\", cols: outplugins.concat(toolbar) },\r\n\t\t{ height:40, id:\"edit-form-icon\", cols: toolplug, hidden:true },\r\n\t\t{ rows:[ server_views, paging ] }\r\n\t]\r\n};\r\n ","import {JetView} from \"webix-jet\";\r\n\r\nexport default class settingView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\r\n\t\tview.queryView({ view:\"form\" }).load(\"index.php?route=setting/setting&token=\"+token);\t\r\n\t}\t\r\n}\r\n\r\nvar position_options = [\r\n  {id:1, value:\"left\"},\r\n  {id:2, value:\"right\"},\r\n  {id:3, value:\"top\"},\r\n  {id:4, value:\"bottom\"}\r\n];\r\n\t\r\nconst propertysheet = {\r\n\tview:\"form\",\r\n\tid:\"settings\",\r\n\t//width: 500,\r\n\t//position:\"center\",\r\n\tcomplexData:true,\r\n\tmultiview:{ keepViews:true },\r\n\tdataFeed: function (id) {\t\t\t\t\t\r\n\t\tthis.load(\"index.php?route=setting/setting&token=\"+token);\t\t\r\n\t},\t\r\n    elements:[\r\n\t\t{\r\n\t\t\tview:\"tabview\",\r\n\t\t\ttabbar:{ options:[\"Общие\",\"Заявки\"]}, animate:false,\r\n\t\t\tcells:[\r\n\t\t\t\t{ id:\"Общие\", rows:[\r\n\t\t\t\t\t{ template:\"Локализация\", type:\"section\"},\r\n\t\t\t\t\t{ view:\"select\", name:\"config_admin_language\", label:\"Язык\", labelWidth:140, options:\"index.php?route=setting/setting/getLanguages&token=\"+token,},       \r\n\t\t\t\t\t{ template:\"Исторический период\", type:\"section\" },\r\n\t\t\t\t\t{ label:\"Период (мес)\", labelWidth:180, view:\"text\", name:\"config_history_period\"},\r\n\t\t\t\t\t{ label:\"Дата начала истории\", labelWidth:180, view:\"datepicker\", name:\"config_history_date_start\", format:\"%d.%m.%Y\"},\t\t\r\n\t\t\t\t\t{ label:\"Считать автоматически\", labelWidth:180, view:\"checkbox\", name:\"config_history_autoperiod\"},\r\n\t\t\t\t\t{ template:\"Статистика\", type:\"section\" },\r\n\t\t\t\t\t{ label:\"Подозрительность (дней)\", labelWidth:230, view:\"text\", name:\"config_suspicious_range\"},\r\n\t\t\t\t\t{ label:\"Дата отсчета подозрительности\", labelWidth:230, view:\"datepicker\", name:\"config_suspicious_date\", placeholder:\"Установите если не от текущей даты\", format:\"%d.%m.%Y\"},\t\t\t\t\t\r\n\t\t\t\t\t{ template:\"Дизайн\", type:\"section\" },\r\n\t\t\t\t\t{ label:\"Тема\", labelWidth:140, view:\"richselect\", options:position_options, name:\"config_theme\"},\t\r\n\t\t\t\t]},\r\n\t\t\t\t{ id:\"Заявки\", rows:[\r\n\t\t\t\t\t{ template:\"Статусы\", type:\"section\" },\r\n\t\t\t\t\t{ view:\"select\", name:\"config_order_status_id\", label:\"Статус заявки по умолчанию\", labelWidth:220, options:\"index.php?route=setting/setting/getOrderStatuses&token=\"+token,},\r\n\t\t\t\t\t{ view:\"select\", name:\"config_processing_status\", label:\"Статус выполняемой заявки\", labelWidth:220, options:\"index.php?route=setting/setting/getOrderStatuses&token=\"+token,},\r\n\t\t\t\t\t{ view:\"select\", name:\"config_complete_status\", label:\"Статус завершенной заявки\", labelWidth:220, options:\"index.php?route=setting/setting/getOrderStatuses&token=\"+token,},\r\n\t\t\t\t\t{ view:\"select\", name:\"config_unsuccess_status\", label:\"Статус невыполненной заявки\", labelWidth:220, options:\"index.php?route=setting/setting/getOrderStatuses&token=\"+token,},\r\n\t\t\t\t]},\r\n\t\t\t]\r\n        },\r\n\t\t{ margin:10, \r\n\t\t\tcols:[\r\n\t\t\t{},\r\n\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t//let sform = $$(\"item-form\");\r\n\t\t\t\tlet sform = this.getFormView();\r\n\t\t\t\tif(sform.isDirty()){\t\r\n\t\t\t\t\tif(!sform.validate()) \r\n\t\t\t\t\t\treturn false;\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\twebix.ajax().post(\"index.php?route=setting/setting/validate&token=\"+token, sform.getValues(), function(errtext, data, XmlHttpRequest){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (errtext && errtext!=\"[]\") {\r\n\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\ttext:JSON.parse(errtext).warning,\r\n\t\t\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}); //show server side response\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t} else {\t\t\r\n\t\t\t\t\t\t\twebix.ajax().post(\"index.php?route=setting/setting/edit&token=\"+token, sform.getValues());\t\r\n\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\ttext:\"Настройки сохранены.\",\r\n\t\t\t\t\t\t\t\ttype:\"success\", \r\n\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}); \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t}\t\t\t\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n    ]\r\n};\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\tpropertysheet,\t\t\r\n    ]\r\n};\r\n ","import {JetView} \tfrom \"webix-jet\";\r\nimport outplugins from \"views/menus/export\";\r\nimport toolbar from \"views/menus/toolbar\";\r\nimport toolplug from \"views/menus/toolplug\";\r\nimport paging from \"views/modules/paging\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\n\r\nexport default class TarifView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\r\n\t\t$$('tarif-form').bind($$('billing-tarif'));\t\r\n\t\twebix.dp.$$(\"billing-tarif\").config.updateFromResponse = true;\t\r\n\t}\t\r\n}\r\n\t\r\nconst grid = {\r\n\tid:\"billing-tarif\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\r\n\tclipboard:\"selection\",\t\r\n\tmultiselect:true, \r\n\teditable:true, \r\n\teditaction:\"dblclick\",\r\n\tcheckboxRefresh:true,\r\n\tcolumns:[\r\n\t\t{id:\"tarif_id\", header:\"#\", sort:\"int\", width:50},\t\t\r\n\t\t{id:\"tarifname\", header:[\"Название\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\r\n\t\t{id:\"price\", header:[\"Ставка\", {content:\"textFilter\"} ], sort:\"int\", minWidth:80, fillspace: 1, editor:\"text\",},\r\n\t\t{id:\"sort_order\", header:{text:\"Порядок сортировки\", height:60, css:\"multiline\"}, sort:\"int\", minWidth:80, fillspace: 1, editor:\"text\",},\r\n\t\t{id:\"roaming\", header:[\"Роуминг\"], sort:\"int\", minWidth:120, fillspace: 1, template:\"{common.checkbox()}\"},\r\n\t\t{id:\"gprs\", header:[\"Трафик\"], sort:\"int\", minWidth:120, fillspace: 1, template:\"{common.checkbox()}\"},\r\n\t\t{id:\"status\", header:[\"Статус\", {content:\"staFilter\", css:\"webix_ss_filter\"}], sort:\"int\", minWidth:100, fillspace:2,editor:\"inline-checkbox\", template:staTemplate},\t\t\r\n\t\t{id:\"edit\", header:\"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\", width:35, \r\n\t\t\ttemplate:\"<span style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n\t\t},\r\n\t],\r\n\tpager:\"pagerA\",\r\n\t\"export\":true,\r\n\turl:\t\"index.php?route=billing/tarif/getList&token=\"+token,\r\n\tsave:{\r\n\t\t\t\"insert\":\"index.php?route=billing/tarif/add&token=\"+token,\r\n\t\t\t\"update\":\"index.php?route=billing/tarif/edit&token=\"+token,\r\n\t\t\t\"delete\":\"index.php?route=billing/tarif/delete&token=\"+token\r\n\t},\r\n\tonClick:{\t\t\r\n\t\t\"mdi-pencil\":function(e,id){\t\r\n\t\t\tthis.select(id);\t\r\n\t\t\t$$('tarif-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\t\t\t\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\r\n\ton:{\t\t\t\r\n\t\t\"onAfterAdd\":function(obj, index){\t\r\n\t\t\tvar lastid = this.getLastId();\r\n\t\t\tthis.select(lastid);\t\t\t\r\n\t\t\t$$('tarif-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\t\t\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nconst ui = {\r\n\tview:\"form\",\r\n\tid:\"tarif-form\",\r\n\tmultiview:{ keepViews:true },\r\n\tdataFeed: function (id) {\r\n\t\t\t\tlet current_tarif_id = $$('billing-tarif').getItem(id).tarif_id;\t\t\t\t\r\n\t\t\t\tthis.load(\"index.php?route=billing/tarif/getForm&token=\"+token+\"&tarif_id=\"+current_tarif_id);\t\t\t\t\r\n\t\t\t  },\t\r\n\telements:[\r\n\t\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", id:\"tarif_id\", name:\"tarif_id\", label:\"ID тарифа\", labelWidth:170, readonly:true },\r\n\t\t\t\t{ view:\"text\", id:\"date_added\", name:\"date_added\", label:\"Введен\", labelWidth:150, labelAlign: \"right\", readonly:true },\r\n\t\t\t\t{ view:\"text\", id:\"date_modified\", name:\"date_modified\", label:\"Изменен\", labelWidth:150, labelAlign: \"right\", readonly:true },\r\n\t\t\t]},\r\n\t\t\t{ view:\"text\", name:\"tarifname\", label:\"Название\", placeholder:\"Введите название\", labelWidth:170, required:true, invalidMessage:\"название должно быть от 3 до 32 знаков\" },\r\n\t\t\t{ view:\"text\", name:\"price\", label:\"Ставка\", placeholder:\"Установите расчетную ставку\", labelWidth:170, required:true, invalidMessage:\"значение поля должно быть числом\"},\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"checkbox\", name:\"roaming\", label:\"Включая роуминг\",  labelWidth:170 },\r\n\t\t\t\t{ view:\"checkbox\", name:\"gprs\", label:\"Включая GPRS-трафик\", labelWidth:170, labelAlign: \"right\", },\r\n\t\t\t]},\r\n\t\t\t{ view: \"textarea\", name: \"description\", label: \"Дополнительные сведения\", labelWidth:170, gravity:1,maxHeight:150},\t\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", name:\"sort_order\", label:\"Порядок сортировки\",  labelWidth:170 },\r\n\t\t\t\t{ view:\"select\", name:\"status\", label:\"Статус\", labelWidth:170, labelAlign: \"right\", options:[{id:0, value:\"Отключено\"}, {id:1, value:\"Включено\"}], },\r\n\t\t\t]},\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\t\t\t\t\t\t\r\n\t\t\t\t\t\t$$(\"tarif-views\").back();\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\tlet form = $$(\"tarif-form\");\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(!form.validate()) \r\n\t\t\t\t\t\t\treturn false;\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twebix.ajax().post(\"index.php?route=billing/tarif/validateForm&token=\"+token, $$(\"tarif-form\").getValues(), function(text, data, XmlHttpRequest){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (text && text!=\"[]\") {\r\n\t\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\t\ttext:JSON.parse(text).warning,\r\n\t\t\t\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}); //show server side response\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tform.save();\r\n\t\t\t\t\t\t\t\t$$(\"tarif-views\").back();\r\n\t\t\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t],\r\n\trules:{\r\n          \"tarifname\": function(value){ return value.length >= 3 && value.length <= 32},\t\t  \r\n\t\t  \"price\": webix.rules.isNumber ,\t\r\n    }\r\n};\r\n  \r\nconst tarif_views = {\r\n\tview:\"multiview\", \r\n    id:\"tarif-views\",\r\n    cells:[\tgrid, ui,]\r\n}\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, id:\"edit-tools\", cols: outplugins.concat(toolbar) },\r\n\t\t{ height:40, id:\"edit-form-icon\", cols: toolplug, hidden:true },\r\n\t\t{ rows:[ tarif_views, paging ] }\r\n\t]\r\n};\r\n ","export default function(obj, common, value){\t\t\t\t\r\n\tif (value !=0)\r\n\t\treturn \"<span class='webix_icon mdi mdi-window-close deleted'></span>\";\r\n\telse\r\n\t\treturn \"\";\r\n}","export default function(obj, common, value){\t\t\t\t\r\n\tif (value == 1) \t\t\t\r\n\t\treturn \"<span class='webix_icon mdi mdi-eye-off wialon-group-off'></span>\";\r\n\telse\r\n\t\treturn \"<span class='webix_icon mdi mdi-eye wialon-group-on'></span>\";\r\n} ","export default function(obj, common, value){\t\t\t\t\r\n\tif (value == \"1\") \t\t\t\r\n\t\treturn \"<span class='tracker-online'> Online </span>\";\r\n\telse \r\n\t\treturn \"<span class='tracker-offline'> Offline </span>\";\t\r\n}\t","/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\nexport default function(obj, common, value){\n\tif (value == 'closed')\n\t\treturn \"<span class='webix_table_checkbox order-status order-closed'> Закрыта </span>\";\n\telse\n\t\treturn \"<span class='webix_table_checkbox order-status order-open'> Открыта </span>\";\n}\n\n","export default function(obj, common, value){\t\t\t\t\r\n\tif (value !=0)\r\n\t\treturn \"<span class='webix_table_checkbox status status1'> Включено </span>\";\r\n\telse\r\n\t\treturn \"<span class='webix_table_checkbox status status0'> Отключено </span>\";\r\n}","import { JetView } from \"webix-jet\";\r\n\r\nfunction test(arg) {\r\n    console.log('test for VS Code');\r\n    console.log(arg);\r\n}","import {JetView} from \"webix-jet\";\r\nimport outplugins from \"views/menus/export\";\r\nimport toolbar from \"views/menus/toolbar\";\r\nimport toolplug from \"views/menus/toolplug\";\r\nimport paging from \"views/modules/paging\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\n\r\nexport default class trackerView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\r\n\t\t$$('tracker-form').bind($$('catalog-tracker'));\t\r\n\t\twebix.dp.$$(\"catalog-tracker\").config.updateFromResponse = true; \t\r\n\t}\t\r\n}\r\n\t\r\nconst grid = {\r\n\tid:\"catalog-tracker\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\r\n\tclipboard:\"selection\",\t\r\n\tmultiselect:true, \r\n\teditable:true, \r\n\teditaction:\"dblclick\",\r\n\tcheckboxRefresh:true,\r\n\tcolumns:[\r\n\t\t{id:\"tracker_id\", header:\"#\", sort:\"int\", width:50},\t\t\r\n\t\t{id:\"trackername\", header:[\"Модель\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\t\t\r\n\t\t{id:\"sort_order\", header:{text:\"Порядок сортировки\", height:60, css:\"multiline\"}, sort:\"int\", minWidth:80, fillspace: 1, editor:\"text\",},\t\r\n\t\t{id:\"status\", header:[\"Статус\", {content:\"staFilter\", css:\"webix_ss_filter\"}], sort:\"int\", minWidth:100, fillspace:2,editor:\"inline-checkbox\", template:staTemplate},\t\t\r\n\t\t{id:\"edit\", header:\"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\", width:35, \r\n\t\t\ttemplate:\"<span style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n\t\t},\r\n\t],\r\n\tpager:\"pagerA\",\r\n\t\"export\":true,\r\n\turl:\"index.php?route=catalog/tracker/getList&token=\"+token,\t\r\n\tsave:{\r\n\t\t\t\"insert\":\"index.php?route=catalog/tracker/add&token=\"+token,\r\n\t\t\t\"update\":\"index.php?route=catalog/tracker/edit&token=\"+token,\r\n\t\t\t\"delete\":\"index.php?route=catalog/tracker/delete&token=\"+token\r\n\t},\r\n\tonClick:{\t\t\r\n\t\t\"mdi-pencil\":function(e,id){\r\n\t\t\tthis.select(id);\t\r\n\t\t\t$$('hw').clearAll();\t\t\t\r\n\t\t\t$$('hw').load(\"index.php?route=catalog/tracker/getHw&token=\"+token+\"&tracker_id=\"+this.getItem(id).tracker_id);\r\n\t\t\t//$$('tracker-form').setValues({hw:new webix.DataCollection({url:\"index.php?route=catalog/tracker/getHw&token=\"+token+\"&tracker_id=\"+this.getItem(id).tracker_id})});\t\t\t\r\n\t\t\t$$('tracker-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\t\t\t\r\n\t\t\t$$('paging').hide();\t\r\n\t\t}\r\n\t},\r\n\ton:{\t\t\r\n\t\t\"onAfterAdd\":function(obj, index){\t\r\n\t\t\tvar lastid = this.getLastId();\r\n\t\t\tthis.select(lastid);\t\t\t\r\n\t\t\t$$('tracker-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\t\t\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nwebix.protoUI({\r\n\tname:\"formtable\",\r\n\tsetValue:function(value){ \r\n      this.clearAll(); \r\n      this.parse(value)\r\n    },\r\n\tgetValue:function(){ return this.serialize(); }\r\n}, webix.ui.datatable);\r\n\r\nvar grid_hw = { view:\"formtable\", name:\"hw\", id:\"hw\",\r\n\tcolumns:[\r\n\t\t{ id:\"server_id\", header:\"#\", sort:\"int\", width:40,},\r\n\t\t{ id:\"servername\", header:\"Сервер\", sort:\"int\", minWidth:120, fillspace:true, }, //editor:\"select\", options:\"index.php?route=catalog/tracker/getServers&token=\"+token },\r\n\t\t{ id:\"tracker_hw\", header:[\"Трекер HW\" ], sort:\"int\", minWidth:120, fillspace: 2, editor:\"text\"},\t\t\t\t\t\r\n\t],\t\r\n\tscroll:\"xy\",\r\n\tselect:\"row\",\r\n\tmaxHeight:400,\t\r\n\teditable:true,\r\n\ttype:{template:\"{common.space()}\"},\r\n}\r\n\r\nconst ui = {\r\n\tview:\"form\",\r\n\tid:\"tracker-form\",\r\n\tmultiview:{ keepViews:true },\r\n\tdataFeed: function (id) {\r\n\t\t\t\tlet current_tracker_id = $$('catalog-tracker').getItem(id).tracker_id;\t\t\t\t\r\n\t\t\t\tthis.load(\"index.php?route=catalog/tracker/getForm&token=\"+token+\"&tracker_id=\"+current_tracker_id);\t\t\t\t\r\n\t\t\t  },\t\r\n\telements:[\r\n\t\r\n\t\t\t{ view:\"text\", id:\"tracker_id\", name:\"tracker_id\", label:\"ID трекера\", labelWidth:170, readonly:true },\t\t\t\r\n\t\t\t{ view:\"text\", name:\"trackername\", label:\"Модель\", placeholder:\"Введите название\", labelWidth:170, required:true, invalidMessage:\"название должно быть от 3 до 32 знаков\" },\r\n\t\t\t\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", name:\"sort_order\", label:\"Порядок сортировки\",  labelWidth:170 },\r\n\t\t\t\t{ view:\"select\", name:\"status\", label:\"Статус\", labelWidth:170, labelAlign: \"right\", options:[{id:0, value:\"Отключено\"}, {id:1, value:\"Включено\"}], },\r\n\t\t\t]},\r\n\t\t\t{ view:\"forminput\", label:\"Соответствие HW\", labelWidth:170, body:grid_hw },\t\t\t\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\t\t\t\t\t\t\r\n\t\t\t\t\t\t$$(\"tracker-views\").back();\t\t\t\t\t\t\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\tlet form = $$(\"tracker-form\");\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(!form.validate()) \r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t$$(\"hw\").editStop();\r\n\t\t\t\t\t\tlet request_post = form.getValues();\r\n\t\t\t\t\t\t//request_post.hw = $$(\"grid_hw\").serialize();\t\t\t\r\n\t\t\t\t\t\twebix.ajax().post(\"index.php?route=catalog/tracker/validateForm&token=\"+token, request_post, function(text, data, XmlHttpRequest){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (text && text!=\"[]\") {\r\n\t\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\t\ttext:JSON.parse(text).warning,\r\n\t\t\t\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}); //show server side response\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tform.save(request_post);\r\n\t\t\t\t\t\t\t\t$$(\"tracker-views\").back();\r\n\t\t\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t],\r\n\trules:{\r\n          \"trackername\": function(value){ return value.length >= 3 && value.length <= 32},\t\t  \t\r\n    }\r\n};\r\n  \r\n\r\nconst tracker_views = {\r\n\tview:\"multiview\", \r\n    id:\"tracker-views\",\r\n    cells:[\tgrid, ui,]\r\n}\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, id:\"edit-tools\", cols: outplugins.concat(toolbar) },\r\n\t\t{ height:40, id:\"edit-form-icon\", cols: toolplug, hidden:true },\r\n\t\t{ rows:[ tracker_views, paging ] }\r\n\t]\r\n};\r\n ","import visitors \tfrom \"views/modules/visitors\";\r\nimport orders \t\tfrom \"views/modules/orderschart\";\r\nimport chart_diff \tfrom \"views/modules/chart_diff\";\r\nimport revenue \t\tfrom \"views/modules/revenue\";\r\nimport tasks\t \tfrom \"views/modules/taskschart\";\r\nimport diffchart \tfrom \"views/modules/diffchart\";\r\n\r\nconst layout = {\r\n\ttype: \"clean\",\r\n\trows:[\r\n\t\t{\r\n\t\t\ttype: \"space\",\r\n\t\t\trows:[\r\n\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"wide\",\r\n\t\t\t\t\tminHeight: 250,\r\n\t\t\t\t\tcols: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tgravity: 4,\r\n\t\t\t\t\t\t\ttype: \"clean\",\r\n\t\t\t\t\t\t\trows:[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"template\": \"<span class='webix_icon fa-area-chart'></span>Different charts in one\", \"css\": \"sub_title\", \"height\": 30\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tchart_diff\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdiffchart\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\ttype: \"wide\",\r\n\t\t\t\t\tcols: [\r\n\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\ttype: \"clean\",\r\n\t\t\t\t\t\t\trows:[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"template\": \"<span class='webix_icon fa-line-chart'></span>Sales\", \"css\": \"sub_title\", \"height\": 30\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\trevenue\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"type\": \"clean\",\r\n\t\t\t\t\t\t\t\"rows\":[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\"template\": \"<span class='webix_icon fa-tasks'></span>Tasks\", \"css\": \"sub_title\", \"height\": 30\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\ttasks,\r\n\t\t\t\t\t\t\t\t{template: \" \"}\r\n\t\t\t\t\t\t\t]\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\theight: 220,\r\n\t\t\t\t\ttype: \"wide\",\r\n\t\t\t\t\tcols: [\r\n\r\n\t\t\t\t\t\torders,\r\n\t\t\t\t\t\tvisitors\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\r\n\t\t}\r\n\t]\r\n};\r\n\r\nexport default layout;","import {JetView} from \"webix-jet\";\r\nimport outplugins from \"views/menus/export\";\r\nimport toolbar from \"views/menus/toolbar\";\r\nimport toolplug from \"views/menus/toolplug\";\r\nimport paging from \"views/modules/paging\";\r\n\r\nexport default class UserGroupView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\t\t\t\t\r\n\t\t$$('user-group-form').bind($$('user-user_permission'));\t\r\n\t\twebix.dp.$$(\"user-user_permission\").config.updateFromResponse = true;\t\r\n\t}\t\r\n}\r\n\r\nconst grid = {\r\n\tid:\"user-user_permission\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\r\n\tclipboard:\"selection\",\t\r\n\tmultiselect:true, \r\n\teditable:true, \r\n\teditaction:\"dblclick\",\r\n\tcolumns:[\r\n\t\t{id:\"user_group_id\", header:\"#\", sort:\"int\", width:50},\t\t\r\n\t\t{id:\"name\", header:[\"Название группы\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\r\n\t\t{id:\"edit\", header:\"&nbsp;\", width:35, template:\"<span  style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"},\r\n\t],\r\n\tpager:\"pagerA\",\r\n\t\"export\":true,\r\n\turl:\"index.php?route=user/user_permission/getList&token=\"+token,\r\n\tsave:{\r\n\t\t\t\"insert\":\"index.php?route=user/user_permission/add&token=\"+token,\r\n\t\t\t\"update\":\"index.php?route=user/user_permission/edit&token=\"+token,\r\n\t\t\t\"delete\":\"index.php?route=user/user_permission/delete&token=\"+token\r\n\t},\r\n\tonClick:{\t\t\r\n\t\t\"mdi-pencil\":function(e,id){\t\r\n\t\t\tthis.select(id);\r\n\t\t\t$$('grida').clearAll();\t\t\t\r\n\t\t\t$$('grida').load(\"index.php?route=user/user_permission/getPermissions&token=\"+token+\"&user_group_id=\"+this.getItem(id).user_group_id);\t\r\n\t\t\t$$('user-group-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\t\t\t\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\r\n\ton:{\t\t\r\n\t\t\"onAfterAdd\":function(obj, index){\t\r\n\t\t\tvar lastid = this.getLastId();\r\n\t\t\tthis.select(lastid);\t\t\t\r\n\t\t\t$$('user-group-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nconst ui = {\r\n\tview:\"form\",\r\n\tid:\"user-group-form\",\r\n\tdataFeed: function (id) {\r\n\t\t\t\tlet current_group_id = $$('user-user_permission').getItem(id).user_group_id;\r\n\t\t\t\tthis.load(\"index.php?route=user/user_permission/getForm&token=\"+token+\"&user_group_id=\"+current_group_id);\r\n\t\t\t  },\t\r\n\telements:[\r\n\t\t\t{ view:\"text\", id:\"user_group_id\", name:\"user_group_id\", label:\"ID группы\", labelWidth:170, readonly:true },\r\n\t\t\t{ view:\"text\", name:\"name\", label:\"Название группы\", placeholder:\"Введите название\", labelWidth:170, required:true, invalidMessage:\"поле не может быть пустым\" },\t\t\t\r\n\t\t\t{ view:\"datatable\", name:\"grida\", id:\"grida\",\r\n\t\t\t\tcolumns:[\r\n\t\t\t\t\t{ id:\"permission\", header:\"Модуль или задача\", fillspace:true },\r\n\t\t\t\t\t{ id:\"access\", header:[\"Просмотр\",{ content:\"masterCheckbox\" }], checkValue:'on', uncheckValue:'off', template:\"{common.checkbox()}\"},\r\n\t\t\t\t\t{ id:\"modify\", header:[\"Модификация\",{ content:\"masterCheckbox\" }], checkValue:'on', uncheckValue:'off', template:\"{common.checkbox()}\"},\r\n\t\t\t\t\t{ id:\"hiden\", header:[\"Скрыть\",{ content:\"masterCheckbox\" }], checkValue:'on', uncheckValue:'off', template:\"{common.checkbox()}\"},\t\t\t\t\t\t\t\t\r\n\t\t\t\t],\t\t\t\t\t\t  \r\n\t\t\t\tscroll:\"xy\",\r\n\t\t\t\tselect:\"row\",\r\n\t\t\t\tmaxHeight:400,\t\t\t\t\r\n\t\t\t\ttype:{template:\"{common.space()}\"},\r\n\t\t\t},\r\n\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\r\n\t\t\t\t\t\t$$(\"user-group-views\").back();\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\tlet form = $$(\"user-group-form\");\r\n\t\t\t\t\t\tif(!form.validate()) \r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\tlet request_post = form.getValues();\r\n\t\t\t\t\t\trequest_post.permissions = $$(\"grida\").serialize();\t\t\t\t\t\r\n\t\t\t\t\t\tform.save(request_post);\r\n\t\t\t\t\t\t$$(\"user-group-views\").back();\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t],\r\n\trules:{\r\n          \"name\": webix.rules.isNotEmpty,          \r\n    }\r\n};\r\n  \r\nconst user_group = {\r\n\tview:\"multiview\", \r\n    id:\"user-group-views\",\r\n    cells:[\tgrid, ui ]\r\n}\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, id:\"edit-tools\", cols: outplugins.concat(toolbar) },\r\n\t\t{ height:40, id:\"edit-form-icon\", cols: toolplug, hidden:true },\r\n\t\t{ rows:[ user_group, paging ] }\r\n\t]\r\n};\r\n ","import {JetView} \tfrom \"webix-jet\";\r\nimport outplugins from \"views/menus/export\";\r\nimport toolbar from \"views/menus/toolbar\";\r\nimport toolplug from \"views/menus/toolplug\";\r\nimport paging from \"views/modules/paging\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\n\r\nexport default class UserView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\t\t\r\n\t\t$$('user-form').bind($$('user-user'));\t\r\n\t\twebix.dp.$$(\"user-user\").config.updateFromResponse = true;\t\r\n\t}\t\r\n}\r\n\t\r\nconst grid = {\r\n\tid:\"user-user\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\r\n\tclipboard:\"selection\",\t\r\n\tmultiselect:true, \r\n\teditable:true, \r\n\teditaction:\"dblclick\",\r\n\tcheckboxRefresh:true,\r\n\tcolumns:[\r\n\t\t{id:\"user_id\", header:\"#\", sort:\"int\", width:50},\t\t\r\n\t\t{id:\"thumb2\", header:\"\", template:\"<img class='photo' src='#thumb2#'/>\", width:50 },\r\n\t\t{id:\"username\", header:[\"Логин\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\r\n\t\t{id:\"user_group_name\", header:[\"Группа\", {content:\"selectFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, //editor:\"select\", \r\n\t\t\t//options:\"index.php?route=user/user/getUserGroups&token=\"+token, \r\n\t\t},\r\n\t\t{id:\"date_added\", header:[\"Дата регистрации\", {content:\"dateFilter\"} ], sort:\"int\", minWidth:120, fillspace: 2},\r\n\t\t{id:\"status\", header:[\"Статус\", {content:\"staFilter\", css:\"webix_ss_filter\"}], sort:\"int\", minWidth:100, fillspace:2,editor:\"inline-checkbox\", template:staTemplate},\t\t\r\n\t\t{id:\"edit\", header:\"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\", width:35, \r\n\t\t\ttemplate:\"<span style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n\t\t},\r\n\t],\r\n\tpager:\"pagerA\",\r\n\t\"export\":true,\r\n\turl:\"index.php?route=user/user/getList&token=\"+token,\r\n\tsave:{\r\n\t\t\t\"insert\":\"index.php?route=user/user/add&token=\"+token,\r\n\t\t\t\"update\":\"index.php?route=user/user/edit&token=\"+token,\r\n\t\t\t\"delete\":\"index.php?route=user/user/delete&token=\"+token\r\n\t},\r\n\tonClick:{\t\t\r\n\t\t\"mdi-pencil\":function(e,id){\t\r\n\t\t\tthis.select(id);\t\t\t\t\r\n\t\t\t$$('user-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\t\t\t\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\r\n\ton:{\t\t\r\n\t\t\"onAfterAdd\":function(obj, index){\t\r\n\t\t\tvar lastid = this.getLastId();\r\n\t\t\tthis.select(lastid);\t\t\t\r\n\t\t\t$$('user-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nwebix.protoUI({\r\n  name:\"imageLabel\",  \r\n  setValue:function(value){\r\n    this.setHTML(\"<a href='' id='thumb-image' data-toggle='image' class='img-thumbnail' data-original-title='' title=''><img  src='\"+value+\r\n\t            \"'></img></a><input  name='image' value='' id='input-image' hidden='true' />\");\r\n  }  \r\n}, webix.ui.label);\r\n\r\nconst ui = {\r\n\tview:\"form\",\r\n\tid:\"user-form\",\r\n\tdataFeed: function (id) {\r\n\t\t\t\tlet current_user_id = $$('user-user').getItem(id).user_id;\t\t\t\t\r\n\t\t\t\tthis.load(\"index.php?route=user/user/getForm&token=\"+token+\"&user_id=\"+current_user_id);\t\t\t\t\r\n\t\t\t  },\t\r\n\telements:[\r\n\t\r\n\t\t\t{ view:\"imageLabel\", name:\"thumb\", id:\"thumb\",  height: 110, },\r\n\t\t\t{ view:\"text\", name:\"image\", id:\"image\", hidden:true },\t\r\n\t\t\t{ view:\"text\", name:\"thumb2\", id:\"thumb2\", hidden:true },\t\r\n\t\t\t{ view:\"text\", id:\"user_id\", name:\"user_id\", label:\"ID пользователя\", labelWidth:170, readonly:true },\r\n\t\t\t{ view:\"text\", name:\"username\", label:\"Логин\", placeholder:\"Введите логин\", labelWidth:170, required:true, invalidMessage:\"логин должен быть от 3 до 20 знаков\" },\r\n\t\t\t{ view:\"select\", name:\"user_group_id\", label:\"Группа\", labelWidth:170, editor:\"select\", options:\"index.php?route=user/user/getUserGroups&token=\"+token,\r\n\t\t\t\t\trequired:true, invalidMessage:\"поле не может быть пустым\" },\r\n\t\t\t{ view:\"text\", name:\"firstname\", label:\"Имя\", placeholder:\"Введите имя\", labelWidth:170, required:true, invalidMessage:\"поле должно содержать от 1 до 32 знаков\" },\t\t\t\r\n\t\t\t{ view:\"text\", name:\"lastname\", label:\"Фамилия\", placeholder:\"Введите фамилию\", labelWidth:170, required:true, invalidMessage:\"поле должно содержать от 1 до 32 знаков\" },\r\n\t\t\t{ view:\"text\", name:\"email\", type:'email', label:\"E-mail\", placeholder:\"Введите e-mail\", labelWidth:170, required:true, invalidMessage:\"не похоже на адрес электронной почты\" },\r\n\t\t\t{ view:\"text\", name:\"password\", type:'password', label:\"Пароль\", placeholder:\"Введите пароль\", labelWidth:170, invalidMessage:\"необходимо ввести пароль от 4 до 20 знаков\" },\r\n\t\t\t{ view:\"text\", name:\"confirm\", type:'password', label:\"Подтверждение\", placeholder:\"Подтвердите пароль\", labelWidth:170, invalidMessage:\"пароли не совпадают\" },\r\n\t\t\t{ view:\"select\", name:\"status\", label:\"Статус\", placeholder:\"Установите статус\", labelWidth:170, options:[{id:0, value:\"Отключено\"}, {id:1, value:\"Включено\"}], },\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\t\t\t\t\t\t\r\n\t\t\t\t\t\t$$(\"user-views\").back();\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\tlet form = $$(\"user-form\");\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(!form.validate()) \r\n\t\t\t\t\t\t\treturn false;\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\twebix.$$(\"thumb2\").setValue($('a#thumb-image.img-thumbnail').find('img').attr(\"src\"));\r\n\t\t\t\t\t\tif ($('input#input-image').val()) \r\n\t\t\t\t\t\t\twebix.$$(\"image\").setValue($('input#input-image').val());\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twebix.ajax().post(\"index.php?route=user/user/validateForm&token=\"+token, $$(\"user-form\").getValues(), function(text, data, XmlHttpRequest){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (text && text!=\"[]\") {\r\n\t\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\t\ttext:JSON.parse(text).warning,\r\n\t\t\t\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}); //show server side response\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tform.save();\r\n\t\t\t\t\t\t\t\t$$(\"user-views\").back();\r\n\t\t\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t],\r\n\trules:{\r\n          \"username\": function(value){ return value.length >= 3 && value.length <= 20},\r\n\t\t  \"firstname\": function(value){ return value.length >= 1 && value.length <= 32},\r\n\t\t  \"lastname\": function(value){ return value.length >= 1 && value.length <= 32},\r\n\t\t  \"email\": function(value){ return webix.rules.isEmail(value)},\r\n\t\t  \"password\": function(value){ if (value) return value.length >= 4 && value.length <= 20; else return true},\r\n\t\t  \"confirm\": function(value){ return value == this.getValues().password;},\t\t\r\n    }\r\n};\r\n  \r\n\r\nconst user_views = {\r\n\tview:\"multiview\", \r\n    id:\"user-views\",\r\n    cells:[\tgrid, ui,]\r\n}\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, id:\"edit-tools\", cols: outplugins.concat(toolbar) },\r\n\t\t{ height:40, id:\"edit-form-icon\", cols: toolplug, hidden:true },\r\n\t\t{ rows:[ user_views, paging ] }\r\n\t]\r\n};\r\n ","import {JetView} \tfrom \"webix-jet\";\r\nimport outplugins \tfrom \"views/menus/export\";\r\nimport toolbar \t\tfrom \"views/menus/toolbar\";\r\nimport toolplug \tfrom \"views/menus/toolplug\";\r\nimport paging \t\tfrom \"views/modules/paging\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\n\r\nexport default class vehicleView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\t\t\r\n\t\t$$('vehicle-form').bind($$('catalog-vehicle'));\t\r\n\t\twebix.dp.$$(\"catalog-vehicle\").config.updateFromResponse = true;\t\r\n\t}\t\r\n}\r\n\t\r\nconst grid = {\r\n\tid:\"catalog-vehicle\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\r\n\tclipboard:\"selection\",\t\r\n\tmultiselect:true, \r\n\teditable:true, \r\n\teditaction:\"dblclick\",\r\n\tcheckboxRefresh:true,\r\n\t//pager:\"pagerA\",\t\r\n\t\"export\":true,\t \r\n\tcolumns:[\r\n\t\t{id:\"vehicle_id\", header:\"#\", sort:\"int\", width:50},\t\t\r\n\t\t{id:\"vehiclename\", header:[\"Модель\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\t\t\r\n\t\t{id:\"sort_order\", header:{text:\"Порядок сортировки\", height:60, css:\"multiline\"}, sort:\"int\", minWidth:80, fillspace: 1, editor:\"text\",},\t\r\n\t\t{id:\"status\", header:[\"Статус\", {content:\"staFilter\", css:\"webix_ss_filter\"}], sort:\"int\", minWidth:100, fillspace:2,editor:\"inline-checkbox\", template:staTemplate},\t\t\r\n\t\t{id:\"edit\", header:\"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\", width:35, \r\n\t\t\ttemplate:\"<span style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n\t\t},\r\n\t],\t\r\n\turl:\t\"index.php?route=catalog/vehicle/getList&token=\"+token,\r\n\tsave:{\r\n\t\t\t\"insert\":\"index.php?route=catalog/vehicle/add&token=\"+token,\r\n\t\t\t\"update\":\"index.php?route=catalog/vehicle/edit&token=\"+token,\r\n\t\t\t\"delete\":\"index.php?route=catalog/vehicle/delete&token=\"+token\r\n\t},\r\n\tpager:{\r\n\t\tautosize:true, \r\n\t\tgroup:5,\r\n\t   // level:1,\r\n\t\ttemplate:function(data, common){\r\n\t\t  return common.first(data, common)\t+\r\n\t\t\tcommon.prev(data, common)\t+ \r\n\t\t\tcommon.pages(data, common)\t+\r\n\t\t\tcommon.next(data, common)\t+\r\n\t\t\tcommon.last(data, common)\r\n\t\t}\r\n\t},\t\r\n\tonClick:{\t\t\r\n\t\t\"mdi-pencil\":function(e,id){\r\n\t\t\tthis.select(id);\t\r\n\t\t\t$$('vehicle-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\t\t\t\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\r\n\ton:{\t\t\r\n\t\t\"onAfterAdd\":function(obj, index){\t\r\n\t\t\tvar lastid = this.getLastId();\r\n\t\t\tthis.select(lastid);\t\t\t\r\n\t\t\t$$('vehicle-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\t\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nconst ui = {\r\n\tview:\"form\",\r\n\tid:\"vehicle-form\",\r\n\t//multiview:{ keepViews:true },\r\n\tdataFeed: function (id) {\r\n\t\t\t\tlet current_vehicle_id = $$('catalog-vehicle').getItem(id).vehicle_id;\t\t\t\t\r\n\t\t\t\tthis.load(\"index.php?route=catalog/vehicle/getForm&token=\"+token+\"&vehicle_id=\"+current_vehicle_id);\t\t\t\t\r\n\t\t\t  },\t\r\n\telements:[\r\n\t\r\n\t\t\t{ view:\"text\", id:\"vehicle_id\", name:\"vehicle_id\", label:\"ID трекера\", labelWidth:170, readonly:true },\t\t\t\r\n\t\t\t{ view:\"text\", name:\"vehiclename\", label:\"Модель\", placeholder:\"Введите название\", labelWidth:170, required:true, invalidMessage:\"название должно быть от 3 до 32 знаков\" },\r\n\t\t\t\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", name:\"sort_order\", label:\"Порядок сортировки\",  labelWidth:170 },\r\n\t\t\t\t{ view:\"select\", name:\"status\", label:\"Статус\", labelWidth:170, labelAlign: \"right\", options:[{id:0, value:\"Отключено\"}, {id:1, value:\"Включено\"}], },\r\n\t\t\t]},\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\t\t\t\t\t\t\r\n\t\t\t\t\t\t$$(\"vehicle-views\").back();\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\tlet form_for_save = $$(\"vehicle-form\");\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(!form_for_save.validate()) \r\n\t\t\t\t\t\t\treturn false;\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\twebix.ajax().post(\"index.php?route=catalog/wialongroup/validateForm&token=\"+token, form_for_save.getValues(), function(text, data, XmlHttpRequest){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (text && text!=\"[]\") {\r\n\t\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\t\ttext:JSON.parse(text).warning,\r\n\t\t\t\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}); //show server side response\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t//this.getFormView().save()\r\n\t\t\t\t\t\t\t\tform_for_save.save();\r\n\t\t\t\t\t\t\t\t$$(\"vehicle-views\").back();\r\n\t\t\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t],\r\n\trules:{\r\n          \"vehiclename\": function(value){ return value.length >= 3 && value.length <= 32},\t\t  \t\r\n    }\r\n};\r\n  \r\n\r\nconst vehicle_views = {\r\n\tview:\"multiview\",\r\n\tkeepViews:true,\r\n    id:\"vehicle-views\",\r\n    cells:[\tgrid, ui,]\r\n}\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, id:\"edit-tools\", cols: outplugins.concat(toolbar) },\r\n\t\t{ height:40, id:\"edit-form-icon\", cols: toolplug, hidden:true },\r\n\t\t{ rows:[ vehicle_views, paging ] }\r\n\t]\r\n};\r\n ","webix.protoUI({\r\n\tname:\"ckeditor\",\r\n\t$init:function(){\r\n\t\tthis.$view.className += \" webix_selectable\";\r\n\t},\r\n\tdefaults:{\r\n\t\tborderless:true,\r\n\t\ttoolbar: [\r\n\t\t\t[ \"Bold\", \"Italic\", \"-\", \"NumberedList\", \"BulletedList\", \"-\", \"Link\", \"Unlink\" ],\r\n\t\t\t[ \"FontSize\", \"TextColor\", \"BGColor\" ]\r\n\t\t]\r\n\t},\r\n\t_init_ckeditor_once:function(){\r\n\t\tvar tid = this.config.textAreaID = \"t\"+webix.uid();\r\n\t\tthis.$view.innerHTML = \"<textarea id='\"+tid+\"'>\"+this.config.value+\"</textarea>\";\r\n\r\n\t\twindow.CKEDITOR_BASEPATH = webix.codebase+\"ckeditor/\";\r\n\t\tvar t = {\r\n\t\t\ttoolbar: this.config.toolbar,\r\n\t\t\twidth:this.$width -2,\r\n\t\t\theight:this.$height - 44\r\n\t\t};\r\n\t\twebix.extend(t,this.config.editor||{});\r\n\t\twebix.require(\"ckeditor/ckeditor.js\", function(){\r\n\t\t\tthis._3rd_editor = window.CKEDITOR.replace( this.config.textAreaID, t);\r\n\t\t}, this);\r\n\t},\r\n\t_set_inner_size:function(x, y){\r\n\t\tif (!this._3rd_editor || !this._3rd_editor.container || !this.$width) return;\r\n\t\tthis._3rd_editor.resize(x, y);\r\n\t},\r\n\t$setSize:function(x,y){\r\n\t\tif (webix.ui.view.prototype.$setSize.call(this, x, y)){\r\n\t\t\tthis._init_ckeditor_once();\r\n\t\t\tthis._set_inner_size(x,y);\r\n\t\t}\r\n\t},\r\n\tsetValue:function(value){\r\n\t\tthis.config.value = value;\r\n\t\tif (this._3rd_editor)\r\n\t\t\tthis._3rd_editor.setData(value);\r\n\t\telse webix.delay(function(){\r\n\t\t\tthis.setValue(value);\r\n\t\t},this,[],100);\r\n\t},\r\n\tgetValue:function(){\r\n\t\treturn this._3rd_editor?this._3rd_editor.getData():this.config.value;\r\n\t},\r\n\tfocus:function(){\r\n\t\tthis._focus_await = true;\r\n\t\tif (this._3rd_editor)\r\n\t\t\tthis._3rd_editor.focus();\r\n\t},\r\n\tgetEditor:function(){\r\n\t\treturn this._3rd_editor.getData();\r\n\t}\r\n}, webix.ui.view);","// icon button with count marker\r\nwebix.protoUI({\r\n\tname:\"icon\",\r\n\t$skin:function(){\r\n\t\tthis.defaults.height = webix.skin.$active.inputHeight;\r\n\t},\r\n\tdefaults:{\r\n\t\ttemplate:function(obj){\r\n\t\t\tvar html = \"<button style='height:100%;width:100%;line-height:\"+obj.aheight+\"px' class='webix_icon_button'>\";\r\n\t\t\thtml += \"<span class='webix_icon \"+obj.icon+\"'></span>\";\r\n\t\t\tif(obj.value)\r\n\t\t\t\thtml += \"<span class='webix_icon_count'>\"+obj.value+\"</span>\";\r\n\t\t\thtml += \"</button>\";\r\n\t\t\treturn html;\r\n\t\t},\r\n\t\twidth:33\r\n\t},\r\n\t_set_inner_size:function(){\r\n\r\n\t}\r\n}, webix.ui.button);","// Type for left menu\r\nwebix.type(webix.ui.tree, {\r\n\tname:\"menuTree\",\r\n\theight: 40,\r\n\ticon:function(){\r\n\t\treturn \"\";\r\n\t},\r\n\tfolder:function(obj){\r\n\t\tif(obj.icon)\r\n\t\t\treturn \"<span class='webix_icon icon fa-\"+obj.icon+\"'></span>\";\r\n\t\treturn \"\";\r\n\t}\r\n});\r\nwebix.type(webix.ui.tree, {\r\n\tname:\"menuTree2\",\r\n\theight: 40,\r\n\r\n\ticon:function(obj){\r\n\t\tvar html = \"\";\r\n\t\tvar open = \"\";\r\n\t\tfor (var i=1; i<=obj.$level; i++){\r\n\t\t\tif (i==obj.$level && obj.$count){\r\n\t\t\t\tvar dir = obj.open?\"down\":\"right\";\r\n\t\t\t\thtml+=\"<span class='\"+open+\" webix_icon fa-angle-\"+dir+\"'></span>\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn html;\r\n\t},\r\n\tfolder:function(obj){\r\n\t\tif(obj.icon)\r\n\t\t\treturn \"<span class='webix_icon icon fa-\"+obj.icon+\"'></span>\";\r\n\t\treturn \"\";\r\n\t}\r\n});","webix.protoUI({\r\n\tname:\"dhx-scheduler\",\r\n\tdefaults:{\r\n\t\ttabs:[\"day\", \"week\", \"month\"]\r\n\t},\r\n\tgetScheduler:function(){\r\n\t\treturn this._scheduler;\r\n\t},\r\n\t$init:function(){\r\n\t\tthis.$ready.push(function(){\r\n\t\t\tvar tabs = this.config.tabs;\r\n\r\n\t\t\tvar html = [\"<div class='dhx_cal_container' style='width:100%; height:100%;'><div class='dhx_cal_navline'><div class='dhx_cal_prev_button'>&nbsp;</div><div class='dhx_cal_next_button'>&nbsp;</div><div class='dhx_cal_today_button'></div><div class='dhx_cal_date'></div>\"];\r\n\t\t\tif (tabs)\r\n\t\t\t\tfor (var i=0; i<tabs.length; i++)\r\n\t\t\t\t\thtml.push(\"<div class='dhx_cal_tab\" +\r\n\t\t\t\t\t\t((i===0)?\" dhx_cal_tab_first\":\"\") +\r\n\t\t\t\t\t\t((i==tabs.length-1)?\" dhx_cal_tab_last\":\"\") +\r\n\t\t\t\t\t\t\"' name='\"+tabs[i]+\"_tab' ></div>\");\r\n\t\t\thtml.push(\"</div><div class='dhx_cal_header'></div><div class='dhx_cal_data'></div></div>\");\r\n\r\n\t\t\tthis.$view.innerHTML = html.join(\"\");\r\n\r\n\t\t\t//because we are not messing with resize model\r\n\t\t\t//if setSize will be implemented - below line can be replaced with webix.ready\r\n\t\t\twebix.delay(webix.bind(this._render_once, this));\r\n\t\t});\r\n\t},\r\n\t_render_once:function(){\r\n\t\tvar scheduler = this._scheduler = window.Scheduler ? window.Scheduler.getSchedulerInstance() : window.scheduler;\r\n\r\n\t\tif (this.config.init)\r\n\t\t\tthis.config.init.call(this);\r\n\r\n\t\tscheduler.init(this.$view.firstChild, (this.config.date||new Date()), (this.config.mode||\"week\"));\r\n\t\tif (this.config.ready)\r\n\t\t\tthis.config.ready.call(this);\r\n\t}\r\n}, webix.ui.view);","import {JetView} \tfrom \"webix-jet\";\r\n//import {data} \tfrom \"models/wialongroups\";\r\nimport outplugins\tfrom \"views/menus/export\";\r\nimport toolbar \t\tfrom \"views/menus/toolbar\";\r\nimport toolplug \tfrom \"views/menus/toolplug\";\r\nimport paging \t\tfrom \"views/modules/paging\";\r\nimport eyeFilter \tfrom \"views/modules/groupfilter\";\r\nimport staFilter \tfrom \"views/modules/statusfilter\";\r\nimport staTemplate \tfrom \"views/templates/status\";\r\nimport eyeTemplate \tfrom \"views/templates/eye\";\r\n\r\nexport default class WialongroupView extends JetView {\r\n\tconfig(){\r\n\t\treturn layout;\t\t\r\n\t}\r\n\tinit(view){\t\r\n\t\t//view.queryView({ view:\"datatable\" }).parse(data);\r\n\t\t$$('add').disable();\r\n\t\t$$('delete').disable();\r\n\t\t$$('wialon_group-form').bind($$('catalog-wialongroup'));\t\r\n\t\twebix.dp.$$(\"catalog-wialongroup\").config.updateFromResponse = true;\t\t\r\n\t}\t\r\n}\r\n\t\r\nconst grid = {\r\n\tid:\"catalog-wialongroup\",\r\n\tview:\"datatable\",\r\n\tselect:\"row\",\r\n\tclipboard:\"selection\",\t\r\n\tmultiselect:true, \r\n\teditable:true, \r\n\teditaction:\"dblclick\",\r\n\tcheckboxRefresh:true,\r\n\tpager:\"pagerA\",\r\n\t\"export\":true,\r\n\tcolumns:[\r\n\t\t{id:\"wialon_group_id\", header:\"#\", sort:\"int\", width:50},\t\t\r\n\t\t{id:\"wialon_groupname\", header:[\"Название\", {content:\"textFilter\"} ], sort:\"string\", minWidth:120, fillspace: 2, editor:\"text\"},\t\t\r\n\t\t{id:\"wialon_id\", header:{text:\"Wialon ID группы\", height:60, css:\"multiline\"}, sort:\"int\", minWidth:80, fillspace: 1},\r\n\t\t{id:\"servername\", header:[\"Сервер\", {content:\"selectFilter\"} ], sort:\"int\", minWidth:120, fillspace: 1},\t\t\r\n\t\t{id:\"wialon_group_off\", header:[\"Вид группы\", {content:\"eyeFilter\", css:\"webix_ss_filter\"}], sort:\"int\", width:110, css:{ \"text-align\":\"center\"},template:eyeTemplate},\r\n\t\t{id:\"status\", header:[\"Статус\", {content:\"staFilter\", css:\"webix_ss_filter\"}], sort:\"int\", minWidth:100, fillspace:1,editor:\"inline-checkbox\", template:staTemplate},\t\t\r\n\t\t{id:\"edit\", header:\"<span class='webix_icon mdi mdi-pencil-box-outline'></span>\", width:35, \r\n\t\t\ttemplate:\"<span style=' cursor:pointer;' class='webix_icon mdi mdi-pencil'></span>\"\r\n\t\t},\r\n\t],\r\n\turl:\t\"index.php?route=catalog/wialongroup/getList&token=\"+token,\r\n\tsave:{\r\n\t\t\t\"insert\":\"index.php?route=catalog/wialongroup/add&token=\"+token,\r\n\t\t\t\"update\":\"index.php?route=catalog/wialongroup/edit&token=\"+token,\r\n\t\t\t\"delete\":\"index.php?route=catalog/wialongroup/delete&token=\"+token\r\n\t},\r\n\tonClick:{\t\t\r\n\t\t\"mdi-pencil\":function(e,id){\r\n\t\t\tthis.select(id);\t\t\t\r\n\t\t\t$$('wialon_group-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\t\r\n\t\t}\r\n\t},\r\n\ton:{\t\t\r\n\t\t\"onAfterAdd\":function(obj, index){\t\r\n\t\t\tvar lastid = this.getLastId();\r\n\t\t\tthis.select(lastid);\t\t\t\r\n\t\t\t$$('wialon_group-form').show();\r\n\t\t\t$$('edit-tools').hide();\r\n\t\t\t$$('edit-form-icon').show();\r\n\t\t\t$$('paging').hide();\t\t\r\n\t\t}\r\n\t},\t\t\r\n\tready:function(){\r\n\t\twebix.extend(this, webix.ProgressBar);\r\n\t}\r\n};\r\n\r\nconst ui = {\r\n\tview:\"form\",\r\n\tid:\"wialon_group-form\",\r\n\tmultiview:{ keepViews:true },\r\n\tdataFeed: function (id) {\r\n\t\t\t\tlet current_wialon_group_id = $$('catalog-wialongroup').getItem(id).wialon_group_id;\t\t\t\t\r\n\t\t\t\tthis.load(\"index.php?route=catalog/wialongroup/getForm&token=\"+token+\"&wialon_group_id=\"+current_wialon_group_id);\t\t\t\t\r\n\t\t\t  },\t\r\n\telements:[\t\t\t\r\n\t\t\t{ view:\"text\", id:\"wialon_group_id\", name:\"wialon_group_id\", label:\"ID группы\", labelWidth:170, readonly:true },\t\t\t\r\n\t\t\t{ view:\"text\", name:\"wialon_groupname\", label:\"Название\", placeholder:\"Введите название\", labelWidth:170, required:true, invalidMessage:\"название должно быть от 3 до 128 знаков\" },\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"text\", name:\"wialon_id\", label:\"Wialon ID\", labelWidth:170,  readonly:true },\r\n\t\t\t\t{ view:\"text\", name:\"servername\",  label:\"Сервер\", labelWidth:170, labelAlign: \"right\", readonly:true },\r\n\t\t\t]},\r\n\t\t\t{ view:\"select\", name:\"owner_id\", label:\"Владелец группы\", labelWidth:170, options:\"index.php?route=catalog/wialongroup/getOwners&token=\"+token},\r\n\t\t\t{ view:\"select\", name:\"tarif_id\", label:\"Тариф группы\", labelWidth:170, options:\"index.php?route=catalog/wialongroup/getTarifs&token=\"+token},\r\n\t\t\t{ view:\"select\", name:\"discount_id\", label:\"Скидка для группы\", labelWidth:170, options:\"index.php?route=catalog/wialongroup/getDiscounts&token=\"+token},\r\n\t\t\t{cols:[\r\n\t\t\t\t{ view:\"select\", name:\"wialon_group_off\", label:\"Скрытая\", labelWidth:170, options:[{id:0, value:\"Нет\"}, {id:1, value:\"Да\"}],  readonly:true },\r\n\t\t\t\t{ view:\"select\", name:\"status\", label:\"Статус\", labelWidth:170, labelAlign: \"right\", options:[{id:0, value:\"Отключено\"}, {id:1, value:\"Включено\"}], },\r\n\t\t\t]},\t\t\t\r\n\t\t\t{\r\n\t\t\t\tmargin:10,\r\n\t\t\t\tcols:[\r\n\t\t\t\t\t{},\r\n\t\t\t\t\t{ view:\"button\", value:\"Отменить\", width:120, click:function(){\t\t\t\t\t\t\r\n\t\t\t\t\t\t$$(\"wialon_group-views\").back();\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}},\r\n\t\t\t\t\t{ view:\"button\", value:\"Сохранить\", type:\"form\", width:120, click:function(){\r\n\t\t\t\t\t\tlet savind_form = $$(\"wialon_group-form\");\r\n\t\t\t\t\t\tif(savind_form.isDirty()){\t\r\n\t\t\t\t\t\t\tif(!savind_form.validate()) \r\n\t\t\t\t\t\t\t\treturn false;\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\twebix.ajax().post(\"index.php?route=catalog/wialongroup/validateForm&token=\"+token, savind_form.getValues(), function(text, data, XmlHttpRequest){\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (text && text!=\"[]\") {\r\n\t\t\t\t\t\t\t\t\twebix.message({\r\n\t\t\t\t\t\t\t\t\t\ttext:JSON.parse(text).warning,\r\n\t\t\t\t\t\t\t\t\t\ttype:\"error\", \r\n\t\t\t\t\t\t\t\t\t\texpire: 5000,\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}); //show server side response\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tdate_popup.show();\r\n\t\t\t\t\t\t\t\t\t//savind_form.save();\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t$$(\"wialon_group-views\").back();\r\n\t\t\t\t\t\t$$('paging').show();\r\n\t\t\t\t\t\t$$('edit-form-icon').hide();\r\n\t\t\t\t\t\t$$('edit-tools').show();\r\n\t\t\t\t\t}}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t],\r\n\ton: {\r\n\t\t\"onChange\": function(newv, oldv){\r\n\t\t\tvar changed = this.getDirtyValues();\r\n\t\t\tif (changed.discount_id)\r\n\t\t\t\tthis.setValues({ old_discount_id : oldv,},true);\r\n\t\t\tif (changed.tarif_id)\r\n\t\t\t\tthis.setValues({ old_tarif_id : oldv,},true);\t\t\t\r\n\t\t},\r\n\t},\t\t\r\n\trules:{\r\n          \"wialon_groupname\": function(value){ return value.length >= 3 && value.length <= 128},\t\t  \t\r\n    }\r\n};\r\n\r\nconst date_popup = webix.ui({\r\n\tview:\"window\",\t\r\n\tmodal:true,\r\n\tposition:\"center\", \r\n\thead:\"Какой датой внести изменения?\",\t\r\n\tbody:{\r\n     view: \"form\",     \r\n     elements:[       \r\n       {view:\"datepicker\", name:\"set_date_changed\", value:new Date(), format:\"%d.%m.%Y\" , },       \r\n       {view: \"button\", label: \"Подтверждение\", type:\"form\", click: function(){\t\t   \r\n\t\t\tvar date_changed = this.getParentView().getValues().set_date_changed;\t\t\t\r\n\t\t\t$$(\"wialon_group-form\").setValues({ date_changed: date_changed,},true);\r\n\t\t\t$$(\"wialon_group-form\").save();\t\t\t\r\n\t\t\tthis.getTopParentView().hide();\r\n       }}\r\n     ]\r\n  }\r\n});\r\n  \r\nconst wialon_group_views = {\r\n\tview:\"multiview\", \r\n    id:\"wialon_group-views\",\r\n    cells:[\tgrid, ui,]\r\n}\r\n\r\nconst layout = {\r\n\ttype: \"space\",\r\n\trows:[\r\n\t\t{ height:40, id:\"edit-tools\", cols: outplugins.concat(toolbar) },\r\n\t\t{ height:40, id:\"edit-form-icon\", cols: toolplug, hidden:true },\r\n\t\t{ rows:[ wialon_group_views, paging ] }\r\n\t]\r\n};\r\n "],"sourceRoot":""}